{"version":3,"file":"server.js","mappings":"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","sources":["webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/common/api.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/common/cancellation.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/common/connection.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/common/disposable.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/common/events.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/common/is.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/common/linkedMap.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/common/messageBuffer.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/common/messageReader.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/common/messageWriter.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/common/messages.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/common/ral.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/common/semaphore.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/node/main.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/node/ril.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/node.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/api.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/connection.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/messages.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.callHierarchy.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.colorProvider.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.configuration.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.declaration.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.fileOperations.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.foldingRange.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.implementation.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.linkedEditingRange.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.moniker.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.progress.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.selectionRange.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.semanticTokens.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.showDocument.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.typeDefinition.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.workspaceFolders.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/utils/is.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/node/main.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/node.js","webpack://ws2812svr/./node_modules/vscode-languageserver-textdocument/lib/esm/main.js","webpack://ws2812svr/./node_modules/vscode-languageserver-types/lib/esm/main.js","webpack://ws2812svr/./node_modules/vscode-languageserver/lib/common/api.js","webpack://ws2812svr/./node_modules/vscode-languageserver/lib/common/callHierarchy.js","webpack://ws2812svr/./node_modules/vscode-languageserver/lib/common/configuration.js","webpack://ws2812svr/./node_modules/vscode-languageserver/lib/common/fileOperations.js","webpack://ws2812svr/./node_modules/vscode-languageserver/lib/common/linkedEditingRange.js","webpack://ws2812svr/./node_modules/vscode-languageserver/lib/common/moniker.js","webpack://ws2812svr/./node_modules/vscode-languageserver/lib/common/progress.js","webpack://ws2812svr/./node_modules/vscode-languageserver/lib/common/semanticTokens.js","webpack://ws2812svr/./node_modules/vscode-languageserver/lib/common/server.js","webpack://ws2812svr/./node_modules/vscode-languageserver/lib/common/showDocument.js","webpack://ws2812svr/./node_modules/vscode-languageserver/lib/common/utils/is.js","webpack://ws2812svr/./node_modules/vscode-languageserver/lib/common/utils/uuid.js","webpack://ws2812svr/./node_modules/vscode-languageserver/lib/common/workspaceFolders.js","webpack://ws2812svr/./node_modules/vscode-languageserver/lib/node/files.js","webpack://ws2812svr/./node_modules/vscode-languageserver/lib/node/main.js","webpack://ws2812svr/./node_modules/vscode-languageserver/node.js","webpack://ws2812svr/external node-commonjs \"child_process\"","webpack://ws2812svr/external node-commonjs \"crypto\"","webpack://ws2812svr/external node-commonjs \"fs\"","webpack://ws2812svr/external node-commonjs \"net\"","webpack://ws2812svr/external node-commonjs \"os\"","webpack://ws2812svr/external node-commonjs \"path\"","webpack://ws2812svr/external node-commonjs \"url\"","webpack://ws2812svr/external node-commonjs \"util\"","webpack://ws2812svr/webpack/bootstrap","webpack://ws2812svr/webpack/runtime/define property getters","webpack://ws2812svr/webpack/runtime/hasOwnProperty shorthand","webpack://ws2812svr/webpack/runtime/make namespace object","webpack://ws2812svr/./src/server.ts"],"sourcesContent":["\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n/// <reference path=\"../../typings/thenable.d.ts\" />\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.Trace = exports.ProgressType = exports.createMessageConnection = exports.NullLogger = exports.ConnectionOptions = exports.ConnectionStrategy = exports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = exports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = exports.CancellationToken = exports.CancellationTokenSource = exports.Emitter = exports.Event = exports.Disposable = exports.ParameterStructures = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.ErrorCodes = exports.ResponseError = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType0 = exports.RequestType = exports.RAL = void 0;\r\nexports.CancellationStrategy = void 0;\r\nconst messages_1 = require(\"../common/messages\");\r\nObject.defineProperty(exports, \"RequestType\", { enumerable: true, get: function () { return messages_1.RequestType; } });\r\nObject.defineProperty(exports, \"RequestType0\", { enumerable: true, get: function () { return messages_1.RequestType0; } });\r\nObject.defineProperty(exports, \"RequestType1\", { enumerable: true, get: function () { return messages_1.RequestType1; } });\r\nObject.defineProperty(exports, \"RequestType2\", { enumerable: true, get: function () { return messages_1.RequestType2; } });\r\nObject.defineProperty(exports, \"RequestType3\", { enumerable: true, get: function () { return messages_1.RequestType3; } });\r\nObject.defineProperty(exports, \"RequestType4\", { enumerable: true, get: function () { return messages_1.RequestType4; } });\r\nObject.defineProperty(exports, \"RequestType5\", { enumerable: true, get: function () { return messages_1.RequestType5; } });\r\nObject.defineProperty(exports, \"RequestType6\", { enumerable: true, get: function () { return messages_1.RequestType6; } });\r\nObject.defineProperty(exports, \"RequestType7\", { enumerable: true, get: function () { return messages_1.RequestType7; } });\r\nObject.defineProperty(exports, \"RequestType8\", { enumerable: true, get: function () { return messages_1.RequestType8; } });\r\nObject.defineProperty(exports, \"RequestType9\", { enumerable: true, get: function () { return messages_1.RequestType9; } });\r\nObject.defineProperty(exports, \"ResponseError\", { enumerable: true, get: function () { return messages_1.ResponseError; } });\r\nObject.defineProperty(exports, \"ErrorCodes\", { enumerable: true, get: function () { return messages_1.ErrorCodes; } });\r\nObject.defineProperty(exports, \"NotificationType\", { enumerable: true, get: function () { return messages_1.NotificationType; } });\r\nObject.defineProperty(exports, \"NotificationType0\", { enumerable: true, get: function () { return messages_1.NotificationType0; } });\r\nObject.defineProperty(exports, \"NotificationType1\", { enumerable: true, get: function () { return messages_1.NotificationType1; } });\r\nObject.defineProperty(exports, \"NotificationType2\", { enumerable: true, get: function () { return messages_1.NotificationType2; } });\r\nObject.defineProperty(exports, \"NotificationType3\", { enumerable: true, get: function () { return messages_1.NotificationType3; } });\r\nObject.defineProperty(exports, \"NotificationType4\", { enumerable: true, get: function () { return messages_1.NotificationType4; } });\r\nObject.defineProperty(exports, \"NotificationType5\", { enumerable: true, get: function () { return messages_1.NotificationType5; } });\r\nObject.defineProperty(exports, \"NotificationType6\", { enumerable: true, get: function () { return messages_1.NotificationType6; } });\r\nObject.defineProperty(exports, \"NotificationType7\", { enumerable: true, get: function () { return messages_1.NotificationType7; } });\r\nObject.defineProperty(exports, \"NotificationType8\", { enumerable: true, get: function () { return messages_1.NotificationType8; } });\r\nObject.defineProperty(exports, \"NotificationType9\", { enumerable: true, get: function () { return messages_1.NotificationType9; } });\r\nObject.defineProperty(exports, \"ParameterStructures\", { enumerable: true, get: function () { return messages_1.ParameterStructures; } });\r\nconst disposable_1 = require(\"../common/disposable\");\r\nObject.defineProperty(exports, \"Disposable\", { enumerable: true, get: function () { return disposable_1.Disposable; } });\r\nconst events_1 = require(\"../common/events\");\r\nObject.defineProperty(exports, \"Event\", { enumerable: true, get: function () { return events_1.Event; } });\r\nObject.defineProperty(exports, \"Emitter\", { enumerable: true, get: function () { return events_1.Emitter; } });\r\nconst cancellation_1 = require(\"../common/cancellation\");\r\nObject.defineProperty(exports, \"CancellationTokenSource\", { enumerable: true, get: function () { return cancellation_1.CancellationTokenSource; } });\r\nObject.defineProperty(exports, \"CancellationToken\", { enumerable: true, get: function () { return cancellation_1.CancellationToken; } });\r\nconst messageReader_1 = require(\"../common/messageReader\");\r\nObject.defineProperty(exports, \"MessageReader\", { enumerable: true, get: function () { return messageReader_1.MessageReader; } });\r\nObject.defineProperty(exports, \"AbstractMessageReader\", { enumerable: true, get: function () { return messageReader_1.AbstractMessageReader; } });\r\nObject.defineProperty(exports, \"ReadableStreamMessageReader\", { enumerable: true, get: function () { return messageReader_1.ReadableStreamMessageReader; } });\r\nconst messageWriter_1 = require(\"../common/messageWriter\");\r\nObject.defineProperty(exports, \"MessageWriter\", { enumerable: true, get: function () { return messageWriter_1.MessageWriter; } });\r\nObject.defineProperty(exports, \"AbstractMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.AbstractMessageWriter; } });\r\nObject.defineProperty(exports, \"WriteableStreamMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.WriteableStreamMessageWriter; } });\r\nconst connection_1 = require(\"../common/connection\");\r\nObject.defineProperty(exports, \"ConnectionStrategy\", { enumerable: true, get: function () { return connection_1.ConnectionStrategy; } });\r\nObject.defineProperty(exports, \"ConnectionOptions\", { enumerable: true, get: function () { return connection_1.ConnectionOptions; } });\r\nObject.defineProperty(exports, \"NullLogger\", { enumerable: true, get: function () { return connection_1.NullLogger; } });\r\nObject.defineProperty(exports, \"createMessageConnection\", { enumerable: true, get: function () { return connection_1.createMessageConnection; } });\r\nObject.defineProperty(exports, \"ProgressType\", { enumerable: true, get: function () { return connection_1.ProgressType; } });\r\nObject.defineProperty(exports, \"Trace\", { enumerable: true, get: function () { return connection_1.Trace; } });\r\nObject.defineProperty(exports, \"TraceFormat\", { enumerable: true, get: function () { return connection_1.TraceFormat; } });\r\nObject.defineProperty(exports, \"SetTraceNotification\", { enumerable: true, get: function () { return connection_1.SetTraceNotification; } });\r\nObject.defineProperty(exports, \"LogTraceNotification\", { enumerable: true, get: function () { return connection_1.LogTraceNotification; } });\r\nObject.defineProperty(exports, \"ConnectionErrors\", { enumerable: true, get: function () { return connection_1.ConnectionErrors; } });\r\nObject.defineProperty(exports, \"ConnectionError\", { enumerable: true, get: function () { return connection_1.ConnectionError; } });\r\nObject.defineProperty(exports, \"CancellationReceiverStrategy\", { enumerable: true, get: function () { return connection_1.CancellationReceiverStrategy; } });\r\nObject.defineProperty(exports, \"CancellationSenderStrategy\", { enumerable: true, get: function () { return connection_1.CancellationSenderStrategy; } });\r\nObject.defineProperty(exports, \"CancellationStrategy\", { enumerable: true, get: function () { return connection_1.CancellationStrategy; } });\r\nconst ral_1 = require(\"./ral\");\r\nexports.RAL = ral_1.default;\r\n//# sourceMappingURL=api.js.map","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CancellationTokenSource = exports.CancellationToken = void 0;\r\nconst ral_1 = require(\"./ral\");\r\nconst Is = require(\"./is\");\r\nconst events_1 = require(\"./events\");\r\nvar CancellationToken;\r\n(function (CancellationToken) {\r\n    CancellationToken.None = Object.freeze({\r\n        isCancellationRequested: false,\r\n        onCancellationRequested: events_1.Event.None\r\n    });\r\n    CancellationToken.Cancelled = Object.freeze({\r\n        isCancellationRequested: true,\r\n        onCancellationRequested: events_1.Event.None\r\n    });\r\n    function is(value) {\r\n        const candidate = value;\r\n        return candidate && (candidate === CancellationToken.None\r\n            || candidate === CancellationToken.Cancelled\r\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\r\n    }\r\n    CancellationToken.is = is;\r\n})(CancellationToken = exports.CancellationToken || (exports.CancellationToken = {}));\r\nconst shortcutEvent = Object.freeze(function (callback, context) {\r\n    const handle = ral_1.default().timer.setTimeout(callback.bind(context), 0);\r\n    return { dispose() { ral_1.default().timer.clearTimeout(handle); } };\r\n});\r\nclass MutableToken {\r\n    constructor() {\r\n        this._isCancelled = false;\r\n    }\r\n    cancel() {\r\n        if (!this._isCancelled) {\r\n            this._isCancelled = true;\r\n            if (this._emitter) {\r\n                this._emitter.fire(undefined);\r\n                this.dispose();\r\n            }\r\n        }\r\n    }\r\n    get isCancellationRequested() {\r\n        return this._isCancelled;\r\n    }\r\n    get onCancellationRequested() {\r\n        if (this._isCancelled) {\r\n            return shortcutEvent;\r\n        }\r\n        if (!this._emitter) {\r\n            this._emitter = new events_1.Emitter();\r\n        }\r\n        return this._emitter.event;\r\n    }\r\n    dispose() {\r\n        if (this._emitter) {\r\n            this._emitter.dispose();\r\n            this._emitter = undefined;\r\n        }\r\n    }\r\n}\r\nclass CancellationTokenSource {\r\n    get token() {\r\n        if (!this._token) {\r\n            // be lazy and create the token only when\r\n            // actually needed\r\n            this._token = new MutableToken();\r\n        }\r\n        return this._token;\r\n    }\r\n    cancel() {\r\n        if (!this._token) {\r\n            // save an object by returning the default\r\n            // cancelled token when cancellation happens\r\n            // before someone asks for the token\r\n            this._token = CancellationToken.Cancelled;\r\n        }\r\n        else {\r\n            this._token.cancel();\r\n        }\r\n    }\r\n    dispose() {\r\n        if (!this._token) {\r\n            // ensure to initialize with an empty token if we had none\r\n            this._token = CancellationToken.None;\r\n        }\r\n        else if (this._token instanceof MutableToken) {\r\n            // actually dispose\r\n            this._token.dispose();\r\n        }\r\n    }\r\n}\r\nexports.CancellationTokenSource = CancellationTokenSource;\r\n//# sourceMappingURL=cancellation.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.createMessageConnection = exports.ConnectionOptions = exports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.Trace = exports.NullLogger = exports.ProgressType = void 0;\r\nconst ral_1 = require(\"./ral\");\r\nconst Is = require(\"./is\");\r\nconst messages_1 = require(\"./messages\");\r\nconst linkedMap_1 = require(\"./linkedMap\");\r\nconst events_1 = require(\"./events\");\r\nconst cancellation_1 = require(\"./cancellation\");\r\nvar CancelNotification;\r\n(function (CancelNotification) {\r\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\r\n})(CancelNotification || (CancelNotification = {}));\r\nvar ProgressNotification;\r\n(function (ProgressNotification) {\r\n    ProgressNotification.type = new messages_1.NotificationType('$/progress');\r\n})(ProgressNotification || (ProgressNotification = {}));\r\nclass ProgressType {\r\n    constructor() {\r\n    }\r\n}\r\nexports.ProgressType = ProgressType;\r\nvar StarRequestHandler;\r\n(function (StarRequestHandler) {\r\n    function is(value) {\r\n        return Is.func(value);\r\n    }\r\n    StarRequestHandler.is = is;\r\n})(StarRequestHandler || (StarRequestHandler = {}));\r\nexports.NullLogger = Object.freeze({\r\n    error: () => { },\r\n    warn: () => { },\r\n    info: () => { },\r\n    log: () => { }\r\n});\r\nvar Trace;\r\n(function (Trace) {\r\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\r\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\r\n    Trace[Trace[\"Verbose\"] = 2] = \"Verbose\";\r\n})(Trace = exports.Trace || (exports.Trace = {}));\r\n(function (Trace) {\r\n    function fromString(value) {\r\n        if (!Is.string(value)) {\r\n            return Trace.Off;\r\n        }\r\n        value = value.toLowerCase();\r\n        switch (value) {\r\n            case 'off':\r\n                return Trace.Off;\r\n            case 'messages':\r\n                return Trace.Messages;\r\n            case 'verbose':\r\n                return Trace.Verbose;\r\n            default:\r\n                return Trace.Off;\r\n        }\r\n    }\r\n    Trace.fromString = fromString;\r\n    function toString(value) {\r\n        switch (value) {\r\n            case Trace.Off:\r\n                return 'off';\r\n            case Trace.Messages:\r\n                return 'messages';\r\n            case Trace.Verbose:\r\n                return 'verbose';\r\n            default:\r\n                return 'off';\r\n        }\r\n    }\r\n    Trace.toString = toString;\r\n})(Trace = exports.Trace || (exports.Trace = {}));\r\nvar TraceFormat;\r\n(function (TraceFormat) {\r\n    TraceFormat[\"Text\"] = \"text\";\r\n    TraceFormat[\"JSON\"] = \"json\";\r\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\r\n(function (TraceFormat) {\r\n    function fromString(value) {\r\n        value = value.toLowerCase();\r\n        if (value === 'json') {\r\n            return TraceFormat.JSON;\r\n        }\r\n        else {\r\n            return TraceFormat.Text;\r\n        }\r\n    }\r\n    TraceFormat.fromString = fromString;\r\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\r\nvar SetTraceNotification;\r\n(function (SetTraceNotification) {\r\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTrace');\r\n})(SetTraceNotification = exports.SetTraceNotification || (exports.SetTraceNotification = {}));\r\nvar LogTraceNotification;\r\n(function (LogTraceNotification) {\r\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTrace');\r\n})(LogTraceNotification = exports.LogTraceNotification || (exports.LogTraceNotification = {}));\r\nvar ConnectionErrors;\r\n(function (ConnectionErrors) {\r\n    /**\r\n     * The connection is closed.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\r\n    /**\r\n     * The connection got disposed.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\r\n    /**\r\n     * The connection is already in listening mode.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\r\n})(ConnectionErrors = exports.ConnectionErrors || (exports.ConnectionErrors = {}));\r\nclass ConnectionError extends Error {\r\n    constructor(code, message) {\r\n        super(message);\r\n        this.code = code;\r\n        Object.setPrototypeOf(this, ConnectionError.prototype);\r\n    }\r\n}\r\nexports.ConnectionError = ConnectionError;\r\nvar ConnectionStrategy;\r\n(function (ConnectionStrategy) {\r\n    function is(value) {\r\n        const candidate = value;\r\n        return candidate && Is.func(candidate.cancelUndispatched);\r\n    }\r\n    ConnectionStrategy.is = is;\r\n})(ConnectionStrategy = exports.ConnectionStrategy || (exports.ConnectionStrategy = {}));\r\nvar CancellationReceiverStrategy;\r\n(function (CancellationReceiverStrategy) {\r\n    CancellationReceiverStrategy.Message = Object.freeze({\r\n        createCancellationTokenSource(_) {\r\n            return new cancellation_1.CancellationTokenSource();\r\n        }\r\n    });\r\n    function is(value) {\r\n        const candidate = value;\r\n        return candidate && Is.func(candidate.createCancellationTokenSource);\r\n    }\r\n    CancellationReceiverStrategy.is = is;\r\n})(CancellationReceiverStrategy = exports.CancellationReceiverStrategy || (exports.CancellationReceiverStrategy = {}));\r\nvar CancellationSenderStrategy;\r\n(function (CancellationSenderStrategy) {\r\n    CancellationSenderStrategy.Message = Object.freeze({\r\n        sendCancellation(conn, id) {\r\n            conn.sendNotification(CancelNotification.type, { id });\r\n        },\r\n        cleanup(_) { }\r\n    });\r\n    function is(value) {\r\n        const candidate = value;\r\n        return candidate && Is.func(candidate.sendCancellation) && Is.func(candidate.cleanup);\r\n    }\r\n    CancellationSenderStrategy.is = is;\r\n})(CancellationSenderStrategy = exports.CancellationSenderStrategy || (exports.CancellationSenderStrategy = {}));\r\nvar CancellationStrategy;\r\n(function (CancellationStrategy) {\r\n    CancellationStrategy.Message = Object.freeze({\r\n        receiver: CancellationReceiverStrategy.Message,\r\n        sender: CancellationSenderStrategy.Message\r\n    });\r\n    function is(value) {\r\n        const candidate = value;\r\n        return candidate && CancellationReceiverStrategy.is(candidate.receiver) && CancellationSenderStrategy.is(candidate.sender);\r\n    }\r\n    CancellationStrategy.is = is;\r\n})(CancellationStrategy = exports.CancellationStrategy || (exports.CancellationStrategy = {}));\r\nvar ConnectionOptions;\r\n(function (ConnectionOptions) {\r\n    function is(value) {\r\n        const candidate = value;\r\n        return candidate && (CancellationStrategy.is(candidate.cancellationStrategy) || ConnectionStrategy.is(candidate.connectionStrategy));\r\n    }\r\n    ConnectionOptions.is = is;\r\n})(ConnectionOptions = exports.ConnectionOptions || (exports.ConnectionOptions = {}));\r\nvar ConnectionState;\r\n(function (ConnectionState) {\r\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\r\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\r\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\r\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\r\n})(ConnectionState || (ConnectionState = {}));\r\nfunction createMessageConnection(messageReader, messageWriter, _logger, options) {\r\n    const logger = _logger !== undefined ? _logger : exports.NullLogger;\r\n    let sequenceNumber = 0;\r\n    let notificationSquenceNumber = 0;\r\n    let unknownResponseSquenceNumber = 0;\r\n    const version = '2.0';\r\n    let starRequestHandler = undefined;\r\n    const requestHandlers = Object.create(null);\r\n    let starNotificationHandler = undefined;\r\n    const notificationHandlers = Object.create(null);\r\n    const progressHandlers = new Map();\r\n    let timer;\r\n    let messageQueue = new linkedMap_1.LinkedMap();\r\n    let responsePromises = Object.create(null);\r\n    let requestTokens = Object.create(null);\r\n    let trace = Trace.Off;\r\n    let traceFormat = TraceFormat.Text;\r\n    let tracer;\r\n    let state = ConnectionState.New;\r\n    const errorEmitter = new events_1.Emitter();\r\n    const closeEmitter = new events_1.Emitter();\r\n    const unhandledNotificationEmitter = new events_1.Emitter();\r\n    const unhandledProgressEmitter = new events_1.Emitter();\r\n    const disposeEmitter = new events_1.Emitter();\r\n    const cancellationStrategy = (options && options.cancellationStrategy) ? options.cancellationStrategy : CancellationStrategy.Message;\r\n    function createRequestQueueKey(id) {\r\n        if (id === null) {\r\n            throw new Error(`Can't send requests with id null since the response can't be correlated.`);\r\n        }\r\n        return 'req-' + id.toString();\r\n    }\r\n    function createResponseQueueKey(id) {\r\n        if (id === null) {\r\n            return 'res-unknown-' + (++unknownResponseSquenceNumber).toString();\r\n        }\r\n        else {\r\n            return 'res-' + id.toString();\r\n        }\r\n    }\r\n    function createNotificationQueueKey() {\r\n        return 'not-' + (++notificationSquenceNumber).toString();\r\n    }\r\n    function addMessageToQueue(queue, message) {\r\n        if (messages_1.isRequestMessage(message)) {\r\n            queue.set(createRequestQueueKey(message.id), message);\r\n        }\r\n        else if (messages_1.isResponseMessage(message)) {\r\n            queue.set(createResponseQueueKey(message.id), message);\r\n        }\r\n        else {\r\n            queue.set(createNotificationQueueKey(), message);\r\n        }\r\n    }\r\n    function cancelUndispatched(_message) {\r\n        return undefined;\r\n    }\r\n    function isListening() {\r\n        return state === ConnectionState.Listening;\r\n    }\r\n    function isClosed() {\r\n        return state === ConnectionState.Closed;\r\n    }\r\n    function isDisposed() {\r\n        return state === ConnectionState.Disposed;\r\n    }\r\n    function closeHandler() {\r\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\r\n            state = ConnectionState.Closed;\r\n            closeEmitter.fire(undefined);\r\n        }\r\n        // If the connection is disposed don't sent close events.\r\n    }\r\n    function readErrorHandler(error) {\r\n        errorEmitter.fire([error, undefined, undefined]);\r\n    }\r\n    function writeErrorHandler(data) {\r\n        errorEmitter.fire(data);\r\n    }\r\n    messageReader.onClose(closeHandler);\r\n    messageReader.onError(readErrorHandler);\r\n    messageWriter.onClose(closeHandler);\r\n    messageWriter.onError(writeErrorHandler);\r\n    function triggerMessageQueue() {\r\n        if (timer || messageQueue.size === 0) {\r\n            return;\r\n        }\r\n        timer = ral_1.default().timer.setImmediate(() => {\r\n            timer = undefined;\r\n            processMessageQueue();\r\n        });\r\n    }\r\n    function processMessageQueue() {\r\n        if (messageQueue.size === 0) {\r\n            return;\r\n        }\r\n        const message = messageQueue.shift();\r\n        try {\r\n            if (messages_1.isRequestMessage(message)) {\r\n                handleRequest(message);\r\n            }\r\n            else if (messages_1.isNotificationMessage(message)) {\r\n                handleNotification(message);\r\n            }\r\n            else if (messages_1.isResponseMessage(message)) {\r\n                handleResponse(message);\r\n            }\r\n            else {\r\n                handleInvalidMessage(message);\r\n            }\r\n        }\r\n        finally {\r\n            triggerMessageQueue();\r\n        }\r\n    }\r\n    const callback = (message) => {\r\n        try {\r\n            // We have received a cancellation message. Check if the message is still in the queue\r\n            // and cancel it if allowed to do so.\r\n            if (messages_1.isNotificationMessage(message) && message.method === CancelNotification.type.method) {\r\n                const key = createRequestQueueKey(message.params.id);\r\n                const toCancel = messageQueue.get(key);\r\n                if (messages_1.isRequestMessage(toCancel)) {\r\n                    const strategy = options === null || options === void 0 ? void 0 : options.connectionStrategy;\r\n                    const response = (strategy && strategy.cancelUndispatched) ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\r\n                    if (response && (response.error !== undefined || response.result !== undefined)) {\r\n                        messageQueue.delete(key);\r\n                        response.id = toCancel.id;\r\n                        traceSendingResponse(response, message.method, Date.now());\r\n                        messageWriter.write(response);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            addMessageToQueue(messageQueue, message);\r\n        }\r\n        finally {\r\n            triggerMessageQueue();\r\n        }\r\n    };\r\n    function handleRequest(requestMessage) {\r\n        if (isDisposed()) {\r\n            // we return here silently since we fired an event when the\r\n            // connection got disposed.\r\n            return;\r\n        }\r\n        function reply(resultOrError, method, startTime) {\r\n            const message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id\r\n            };\r\n            if (resultOrError instanceof messages_1.ResponseError) {\r\n                message.error = resultOrError.toJson();\r\n            }\r\n            else {\r\n                message.result = resultOrError === undefined ? null : resultOrError;\r\n            }\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        function replyError(error, method, startTime) {\r\n            const message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id,\r\n                error: error.toJson()\r\n            };\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        function replySuccess(result, method, startTime) {\r\n            // The JSON RPC defines that a response must either have a result or an error\r\n            // So we can't treat undefined as a valid response result.\r\n            if (result === undefined) {\r\n                result = null;\r\n            }\r\n            const message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id,\r\n                result: result\r\n            };\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        traceReceivedRequest(requestMessage);\r\n        const element = requestHandlers[requestMessage.method];\r\n        let type;\r\n        let requestHandler;\r\n        if (element) {\r\n            type = element.type;\r\n            requestHandler = element.handler;\r\n        }\r\n        const startTime = Date.now();\r\n        if (requestHandler || starRequestHandler) {\r\n            const tokenKey = String(requestMessage.id);\r\n            const cancellationSource = cancellationStrategy.receiver.createCancellationTokenSource(tokenKey);\r\n            requestTokens[tokenKey] = cancellationSource;\r\n            try {\r\n                let handlerResult;\r\n                if (requestHandler) {\r\n                    if (requestMessage.params === undefined) {\r\n                        if (type !== undefined && type.numberOfParams !== 0) {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines ${type.numberOfParams} params but recevied none.`), requestMessage.method, startTime);\r\n                            return;\r\n                        }\r\n                        handlerResult = requestHandler(cancellationSource.token);\r\n                    }\r\n                    else if (Array.isArray(requestMessage.params)) {\r\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byName) {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by name but received parameters by position`), requestMessage.method, startTime);\r\n                            return;\r\n                        }\r\n                        handlerResult = requestHandler(...requestMessage.params, cancellationSource.token);\r\n                    }\r\n                    else {\r\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by position but received parameters by name`), requestMessage.method, startTime);\r\n                            return;\r\n                        }\r\n                        handlerResult = requestHandler(requestMessage.params, cancellationSource.token);\r\n                    }\r\n                }\r\n                else if (starRequestHandler) {\r\n                    handlerResult = starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\r\n                }\r\n                const promise = handlerResult;\r\n                if (!handlerResult) {\r\n                    delete requestTokens[tokenKey];\r\n                    replySuccess(handlerResult, requestMessage.method, startTime);\r\n                }\r\n                else if (promise.then) {\r\n                    promise.then((resultOrError) => {\r\n                        delete requestTokens[tokenKey];\r\n                        reply(resultOrError, requestMessage.method, startTime);\r\n                    }, error => {\r\n                        delete requestTokens[tokenKey];\r\n                        if (error instanceof messages_1.ResponseError) {\r\n                            replyError(error, requestMessage.method, startTime);\r\n                        }\r\n                        else if (error && Is.string(error.message)) {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\r\n                        }\r\n                        else {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    delete requestTokens[tokenKey];\r\n                    reply(handlerResult, requestMessage.method, startTime);\r\n                }\r\n            }\r\n            catch (error) {\r\n                delete requestTokens[tokenKey];\r\n                if (error instanceof messages_1.ResponseError) {\r\n                    reply(error, requestMessage.method, startTime);\r\n                }\r\n                else if (error && Is.string(error.message)) {\r\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\r\n                }\r\n                else {\r\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\r\n        }\r\n    }\r\n    function handleResponse(responseMessage) {\r\n        if (isDisposed()) {\r\n            // See handle request.\r\n            return;\r\n        }\r\n        if (responseMessage.id === null) {\r\n            if (responseMessage.error) {\r\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\r\n            }\r\n            else {\r\n                logger.error(`Received response message without id. No further error information provided.`);\r\n            }\r\n        }\r\n        else {\r\n            const key = String(responseMessage.id);\r\n            const responsePromise = responsePromises[key];\r\n            traceReceivedResponse(responseMessage, responsePromise);\r\n            if (responsePromise) {\r\n                delete responsePromises[key];\r\n                try {\r\n                    if (responseMessage.error) {\r\n                        const error = responseMessage.error;\r\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\r\n                    }\r\n                    else if (responseMessage.result !== undefined) {\r\n                        responsePromise.resolve(responseMessage.result);\r\n                    }\r\n                    else {\r\n                        throw new Error('Should never happen.');\r\n                    }\r\n                }\r\n                catch (error) {\r\n                    if (error.message) {\r\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\r\n                    }\r\n                    else {\r\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    function handleNotification(message) {\r\n        if (isDisposed()) {\r\n            // See handle request.\r\n            return;\r\n        }\r\n        let type = undefined;\r\n        let notificationHandler;\r\n        if (message.method === CancelNotification.type.method) {\r\n            notificationHandler = (params) => {\r\n                const id = params.id;\r\n                const source = requestTokens[String(id)];\r\n                if (source) {\r\n                    source.cancel();\r\n                }\r\n            };\r\n        }\r\n        else {\r\n            const element = notificationHandlers[message.method];\r\n            if (element) {\r\n                notificationHandler = element.handler;\r\n                type = element.type;\r\n            }\r\n        }\r\n        if (notificationHandler || starNotificationHandler) {\r\n            try {\r\n                traceReceivedNotification(message);\r\n                if (notificationHandler) {\r\n                    if (message.params === undefined) {\r\n                        if (type !== undefined) {\r\n                            if (type.numberOfParams !== 0 && type.parameterStructures !== messages_1.ParameterStructures.byName) {\r\n                                logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but recevied none.`);\r\n                            }\r\n                        }\r\n                        notificationHandler();\r\n                    }\r\n                    else if (Array.isArray(message.params)) {\r\n                        if (type !== undefined) {\r\n                            if (type.parameterStructures === messages_1.ParameterStructures.byName) {\r\n                                logger.error(`Notification ${message.method} defines parameters by name but received parameters by position`);\r\n                            }\r\n                            if (type.numberOfParams !== message.params.length) {\r\n                                logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received ${message.params.length} argumennts`);\r\n                            }\r\n                        }\r\n                        notificationHandler(...message.params);\r\n                    }\r\n                    else {\r\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\r\n                            logger.error(`Notification ${message.method} defines parameters by position but received parameters by name`);\r\n                        }\r\n                        notificationHandler(message.params);\r\n                    }\r\n                }\r\n                else if (starNotificationHandler) {\r\n                    starNotificationHandler(message.method, message.params);\r\n                }\r\n            }\r\n            catch (error) {\r\n                if (error.message) {\r\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\r\n                }\r\n                else {\r\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            unhandledNotificationEmitter.fire(message);\r\n        }\r\n    }\r\n    function handleInvalidMessage(message) {\r\n        if (!message) {\r\n            logger.error('Received empty message.');\r\n            return;\r\n        }\r\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\r\n        // Test whether we find an id to reject the promise\r\n        const responseMessage = message;\r\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\r\n            const key = String(responseMessage.id);\r\n            const responseHandler = responsePromises[key];\r\n            if (responseHandler) {\r\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\r\n            }\r\n        }\r\n    }\r\n    function traceSendingRequest(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose && message.params) {\r\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n            }\r\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-request', message);\r\n        }\r\n    }\r\n    function traceSendingNotification(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.params) {\r\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    data = 'No parameters provided.\\n\\n';\r\n                }\r\n            }\r\n            tracer.log(`Sending notification '${message.method}'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-notification', message);\r\n        }\r\n    }\r\n    function traceSendingResponse(message, method, startTime) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.error && message.error.data) {\r\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    if (message.result) {\r\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\r\n                    }\r\n                    else if (message.error === undefined) {\r\n                        data = 'No result returned.\\n\\n';\r\n                    }\r\n                }\r\n            }\r\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-response', message);\r\n        }\r\n    }\r\n    function traceReceivedRequest(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose && message.params) {\r\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n            }\r\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('receive-request', message);\r\n        }\r\n    }\r\n    function traceReceivedNotification(message) {\r\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.params) {\r\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    data = 'No parameters provided.\\n\\n';\r\n                }\r\n            }\r\n            tracer.log(`Received notification '${message.method}'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('receive-notification', message);\r\n        }\r\n    }\r\n    function traceReceivedResponse(message, responsePromise) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.error && message.error.data) {\r\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    if (message.result) {\r\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\r\n                    }\r\n                    else if (message.error === undefined) {\r\n                        data = 'No result returned.\\n\\n';\r\n                    }\r\n                }\r\n            }\r\n            if (responsePromise) {\r\n                const error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\r\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\r\n            }\r\n            else {\r\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\r\n            }\r\n        }\r\n        else {\r\n            logLSPMessage('receive-response', message);\r\n        }\r\n    }\r\n    function logLSPMessage(type, message) {\r\n        if (!tracer || trace === Trace.Off) {\r\n            return;\r\n        }\r\n        const lspMessage = {\r\n            isLSPMessage: true,\r\n            type,\r\n            message,\r\n            timestamp: Date.now()\r\n        };\r\n        tracer.log(lspMessage);\r\n    }\r\n    function throwIfClosedOrDisposed() {\r\n        if (isClosed()) {\r\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\r\n        }\r\n        if (isDisposed()) {\r\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\r\n        }\r\n    }\r\n    function throwIfListening() {\r\n        if (isListening()) {\r\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\r\n        }\r\n    }\r\n    function throwIfNotListening() {\r\n        if (!isListening()) {\r\n            throw new Error('Call listen() first.');\r\n        }\r\n    }\r\n    function undefinedToNull(param) {\r\n        if (param === undefined) {\r\n            return null;\r\n        }\r\n        else {\r\n            return param;\r\n        }\r\n    }\r\n    function nullToUndefined(param) {\r\n        if (param === null) {\r\n            return undefined;\r\n        }\r\n        else {\r\n            return param;\r\n        }\r\n    }\r\n    function isNamedParam(param) {\r\n        return param !== undefined && param !== null && !Array.isArray(param) && typeof param === 'object';\r\n    }\r\n    function computeSingleParam(parameterStructures, param) {\r\n        switch (parameterStructures) {\r\n            case messages_1.ParameterStructures.auto:\r\n                if (isNamedParam(param)) {\r\n                    return nullToUndefined(param);\r\n                }\r\n                else {\r\n                    return [undefinedToNull(param)];\r\n                }\r\n                break;\r\n            case messages_1.ParameterStructures.byName:\r\n                if (!isNamedParam(param)) {\r\n                    throw new Error(`Recevied parameters by name but param is not an object literal.`);\r\n                }\r\n                return nullToUndefined(param);\r\n            case messages_1.ParameterStructures.byPosition:\r\n                return [undefinedToNull(param)];\r\n            default:\r\n                throw new Error(`Unknown parameter structure ${parameterStructures.toString()}`);\r\n        }\r\n    }\r\n    function computeMessageParams(type, params) {\r\n        let result;\r\n        const numberOfParams = type.numberOfParams;\r\n        switch (numberOfParams) {\r\n            case 0:\r\n                result = undefined;\r\n                break;\r\n            case 1:\r\n                result = computeSingleParam(type.parameterStructures, params[0]);\r\n                break;\r\n            default:\r\n                result = [];\r\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\r\n                    result.push(undefinedToNull(params[i]));\r\n                }\r\n                if (params.length < numberOfParams) {\r\n                    for (let i = params.length; i < numberOfParams; i++) {\r\n                        result.push(null);\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n    const connection = {\r\n        sendNotification: (type, ...args) => {\r\n            throwIfClosedOrDisposed();\r\n            let method;\r\n            let messageParams;\r\n            if (Is.string(type)) {\r\n                method = type;\r\n                const first = args[0];\r\n                let paramStart = 0;\r\n                let parameterStructures = messages_1.ParameterStructures.auto;\r\n                if (messages_1.ParameterStructures.is(first)) {\r\n                    paramStart = 1;\r\n                    parameterStructures = first;\r\n                }\r\n                let paramEnd = args.length;\r\n                const numberOfParams = paramEnd - paramStart;\r\n                switch (numberOfParams) {\r\n                    case 0:\r\n                        messageParams = undefined;\r\n                        break;\r\n                    case 1:\r\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\r\n                        break;\r\n                    default:\r\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\r\n                            throw new Error(`Recevied ${numberOfParams} parameters for 'by Name' notification parameter structure.`);\r\n                        }\r\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                const params = args;\r\n                method = type.method;\r\n                messageParams = computeMessageParams(type, params);\r\n            }\r\n            const notificationMessage = {\r\n                jsonrpc: version,\r\n                method: method,\r\n                params: messageParams\r\n            };\r\n            traceSendingNotification(notificationMessage);\r\n            messageWriter.write(notificationMessage);\r\n        },\r\n        onNotification: (type, handler) => {\r\n            throwIfClosedOrDisposed();\r\n            let method;\r\n            if (Is.func(type)) {\r\n                starNotificationHandler = type;\r\n            }\r\n            else if (handler) {\r\n                if (Is.string(type)) {\r\n                    method = type;\r\n                    notificationHandlers[type] = { type: undefined, handler };\r\n                }\r\n                else {\r\n                    method = type.method;\r\n                    notificationHandlers[type.method] = { type, handler };\r\n                }\r\n            }\r\n            return {\r\n                dispose: () => {\r\n                    if (method !== undefined) {\r\n                        delete notificationHandlers[method];\r\n                    }\r\n                    else {\r\n                        starNotificationHandler = undefined;\r\n                    }\r\n                }\r\n            };\r\n        },\r\n        onProgress: (_type, token, handler) => {\r\n            if (progressHandlers.has(token)) {\r\n                throw new Error(`Progress handler for token ${token} already registered`);\r\n            }\r\n            progressHandlers.set(token, handler);\r\n            return {\r\n                dispose: () => {\r\n                    progressHandlers.delete(token);\r\n                }\r\n            };\r\n        },\r\n        sendProgress: (_type, token, value) => {\r\n            connection.sendNotification(ProgressNotification.type, { token, value });\r\n        },\r\n        onUnhandledProgress: unhandledProgressEmitter.event,\r\n        sendRequest: (type, ...args) => {\r\n            throwIfClosedOrDisposed();\r\n            throwIfNotListening();\r\n            let method;\r\n            let messageParams;\r\n            let token = undefined;\r\n            if (Is.string(type)) {\r\n                method = type;\r\n                const first = args[0];\r\n                const last = args[args.length - 1];\r\n                let paramStart = 0;\r\n                let parameterStructures = messages_1.ParameterStructures.auto;\r\n                if (messages_1.ParameterStructures.is(first)) {\r\n                    paramStart = 1;\r\n                    parameterStructures = first;\r\n                }\r\n                let paramEnd = args.length;\r\n                if (cancellation_1.CancellationToken.is(last)) {\r\n                    paramEnd = paramEnd - 1;\r\n                    token = last;\r\n                }\r\n                const numberOfParams = paramEnd - paramStart;\r\n                switch (numberOfParams) {\r\n                    case 0:\r\n                        messageParams = undefined;\r\n                        break;\r\n                    case 1:\r\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\r\n                        break;\r\n                    default:\r\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\r\n                            throw new Error(`Recevied ${numberOfParams} parameters for 'by Name' request parameter structure.`);\r\n                        }\r\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                const params = args;\r\n                method = type.method;\r\n                messageParams = computeMessageParams(type, params);\r\n                const numberOfParams = type.numberOfParams;\r\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\r\n            }\r\n            const id = sequenceNumber++;\r\n            let disposable;\r\n            if (token) {\r\n                disposable = token.onCancellationRequested(() => {\r\n                    cancellationStrategy.sender.sendCancellation(connection, id);\r\n                });\r\n            }\r\n            const result = new Promise((resolve, reject) => {\r\n                const requestMessage = {\r\n                    jsonrpc: version,\r\n                    id: id,\r\n                    method: method,\r\n                    params: messageParams\r\n                };\r\n                const resolveWithCleanup = (r) => {\r\n                    resolve(r);\r\n                    cancellationStrategy.sender.cleanup(id);\r\n                    disposable === null || disposable === void 0 ? void 0 : disposable.dispose();\r\n                };\r\n                const rejectWithCleanup = (r) => {\r\n                    reject(r);\r\n                    cancellationStrategy.sender.cleanup(id);\r\n                    disposable === null || disposable === void 0 ? void 0 : disposable.dispose();\r\n                };\r\n                let responsePromise = { method: method, timerStart: Date.now(), resolve: resolveWithCleanup, reject: rejectWithCleanup };\r\n                traceSendingRequest(requestMessage);\r\n                try {\r\n                    messageWriter.write(requestMessage);\r\n                }\r\n                catch (e) {\r\n                    // Writing the message failed. So we need to reject the promise.\r\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, e.message ? e.message : 'Unknown reason'));\r\n                    responsePromise = null;\r\n                }\r\n                if (responsePromise) {\r\n                    responsePromises[String(id)] = responsePromise;\r\n                }\r\n            });\r\n            return result;\r\n        },\r\n        onRequest: (type, handler) => {\r\n            throwIfClosedOrDisposed();\r\n            let method = null;\r\n            if (StarRequestHandler.is(type)) {\r\n                method = undefined;\r\n                starRequestHandler = type;\r\n            }\r\n            else if (Is.string(type)) {\r\n                method = null;\r\n                if (handler !== undefined) {\r\n                    method = type;\r\n                    requestHandlers[type] = { handler: handler, type: undefined };\r\n                }\r\n            }\r\n            else {\r\n                if (handler !== undefined) {\r\n                    method = type.method;\r\n                    requestHandlers[type.method] = { type, handler };\r\n                }\r\n            }\r\n            return {\r\n                dispose: () => {\r\n                    if (method === null) {\r\n                        return;\r\n                    }\r\n                    if (method !== undefined) {\r\n                        delete requestHandlers[method];\r\n                    }\r\n                    else {\r\n                        starRequestHandler = undefined;\r\n                    }\r\n                }\r\n            };\r\n        },\r\n        trace: (_value, _tracer, sendNotificationOrTraceOptions) => {\r\n            let _sendNotification = false;\r\n            let _traceFormat = TraceFormat.Text;\r\n            if (sendNotificationOrTraceOptions !== undefined) {\r\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\r\n                    _sendNotification = sendNotificationOrTraceOptions;\r\n                }\r\n                else {\r\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\r\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\r\n                }\r\n            }\r\n            trace = _value;\r\n            traceFormat = _traceFormat;\r\n            if (trace === Trace.Off) {\r\n                tracer = undefined;\r\n            }\r\n            else {\r\n                tracer = _tracer;\r\n            }\r\n            if (_sendNotification && !isClosed() && !isDisposed()) {\r\n                connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\r\n            }\r\n        },\r\n        onError: errorEmitter.event,\r\n        onClose: closeEmitter.event,\r\n        onUnhandledNotification: unhandledNotificationEmitter.event,\r\n        onDispose: disposeEmitter.event,\r\n        end: () => {\r\n            messageWriter.end();\r\n        },\r\n        dispose: () => {\r\n            if (isDisposed()) {\r\n                return;\r\n            }\r\n            state = ConnectionState.Disposed;\r\n            disposeEmitter.fire(undefined);\r\n            const error = new Error('Connection got disposed.');\r\n            Object.keys(responsePromises).forEach((key) => {\r\n                responsePromises[key].reject(error);\r\n            });\r\n            responsePromises = Object.create(null);\r\n            requestTokens = Object.create(null);\r\n            messageQueue = new linkedMap_1.LinkedMap();\r\n            // Test for backwards compatibility\r\n            if (Is.func(messageWriter.dispose)) {\r\n                messageWriter.dispose();\r\n            }\r\n            if (Is.func(messageReader.dispose)) {\r\n                messageReader.dispose();\r\n            }\r\n        },\r\n        listen: () => {\r\n            throwIfClosedOrDisposed();\r\n            throwIfListening();\r\n            state = ConnectionState.Listening;\r\n            messageReader.listen(callback);\r\n        },\r\n        inspect: () => {\r\n            // eslint-disable-next-line no-console\r\n            ral_1.default().console.log('inspect');\r\n        }\r\n    };\r\n    connection.onNotification(LogTraceNotification.type, (params) => {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        tracer.log(params.message, trace === Trace.Verbose ? params.verbose : undefined);\r\n    });\r\n    connection.onNotification(ProgressNotification.type, (params) => {\r\n        const handler = progressHandlers.get(params.token);\r\n        if (handler) {\r\n            handler(params.value);\r\n        }\r\n        else {\r\n            unhandledProgressEmitter.fire(params);\r\n        }\r\n    });\r\n    return connection;\r\n}\r\nexports.createMessageConnection = createMessageConnection;\r\n//# sourceMappingURL=connection.js.map","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Disposable = void 0;\r\nvar Disposable;\r\n(function (Disposable) {\r\n    function create(func) {\r\n        return {\r\n            dispose: func\r\n        };\r\n    }\r\n    Disposable.create = create;\r\n})(Disposable = exports.Disposable || (exports.Disposable = {}));\r\n//# sourceMappingURL=disposable.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Emitter = exports.Event = void 0;\r\nconst ral_1 = require(\"./ral\");\r\nvar Event;\r\n(function (Event) {\r\n    const _disposable = { dispose() { } };\r\n    Event.None = function () { return _disposable; };\r\n})(Event = exports.Event || (exports.Event = {}));\r\nclass CallbackList {\r\n    add(callback, context = null, bucket) {\r\n        if (!this._callbacks) {\r\n            this._callbacks = [];\r\n            this._contexts = [];\r\n        }\r\n        this._callbacks.push(callback);\r\n        this._contexts.push(context);\r\n        if (Array.isArray(bucket)) {\r\n            bucket.push({ dispose: () => this.remove(callback, context) });\r\n        }\r\n    }\r\n    remove(callback, context = null) {\r\n        if (!this._callbacks) {\r\n            return;\r\n        }\r\n        let foundCallbackWithDifferentContext = false;\r\n        for (let i = 0, len = this._callbacks.length; i < len; i++) {\r\n            if (this._callbacks[i] === callback) {\r\n                if (this._contexts[i] === context) {\r\n                    // callback & context match => remove it\r\n                    this._callbacks.splice(i, 1);\r\n                    this._contexts.splice(i, 1);\r\n                    return;\r\n                }\r\n                else {\r\n                    foundCallbackWithDifferentContext = true;\r\n                }\r\n            }\r\n        }\r\n        if (foundCallbackWithDifferentContext) {\r\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\r\n        }\r\n    }\r\n    invoke(...args) {\r\n        if (!this._callbacks) {\r\n            return [];\r\n        }\r\n        const ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\r\n        for (let i = 0, len = callbacks.length; i < len; i++) {\r\n            try {\r\n                ret.push(callbacks[i].apply(contexts[i], args));\r\n            }\r\n            catch (e) {\r\n                // eslint-disable-next-line no-console\r\n                ral_1.default().console.error(e);\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n    isEmpty() {\r\n        return !this._callbacks || this._callbacks.length === 0;\r\n    }\r\n    dispose() {\r\n        this._callbacks = undefined;\r\n        this._contexts = undefined;\r\n    }\r\n}\r\nclass Emitter {\r\n    constructor(_options) {\r\n        this._options = _options;\r\n    }\r\n    /**\r\n     * For the public to allow to subscribe\r\n     * to events from this Emitter\r\n     */\r\n    get event() {\r\n        if (!this._event) {\r\n            this._event = (listener, thisArgs, disposables) => {\r\n                if (!this._callbacks) {\r\n                    this._callbacks = new CallbackList();\r\n                }\r\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\r\n                    this._options.onFirstListenerAdd(this);\r\n                }\r\n                this._callbacks.add(listener, thisArgs);\r\n                const result = {\r\n                    dispose: () => {\r\n                        if (!this._callbacks) {\r\n                            // disposable is disposed after emitter is disposed.\r\n                            return;\r\n                        }\r\n                        this._callbacks.remove(listener, thisArgs);\r\n                        result.dispose = Emitter._noop;\r\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\r\n                            this._options.onLastListenerRemove(this);\r\n                        }\r\n                    }\r\n                };\r\n                if (Array.isArray(disposables)) {\r\n                    disposables.push(result);\r\n                }\r\n                return result;\r\n            };\r\n        }\r\n        return this._event;\r\n    }\r\n    /**\r\n     * To be kept private to fire an event to\r\n     * subscribers\r\n     */\r\n    fire(event) {\r\n        if (this._callbacks) {\r\n            this._callbacks.invoke.call(this._callbacks, event);\r\n        }\r\n    }\r\n    dispose() {\r\n        if (this._callbacks) {\r\n            this._callbacks.dispose();\r\n            this._callbacks = undefined;\r\n        }\r\n    }\r\n}\r\nexports.Emitter = Emitter;\r\nEmitter._noop = function () { };\r\n//# sourceMappingURL=events.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\r\nfunction boolean(value) {\r\n    return value === true || value === false;\r\n}\r\nexports.boolean = boolean;\r\nfunction string(value) {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\nexports.string = string;\r\nfunction number(value) {\r\n    return typeof value === 'number' || value instanceof Number;\r\n}\r\nexports.number = number;\r\nfunction error(value) {\r\n    return value instanceof Error;\r\n}\r\nexports.error = error;\r\nfunction func(value) {\r\n    return typeof value === 'function';\r\n}\r\nexports.func = func;\r\nfunction array(value) {\r\n    return Array.isArray(value);\r\n}\r\nexports.array = array;\r\nfunction stringArray(value) {\r\n    return array(value) && value.every(elem => string(elem));\r\n}\r\nexports.stringArray = stringArray;\r\n//# sourceMappingURL=is.js.map","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LRUCache = exports.LinkedMap = exports.Touch = void 0;\r\nvar Touch;\r\n(function (Touch) {\r\n    Touch.None = 0;\r\n    Touch.First = 1;\r\n    Touch.AsOld = Touch.First;\r\n    Touch.Last = 2;\r\n    Touch.AsNew = Touch.Last;\r\n})(Touch = exports.Touch || (exports.Touch = {}));\r\nclass LinkedMap {\r\n    constructor() {\r\n        this[Symbol.toStringTag] = 'LinkedMap';\r\n        this._map = new Map();\r\n        this._head = undefined;\r\n        this._tail = undefined;\r\n        this._size = 0;\r\n        this._state = 0;\r\n    }\r\n    clear() {\r\n        this._map.clear();\r\n        this._head = undefined;\r\n        this._tail = undefined;\r\n        this._size = 0;\r\n        this._state++;\r\n    }\r\n    isEmpty() {\r\n        return !this._head && !this._tail;\r\n    }\r\n    get size() {\r\n        return this._size;\r\n    }\r\n    get first() {\r\n        var _a;\r\n        return (_a = this._head) === null || _a === void 0 ? void 0 : _a.value;\r\n    }\r\n    get last() {\r\n        var _a;\r\n        return (_a = this._tail) === null || _a === void 0 ? void 0 : _a.value;\r\n    }\r\n    has(key) {\r\n        return this._map.has(key);\r\n    }\r\n    get(key, touch = Touch.None) {\r\n        const item = this._map.get(key);\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        if (touch !== Touch.None) {\r\n            this.touch(item, touch);\r\n        }\r\n        return item.value;\r\n    }\r\n    set(key, value, touch = Touch.None) {\r\n        let item = this._map.get(key);\r\n        if (item) {\r\n            item.value = value;\r\n            if (touch !== Touch.None) {\r\n                this.touch(item, touch);\r\n            }\r\n        }\r\n        else {\r\n            item = { key, value, next: undefined, previous: undefined };\r\n            switch (touch) {\r\n                case Touch.None:\r\n                    this.addItemLast(item);\r\n                    break;\r\n                case Touch.First:\r\n                    this.addItemFirst(item);\r\n                    break;\r\n                case Touch.Last:\r\n                    this.addItemLast(item);\r\n                    break;\r\n                default:\r\n                    this.addItemLast(item);\r\n                    break;\r\n            }\r\n            this._map.set(key, item);\r\n            this._size++;\r\n        }\r\n        return this;\r\n    }\r\n    delete(key) {\r\n        return !!this.remove(key);\r\n    }\r\n    remove(key) {\r\n        const item = this._map.get(key);\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        this._map.delete(key);\r\n        this.removeItem(item);\r\n        this._size--;\r\n        return item.value;\r\n    }\r\n    shift() {\r\n        if (!this._head && !this._tail) {\r\n            return undefined;\r\n        }\r\n        if (!this._head || !this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        const item = this._head;\r\n        this._map.delete(item.key);\r\n        this.removeItem(item);\r\n        this._size--;\r\n        return item.value;\r\n    }\r\n    forEach(callbackfn, thisArg) {\r\n        const state = this._state;\r\n        let current = this._head;\r\n        while (current) {\r\n            if (thisArg) {\r\n                callbackfn.bind(thisArg)(current.value, current.key, this);\r\n            }\r\n            else {\r\n                callbackfn(current.value, current.key, this);\r\n            }\r\n            if (this._state !== state) {\r\n                throw new Error(`LinkedMap got modified during iteration.`);\r\n            }\r\n            current = current.next;\r\n        }\r\n    }\r\n    keys() {\r\n        const map = this;\r\n        const state = this._state;\r\n        let current = this._head;\r\n        const iterator = {\r\n            [Symbol.iterator]() {\r\n                return iterator;\r\n            },\r\n            next() {\r\n                if (map._state !== state) {\r\n                    throw new Error(`LinkedMap got modified during iteration.`);\r\n                }\r\n                if (current) {\r\n                    const result = { value: current.key, done: false };\r\n                    current = current.next;\r\n                    return result;\r\n                }\r\n                else {\r\n                    return { value: undefined, done: true };\r\n                }\r\n            }\r\n        };\r\n        return iterator;\r\n    }\r\n    values() {\r\n        const map = this;\r\n        const state = this._state;\r\n        let current = this._head;\r\n        const iterator = {\r\n            [Symbol.iterator]() {\r\n                return iterator;\r\n            },\r\n            next() {\r\n                if (map._state !== state) {\r\n                    throw new Error(`LinkedMap got modified during iteration.`);\r\n                }\r\n                if (current) {\r\n                    const result = { value: current.value, done: false };\r\n                    current = current.next;\r\n                    return result;\r\n                }\r\n                else {\r\n                    return { value: undefined, done: true };\r\n                }\r\n            }\r\n        };\r\n        return iterator;\r\n    }\r\n    entries() {\r\n        const map = this;\r\n        const state = this._state;\r\n        let current = this._head;\r\n        const iterator = {\r\n            [Symbol.iterator]() {\r\n                return iterator;\r\n            },\r\n            next() {\r\n                if (map._state !== state) {\r\n                    throw new Error(`LinkedMap got modified during iteration.`);\r\n                }\r\n                if (current) {\r\n                    const result = { value: [current.key, current.value], done: false };\r\n                    current = current.next;\r\n                    return result;\r\n                }\r\n                else {\r\n                    return { value: undefined, done: true };\r\n                }\r\n            }\r\n        };\r\n        return iterator;\r\n    }\r\n    [Symbol.iterator]() {\r\n        return this.entries();\r\n    }\r\n    trimOld(newSize) {\r\n        if (newSize >= this.size) {\r\n            return;\r\n        }\r\n        if (newSize === 0) {\r\n            this.clear();\r\n            return;\r\n        }\r\n        let current = this._head;\r\n        let currentSize = this.size;\r\n        while (current && currentSize > newSize) {\r\n            this._map.delete(current.key);\r\n            current = current.next;\r\n            currentSize--;\r\n        }\r\n        this._head = current;\r\n        this._size = currentSize;\r\n        if (current) {\r\n            current.previous = undefined;\r\n        }\r\n        this._state++;\r\n    }\r\n    addItemFirst(item) {\r\n        // First time Insert\r\n        if (!this._head && !this._tail) {\r\n            this._tail = item;\r\n        }\r\n        else if (!this._head) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        else {\r\n            item.next = this._head;\r\n            this._head.previous = item;\r\n        }\r\n        this._head = item;\r\n        this._state++;\r\n    }\r\n    addItemLast(item) {\r\n        // First time Insert\r\n        if (!this._head && !this._tail) {\r\n            this._head = item;\r\n        }\r\n        else if (!this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        else {\r\n            item.previous = this._tail;\r\n            this._tail.next = item;\r\n        }\r\n        this._tail = item;\r\n        this._state++;\r\n    }\r\n    removeItem(item) {\r\n        if (item === this._head && item === this._tail) {\r\n            this._head = undefined;\r\n            this._tail = undefined;\r\n        }\r\n        else if (item === this._head) {\r\n            // This can only happend if size === 1 which is handle\r\n            // by the case above.\r\n            if (!item.next) {\r\n                throw new Error('Invalid list');\r\n            }\r\n            item.next.previous = undefined;\r\n            this._head = item.next;\r\n        }\r\n        else if (item === this._tail) {\r\n            // This can only happend if size === 1 which is handle\r\n            // by the case above.\r\n            if (!item.previous) {\r\n                throw new Error('Invalid list');\r\n            }\r\n            item.previous.next = undefined;\r\n            this._tail = item.previous;\r\n        }\r\n        else {\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            if (!next || !previous) {\r\n                throw new Error('Invalid list');\r\n            }\r\n            next.previous = previous;\r\n            previous.next = next;\r\n        }\r\n        item.next = undefined;\r\n        item.previous = undefined;\r\n        this._state++;\r\n    }\r\n    touch(item, touch) {\r\n        if (!this._head || !this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\r\n            return;\r\n        }\r\n        if (touch === Touch.First) {\r\n            if (item === this._head) {\r\n                return;\r\n            }\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            // Unlink the item\r\n            if (item === this._tail) {\r\n                // previous must be defined since item was not head but is tail\r\n                // So there are more than on item in the map\r\n                previous.next = undefined;\r\n                this._tail = previous;\r\n            }\r\n            else {\r\n                // Both next and previous are not undefined since item was neither head nor tail.\r\n                next.previous = previous;\r\n                previous.next = next;\r\n            }\r\n            // Insert the node at head\r\n            item.previous = undefined;\r\n            item.next = this._head;\r\n            this._head.previous = item;\r\n            this._head = item;\r\n            this._state++;\r\n        }\r\n        else if (touch === Touch.Last) {\r\n            if (item === this._tail) {\r\n                return;\r\n            }\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            // Unlink the item.\r\n            if (item === this._head) {\r\n                // next must be defined since item was not tail but is head\r\n                // So there are more than on item in the map\r\n                next.previous = undefined;\r\n                this._head = next;\r\n            }\r\n            else {\r\n                // Both next and previous are not undefined since item was neither head nor tail.\r\n                next.previous = previous;\r\n                previous.next = next;\r\n            }\r\n            item.next = undefined;\r\n            item.previous = this._tail;\r\n            this._tail.next = item;\r\n            this._tail = item;\r\n            this._state++;\r\n        }\r\n    }\r\n    toJSON() {\r\n        const data = [];\r\n        this.forEach((value, key) => {\r\n            data.push([key, value]);\r\n        });\r\n        return data;\r\n    }\r\n    fromJSON(data) {\r\n        this.clear();\r\n        for (const [key, value] of data) {\r\n            this.set(key, value);\r\n        }\r\n    }\r\n}\r\nexports.LinkedMap = LinkedMap;\r\nclass LRUCache extends LinkedMap {\r\n    constructor(limit, ratio = 1) {\r\n        super();\r\n        this._limit = limit;\r\n        this._ratio = Math.min(Math.max(0, ratio), 1);\r\n    }\r\n    get limit() {\r\n        return this._limit;\r\n    }\r\n    set limit(limit) {\r\n        this._limit = limit;\r\n        this.checkTrim();\r\n    }\r\n    get ratio() {\r\n        return this._ratio;\r\n    }\r\n    set ratio(ratio) {\r\n        this._ratio = Math.min(Math.max(0, ratio), 1);\r\n        this.checkTrim();\r\n    }\r\n    get(key, touch = Touch.AsNew) {\r\n        return super.get(key, touch);\r\n    }\r\n    peek(key) {\r\n        return super.get(key, Touch.None);\r\n    }\r\n    set(key, value) {\r\n        super.set(key, value, Touch.Last);\r\n        this.checkTrim();\r\n        return this;\r\n    }\r\n    checkTrim() {\r\n        if (this.size > this._limit) {\r\n            this.trimOld(Math.round(this._limit * this._ratio));\r\n        }\r\n    }\r\n}\r\nexports.LRUCache = LRUCache;\r\n//# sourceMappingURL=linkedMap.js.map","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AbstractMessageBuffer = void 0;\r\nconst CR = 13;\r\nconst LF = 10;\r\nconst CRLF = '\\r\\n';\r\nclass AbstractMessageBuffer {\r\n    constructor(encoding = 'utf-8') {\r\n        this._encoding = encoding;\r\n        this._chunks = [];\r\n        this._totalLength = 0;\r\n    }\r\n    get encoding() {\r\n        return this._encoding;\r\n    }\r\n    append(chunk) {\r\n        const toAppend = typeof chunk === 'string' ? this.fromString(chunk, this._encoding) : chunk;\r\n        this._chunks.push(toAppend);\r\n        this._totalLength += toAppend.byteLength;\r\n    }\r\n    tryReadHeaders() {\r\n        if (this._chunks.length === 0) {\r\n            return undefined;\r\n        }\r\n        let state = 0;\r\n        let chunkIndex = 0;\r\n        let offset = 0;\r\n        let chunkBytesRead = 0;\r\n        row: while (chunkIndex < this._chunks.length) {\r\n            const chunk = this._chunks[chunkIndex];\r\n            offset = 0;\r\n            column: while (offset < chunk.length) {\r\n                const value = chunk[offset];\r\n                switch (value) {\r\n                    case CR:\r\n                        switch (state) {\r\n                            case 0:\r\n                                state = 1;\r\n                                break;\r\n                            case 2:\r\n                                state = 3;\r\n                                break;\r\n                            default:\r\n                                state = 0;\r\n                        }\r\n                        break;\r\n                    case LF:\r\n                        switch (state) {\r\n                            case 1:\r\n                                state = 2;\r\n                                break;\r\n                            case 3:\r\n                                state = 4;\r\n                                offset++;\r\n                                break row;\r\n                            default:\r\n                                state = 0;\r\n                        }\r\n                        break;\r\n                    default:\r\n                        state = 0;\r\n                }\r\n                offset++;\r\n            }\r\n            chunkBytesRead += chunk.byteLength;\r\n            chunkIndex++;\r\n        }\r\n        if (state !== 4) {\r\n            return undefined;\r\n        }\r\n        // The buffer contains the two CRLF at the end. So we will\r\n        // have two empty lines after the split at the end as well.\r\n        const buffer = this._read(chunkBytesRead + offset);\r\n        const result = new Map();\r\n        const headers = this.toString(buffer, 'ascii').split(CRLF);\r\n        if (headers.length < 2) {\r\n            return result;\r\n        }\r\n        for (let i = 0; i < headers.length - 2; i++) {\r\n            const header = headers[i];\r\n            const index = header.indexOf(':');\r\n            if (index === -1) {\r\n                throw new Error('Message header must separate key and value using :');\r\n            }\r\n            const key = header.substr(0, index);\r\n            const value = header.substr(index + 1).trim();\r\n            result.set(key, value);\r\n        }\r\n        return result;\r\n    }\r\n    tryReadBody(length) {\r\n        if (this._totalLength < length) {\r\n            return undefined;\r\n        }\r\n        return this._read(length);\r\n    }\r\n    get numberOfBytes() {\r\n        return this._totalLength;\r\n    }\r\n    _read(byteCount) {\r\n        if (byteCount === 0) {\r\n            return this.emptyBuffer();\r\n        }\r\n        if (byteCount > this._totalLength) {\r\n            throw new Error(`Cannot read so many bytes!`);\r\n        }\r\n        if (this._chunks[0].byteLength === byteCount) {\r\n            // super fast path, precisely first chunk must be returned\r\n            const chunk = this._chunks[0];\r\n            this._chunks.shift();\r\n            this._totalLength -= byteCount;\r\n            return this.asNative(chunk);\r\n        }\r\n        if (this._chunks[0].byteLength > byteCount) {\r\n            // fast path, the reading is entirely within the first chunk\r\n            const chunk = this._chunks[0];\r\n            const result = this.asNative(chunk, byteCount);\r\n            this._chunks[0] = chunk.slice(byteCount);\r\n            this._totalLength -= byteCount;\r\n            return result;\r\n        }\r\n        const result = this.allocNative(byteCount);\r\n        let resultOffset = 0;\r\n        let chunkIndex = 0;\r\n        while (byteCount > 0) {\r\n            const chunk = this._chunks[chunkIndex];\r\n            if (chunk.byteLength > byteCount) {\r\n                // this chunk will survive\r\n                const chunkPart = chunk.slice(0, byteCount);\r\n                result.set(chunkPart, resultOffset);\r\n                resultOffset += byteCount;\r\n                this._chunks[chunkIndex] = chunk.slice(byteCount);\r\n                this._totalLength -= byteCount;\r\n                byteCount -= byteCount;\r\n            }\r\n            else {\r\n                // this chunk will be entirely read\r\n                result.set(chunk, resultOffset);\r\n                resultOffset += chunk.byteLength;\r\n                this._chunks.shift();\r\n                this._totalLength -= chunk.byteLength;\r\n                byteCount -= chunk.byteLength;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\nexports.AbstractMessageBuffer = AbstractMessageBuffer;\r\n//# sourceMappingURL=messageBuffer.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = void 0;\r\nconst ral_1 = require(\"./ral\");\r\nconst Is = require(\"./is\");\r\nconst events_1 = require(\"./events\");\r\nvar MessageReader;\r\n(function (MessageReader) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\r\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\r\n    }\r\n    MessageReader.is = is;\r\n})(MessageReader = exports.MessageReader || (exports.MessageReader = {}));\r\nclass AbstractMessageReader {\r\n    constructor() {\r\n        this.errorEmitter = new events_1.Emitter();\r\n        this.closeEmitter = new events_1.Emitter();\r\n        this.partialMessageEmitter = new events_1.Emitter();\r\n    }\r\n    dispose() {\r\n        this.errorEmitter.dispose();\r\n        this.closeEmitter.dispose();\r\n    }\r\n    get onError() {\r\n        return this.errorEmitter.event;\r\n    }\r\n    fireError(error) {\r\n        this.errorEmitter.fire(this.asError(error));\r\n    }\r\n    get onClose() {\r\n        return this.closeEmitter.event;\r\n    }\r\n    fireClose() {\r\n        this.closeEmitter.fire(undefined);\r\n    }\r\n    get onPartialMessage() {\r\n        return this.partialMessageEmitter.event;\r\n    }\r\n    firePartialMessage(info) {\r\n        this.partialMessageEmitter.fire(info);\r\n    }\r\n    asError(error) {\r\n        if (error instanceof Error) {\r\n            return error;\r\n        }\r\n        else {\r\n            return new Error(`Reader received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\r\n        }\r\n    }\r\n}\r\nexports.AbstractMessageReader = AbstractMessageReader;\r\nvar ResolvedMessageReaderOptions;\r\n(function (ResolvedMessageReaderOptions) {\r\n    function fromOptions(options) {\r\n        var _a;\r\n        let charset;\r\n        let result;\r\n        let contentDecoder;\r\n        const contentDecoders = new Map();\r\n        let contentTypeDecoder;\r\n        const contentTypeDecoders = new Map();\r\n        if (options === undefined || typeof options === 'string') {\r\n            charset = options !== null && options !== void 0 ? options : 'utf-8';\r\n        }\r\n        else {\r\n            charset = (_a = options.charset) !== null && _a !== void 0 ? _a : 'utf-8';\r\n            if (options.contentDecoder !== undefined) {\r\n                contentDecoder = options.contentDecoder;\r\n                contentDecoders.set(contentDecoder.name, contentDecoder);\r\n            }\r\n            if (options.contentDecoders !== undefined) {\r\n                for (const decoder of options.contentDecoders) {\r\n                    contentDecoders.set(decoder.name, decoder);\r\n                }\r\n            }\r\n            if (options.contentTypeDecoder !== undefined) {\r\n                contentTypeDecoder = options.contentTypeDecoder;\r\n                contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\r\n            }\r\n            if (options.contentTypeDecoders !== undefined) {\r\n                for (const decoder of options.contentTypeDecoders) {\r\n                    contentTypeDecoders.set(decoder.name, decoder);\r\n                }\r\n            }\r\n        }\r\n        if (contentTypeDecoder === undefined) {\r\n            contentTypeDecoder = ral_1.default().applicationJson.decoder;\r\n            contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\r\n        }\r\n        return { charset, contentDecoder, contentDecoders, contentTypeDecoder, contentTypeDecoders };\r\n    }\r\n    ResolvedMessageReaderOptions.fromOptions = fromOptions;\r\n})(ResolvedMessageReaderOptions || (ResolvedMessageReaderOptions = {}));\r\nclass ReadableStreamMessageReader extends AbstractMessageReader {\r\n    constructor(readable, options) {\r\n        super();\r\n        this.readable = readable;\r\n        this.options = ResolvedMessageReaderOptions.fromOptions(options);\r\n        this.buffer = ral_1.default().messageBuffer.create(this.options.charset);\r\n        this._partialMessageTimeout = 10000;\r\n        this.nextMessageLength = -1;\r\n        this.messageToken = 0;\r\n    }\r\n    set partialMessageTimeout(timeout) {\r\n        this._partialMessageTimeout = timeout;\r\n    }\r\n    get partialMessageTimeout() {\r\n        return this._partialMessageTimeout;\r\n    }\r\n    listen(callback) {\r\n        this.nextMessageLength = -1;\r\n        this.messageToken = 0;\r\n        this.partialMessageTimer = undefined;\r\n        this.callback = callback;\r\n        const result = this.readable.onData((data) => {\r\n            this.onData(data);\r\n        });\r\n        this.readable.onError((error) => this.fireError(error));\r\n        this.readable.onClose(() => this.fireClose());\r\n        return result;\r\n    }\r\n    onData(data) {\r\n        this.buffer.append(data);\r\n        while (true) {\r\n            if (this.nextMessageLength === -1) {\r\n                const headers = this.buffer.tryReadHeaders();\r\n                if (!headers) {\r\n                    return;\r\n                }\r\n                const contentLength = headers.get('Content-Length');\r\n                if (!contentLength) {\r\n                    throw new Error('Header must provide a Content-Length property.');\r\n                }\r\n                const length = parseInt(contentLength);\r\n                if (isNaN(length)) {\r\n                    throw new Error('Content-Length value must be a number.');\r\n                }\r\n                this.nextMessageLength = length;\r\n            }\r\n            const body = this.buffer.tryReadBody(this.nextMessageLength);\r\n            if (body === undefined) {\r\n                /** We haven't received the full message yet. */\r\n                this.setPartialMessageTimer();\r\n                return;\r\n            }\r\n            this.clearPartialMessageTimer();\r\n            this.nextMessageLength = -1;\r\n            let p;\r\n            if (this.options.contentDecoder !== undefined) {\r\n                p = this.options.contentDecoder.decode(body);\r\n            }\r\n            else {\r\n                p = Promise.resolve(body);\r\n            }\r\n            p.then((value) => {\r\n                this.options.contentTypeDecoder.decode(value, this.options).then((msg) => {\r\n                    this.callback(msg);\r\n                }, (error) => {\r\n                    this.fireError(error);\r\n                });\r\n            }, (error) => {\r\n                this.fireError(error);\r\n            });\r\n        }\r\n    }\r\n    clearPartialMessageTimer() {\r\n        if (this.partialMessageTimer) {\r\n            ral_1.default().timer.clearTimeout(this.partialMessageTimer);\r\n            this.partialMessageTimer = undefined;\r\n        }\r\n    }\r\n    setPartialMessageTimer() {\r\n        this.clearPartialMessageTimer();\r\n        if (this._partialMessageTimeout <= 0) {\r\n            return;\r\n        }\r\n        this.partialMessageTimer = ral_1.default().timer.setTimeout((token, timeout) => {\r\n            this.partialMessageTimer = undefined;\r\n            if (token === this.messageToken) {\r\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\r\n                this.setPartialMessageTimer();\r\n            }\r\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\r\n    }\r\n}\r\nexports.ReadableStreamMessageReader = ReadableStreamMessageReader;\r\n//# sourceMappingURL=messageReader.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = void 0;\r\nconst ral_1 = require(\"./ral\");\r\nconst Is = require(\"./is\");\r\nconst semaphore_1 = require(\"./semaphore\");\r\nconst events_1 = require(\"./events\");\r\nconst ContentLength = 'Content-Length: ';\r\nconst CRLF = '\\r\\n';\r\nvar MessageWriter;\r\n(function (MessageWriter) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\r\n            Is.func(candidate.onError) && Is.func(candidate.write);\r\n    }\r\n    MessageWriter.is = is;\r\n})(MessageWriter = exports.MessageWriter || (exports.MessageWriter = {}));\r\nclass AbstractMessageWriter {\r\n    constructor() {\r\n        this.errorEmitter = new events_1.Emitter();\r\n        this.closeEmitter = new events_1.Emitter();\r\n    }\r\n    dispose() {\r\n        this.errorEmitter.dispose();\r\n        this.closeEmitter.dispose();\r\n    }\r\n    get onError() {\r\n        return this.errorEmitter.event;\r\n    }\r\n    fireError(error, message, count) {\r\n        this.errorEmitter.fire([this.asError(error), message, count]);\r\n    }\r\n    get onClose() {\r\n        return this.closeEmitter.event;\r\n    }\r\n    fireClose() {\r\n        this.closeEmitter.fire(undefined);\r\n    }\r\n    asError(error) {\r\n        if (error instanceof Error) {\r\n            return error;\r\n        }\r\n        else {\r\n            return new Error(`Writer received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\r\n        }\r\n    }\r\n}\r\nexports.AbstractMessageWriter = AbstractMessageWriter;\r\nvar ResolvedMessageWriterOptions;\r\n(function (ResolvedMessageWriterOptions) {\r\n    function fromOptions(options) {\r\n        var _a, _b;\r\n        if (options === undefined || typeof options === 'string') {\r\n            return { charset: options !== null && options !== void 0 ? options : 'utf-8', contentTypeEncoder: ral_1.default().applicationJson.encoder };\r\n        }\r\n        else {\r\n            return { charset: (_a = options.charset) !== null && _a !== void 0 ? _a : 'utf-8', contentEncoder: options.contentEncoder, contentTypeEncoder: (_b = options.contentTypeEncoder) !== null && _b !== void 0 ? _b : ral_1.default().applicationJson.encoder };\r\n        }\r\n    }\r\n    ResolvedMessageWriterOptions.fromOptions = fromOptions;\r\n})(ResolvedMessageWriterOptions || (ResolvedMessageWriterOptions = {}));\r\nclass WriteableStreamMessageWriter extends AbstractMessageWriter {\r\n    constructor(writable, options) {\r\n        super();\r\n        this.writable = writable;\r\n        this.options = ResolvedMessageWriterOptions.fromOptions(options);\r\n        this.errorCount = 0;\r\n        this.writeSemaphore = new semaphore_1.Semaphore(1);\r\n        this.writable.onError((error) => this.fireError(error));\r\n        this.writable.onClose(() => this.fireClose());\r\n    }\r\n    async write(msg) {\r\n        return this.writeSemaphore.lock(async () => {\r\n            const payload = this.options.contentTypeEncoder.encode(msg, this.options).then((buffer) => {\r\n                if (this.options.contentEncoder !== undefined) {\r\n                    return this.options.contentEncoder.encode(buffer);\r\n                }\r\n                else {\r\n                    return buffer;\r\n                }\r\n            });\r\n            return payload.then((buffer) => {\r\n                const headers = [];\r\n                headers.push(ContentLength, buffer.byteLength.toString(), CRLF);\r\n                headers.push(CRLF);\r\n                return this.doWrite(msg, headers, buffer);\r\n            }, (error) => {\r\n                this.fireError(error);\r\n                throw error;\r\n            });\r\n        });\r\n    }\r\n    async doWrite(msg, headers, data) {\r\n        try {\r\n            await this.writable.write(headers.join(''), 'ascii');\r\n            return this.writable.write(data);\r\n        }\r\n        catch (error) {\r\n            this.handleError(error, msg);\r\n            return Promise.reject(error);\r\n        }\r\n    }\r\n    handleError(error, msg) {\r\n        this.errorCount++;\r\n        this.fireError(error, msg, this.errorCount);\r\n    }\r\n    end() {\r\n        this.writable.end();\r\n    }\r\n}\r\nexports.WriteableStreamMessageWriter = WriteableStreamMessageWriter;\r\n//# sourceMappingURL=messageWriter.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.isResponseMessage = exports.isNotificationMessage = exports.isRequestMessage = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType = exports.RequestType0 = exports.AbstractMessageSignature = exports.ParameterStructures = exports.ResponseError = exports.ErrorCodes = void 0;\r\nconst is = require(\"./is\");\r\n/**\r\n * Predefined error codes.\r\n */\r\nvar ErrorCodes;\r\n(function (ErrorCodes) {\r\n    // Defined by JSON RPC\r\n    ErrorCodes.ParseError = -32700;\r\n    ErrorCodes.InvalidRequest = -32600;\r\n    ErrorCodes.MethodNotFound = -32601;\r\n    ErrorCodes.InvalidParams = -32602;\r\n    ErrorCodes.InternalError = -32603;\r\n    /**\r\n     * This is the start range of JSON RPC reserved error codes.\r\n     * It doesn't denote a real error code. No application error codes should\r\n     * be defined between the start and end range. For backwards\r\n     * compatibility the `ServerNotInitialized` and the `UnknownErrorCode`\r\n     * are left in the range.\r\n     *\r\n     * @since 3.16.0\r\n    */\r\n    ErrorCodes.jsonrpcReservedErrorRangeStart = -32099;\r\n    /** @deprecated use  jsonrpcReservedErrorRangeStart */\r\n    ErrorCodes.serverErrorStart = ErrorCodes.jsonrpcReservedErrorRangeStart;\r\n    ErrorCodes.MessageWriteError = -32099;\r\n    ErrorCodes.MessageReadError = -32098;\r\n    ErrorCodes.ServerNotInitialized = -32002;\r\n    ErrorCodes.UnknownErrorCode = -32001;\r\n    /**\r\n     * This is the end range of JSON RPC reserved error codes.\r\n     * It doesn't denote a real error code.\r\n     *\r\n     * @since 3.16.0\r\n    */\r\n    ErrorCodes.jsonrpcReservedErrorRangeEnd = -32000;\r\n    /** @deprecated use  jsonrpcReservedErrorRangeEnd */\r\n    ErrorCodes.serverErrorEnd = ErrorCodes.jsonrpcReservedErrorRangeEnd;\r\n})(ErrorCodes = exports.ErrorCodes || (exports.ErrorCodes = {}));\r\n/**\r\n * An error object return in a response in case a request\r\n * has failed.\r\n */\r\nclass ResponseError extends Error {\r\n    constructor(code, message, data) {\r\n        super(message);\r\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\r\n        this.data = data;\r\n        Object.setPrototypeOf(this, ResponseError.prototype);\r\n    }\r\n    toJson() {\r\n        return {\r\n            code: this.code,\r\n            message: this.message,\r\n            data: this.data,\r\n        };\r\n    }\r\n}\r\nexports.ResponseError = ResponseError;\r\nclass ParameterStructures {\r\n    constructor(kind) {\r\n        this.kind = kind;\r\n    }\r\n    static is(value) {\r\n        return value === ParameterStructures.auto || value === ParameterStructures.byName || value === ParameterStructures.byPosition;\r\n    }\r\n    toString() {\r\n        return this.kind;\r\n    }\r\n}\r\nexports.ParameterStructures = ParameterStructures;\r\n/**\r\n * The parameter structure is automatically inferred on the number of parameters\r\n * and the parameter type in case of a single param.\r\n */\r\nParameterStructures.auto = new ParameterStructures('auto');\r\n/**\r\n * Forces `byPosition` parameter structure. This is useful if you have a single\r\n * parameter which has a literal type.\r\n */\r\nParameterStructures.byPosition = new ParameterStructures('byPosition');\r\n/**\r\n * Forces `byName` parameter structure. This is only useful when having a single\r\n * parameter. The library will report errors if used with a different number of\r\n * parameters.\r\n */\r\nParameterStructures.byName = new ParameterStructures('byName');\r\n/**\r\n * An abstract implementation of a MessageType.\r\n */\r\nclass AbstractMessageSignature {\r\n    constructor(method, numberOfParams) {\r\n        this.method = method;\r\n        this.numberOfParams = numberOfParams;\r\n    }\r\n    get parameterStructures() {\r\n        return ParameterStructures.auto;\r\n    }\r\n}\r\nexports.AbstractMessageSignature = AbstractMessageSignature;\r\n/**\r\n * Classes to type request response pairs\r\n */\r\nclass RequestType0 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 0);\r\n    }\r\n}\r\nexports.RequestType0 = RequestType0;\r\nclass RequestType extends AbstractMessageSignature {\r\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\r\n        super(method, 1);\r\n        this._parameterStructures = _parameterStructures;\r\n    }\r\n    get parameterStructures() {\r\n        return this._parameterStructures;\r\n    }\r\n}\r\nexports.RequestType = RequestType;\r\nclass RequestType1 extends AbstractMessageSignature {\r\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\r\n        super(method, 1);\r\n        this._parameterStructures = _parameterStructures;\r\n    }\r\n    get parameterStructures() {\r\n        return this._parameterStructures;\r\n    }\r\n}\r\nexports.RequestType1 = RequestType1;\r\nclass RequestType2 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 2);\r\n    }\r\n}\r\nexports.RequestType2 = RequestType2;\r\nclass RequestType3 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 3);\r\n    }\r\n}\r\nexports.RequestType3 = RequestType3;\r\nclass RequestType4 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 4);\r\n    }\r\n}\r\nexports.RequestType4 = RequestType4;\r\nclass RequestType5 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 5);\r\n    }\r\n}\r\nexports.RequestType5 = RequestType5;\r\nclass RequestType6 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 6);\r\n    }\r\n}\r\nexports.RequestType6 = RequestType6;\r\nclass RequestType7 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 7);\r\n    }\r\n}\r\nexports.RequestType7 = RequestType7;\r\nclass RequestType8 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 8);\r\n    }\r\n}\r\nexports.RequestType8 = RequestType8;\r\nclass RequestType9 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 9);\r\n    }\r\n}\r\nexports.RequestType9 = RequestType9;\r\nclass NotificationType extends AbstractMessageSignature {\r\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\r\n        super(method, 1);\r\n        this._parameterStructures = _parameterStructures;\r\n    }\r\n    get parameterStructures() {\r\n        return this._parameterStructures;\r\n    }\r\n}\r\nexports.NotificationType = NotificationType;\r\nclass NotificationType0 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 0);\r\n    }\r\n}\r\nexports.NotificationType0 = NotificationType0;\r\nclass NotificationType1 extends AbstractMessageSignature {\r\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\r\n        super(method, 1);\r\n        this._parameterStructures = _parameterStructures;\r\n    }\r\n    get parameterStructures() {\r\n        return this._parameterStructures;\r\n    }\r\n}\r\nexports.NotificationType1 = NotificationType1;\r\nclass NotificationType2 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 2);\r\n    }\r\n}\r\nexports.NotificationType2 = NotificationType2;\r\nclass NotificationType3 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 3);\r\n    }\r\n}\r\nexports.NotificationType3 = NotificationType3;\r\nclass NotificationType4 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 4);\r\n    }\r\n}\r\nexports.NotificationType4 = NotificationType4;\r\nclass NotificationType5 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 5);\r\n    }\r\n}\r\nexports.NotificationType5 = NotificationType5;\r\nclass NotificationType6 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 6);\r\n    }\r\n}\r\nexports.NotificationType6 = NotificationType6;\r\nclass NotificationType7 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 7);\r\n    }\r\n}\r\nexports.NotificationType7 = NotificationType7;\r\nclass NotificationType8 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 8);\r\n    }\r\n}\r\nexports.NotificationType8 = NotificationType8;\r\nclass NotificationType9 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 9);\r\n    }\r\n}\r\nexports.NotificationType9 = NotificationType9;\r\n/**\r\n * Tests if the given message is a request message\r\n */\r\nfunction isRequestMessage(message) {\r\n    const candidate = message;\r\n    return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\r\n}\r\nexports.isRequestMessage = isRequestMessage;\r\n/**\r\n * Tests if the given message is a notification message\r\n */\r\nfunction isNotificationMessage(message) {\r\n    const candidate = message;\r\n    return candidate && is.string(candidate.method) && message.id === void 0;\r\n}\r\nexports.isNotificationMessage = isNotificationMessage;\r\n/**\r\n * Tests if the given message is a response message\r\n */\r\nfunction isResponseMessage(message) {\r\n    const candidate = message;\r\n    return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\r\n}\r\nexports.isResponseMessage = isResponseMessage;\r\n//# sourceMappingURL=messages.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nlet _ral;\r\nfunction RAL() {\r\n    if (_ral === undefined) {\r\n        throw new Error(`No runtime abstraction layer installed`);\r\n    }\r\n    return _ral;\r\n}\r\n(function (RAL) {\r\n    function install(ral) {\r\n        if (ral === undefined) {\r\n            throw new Error(`No runtime abstraction layer provided`);\r\n        }\r\n        _ral = ral;\r\n    }\r\n    RAL.install = install;\r\n})(RAL || (RAL = {}));\r\nexports.default = RAL;\r\n//# sourceMappingURL=ral.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Semaphore = void 0;\r\nconst ral_1 = require(\"./ral\");\r\nclass Semaphore {\r\n    constructor(capacity = 1) {\r\n        if (capacity <= 0) {\r\n            throw new Error('Capacity must be greater than 0');\r\n        }\r\n        this._capacity = capacity;\r\n        this._active = 0;\r\n        this._waiting = [];\r\n    }\r\n    lock(thunk) {\r\n        return new Promise((resolve, reject) => {\r\n            this._waiting.push({ thunk, resolve, reject });\r\n            this.runNext();\r\n        });\r\n    }\r\n    get active() {\r\n        return this._active;\r\n    }\r\n    runNext() {\r\n        if (this._waiting.length === 0 || this._active === this._capacity) {\r\n            return;\r\n        }\r\n        ral_1.default().timer.setImmediate(() => this.doRunNext());\r\n    }\r\n    doRunNext() {\r\n        if (this._waiting.length === 0 || this._active === this._capacity) {\r\n            return;\r\n        }\r\n        const next = this._waiting.shift();\r\n        this._active++;\r\n        if (this._active > this._capacity) {\r\n            throw new Error(`To many thunks active`);\r\n        }\r\n        try {\r\n            const result = next.thunk();\r\n            if (result instanceof Promise) {\r\n                result.then((value) => {\r\n                    this._active--;\r\n                    next.resolve(value);\r\n                    this.runNext();\r\n                }, (err) => {\r\n                    this._active--;\r\n                    next.reject(err);\r\n                    this.runNext();\r\n                });\r\n            }\r\n            else {\r\n                this._active--;\r\n                next.resolve(result);\r\n                this.runNext();\r\n            }\r\n        }\r\n        catch (err) {\r\n            this._active--;\r\n            next.reject(err);\r\n            this.runNext();\r\n        }\r\n    }\r\n}\r\nexports.Semaphore = Semaphore;\r\n//# sourceMappingURL=semaphore.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.createMessageConnection = exports.createServerSocketTransport = exports.createClientSocketTransport = exports.createServerPipeTransport = exports.createClientPipeTransport = exports.generateRandomPipeName = exports.StreamMessageWriter = exports.StreamMessageReader = exports.SocketMessageWriter = exports.SocketMessageReader = exports.IPCMessageWriter = exports.IPCMessageReader = void 0;\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ----------------------------------------------------------------------------------------- */\r\nconst ril_1 = require(\"./ril\");\r\n// Install the node runtime abstract.\r\nril_1.default.install();\r\nconst api_1 = require(\"../common/api\");\r\nconst path = require(\"path\");\r\nconst os = require(\"os\");\r\nconst crypto_1 = require(\"crypto\");\r\nconst net_1 = require(\"net\");\r\n__exportStar(require(\"../common/api\"), exports);\r\nclass IPCMessageReader extends api_1.AbstractMessageReader {\r\n    constructor(process) {\r\n        super();\r\n        this.process = process;\r\n        let eventEmitter = this.process;\r\n        eventEmitter.on('error', (error) => this.fireError(error));\r\n        eventEmitter.on('close', () => this.fireClose());\r\n    }\r\n    listen(callback) {\r\n        this.process.on('message', callback);\r\n        return api_1.Disposable.create(() => this.process.off('message', callback));\r\n    }\r\n}\r\nexports.IPCMessageReader = IPCMessageReader;\r\nclass IPCMessageWriter extends api_1.AbstractMessageWriter {\r\n    constructor(process) {\r\n        super();\r\n        this.process = process;\r\n        this.errorCount = 0;\r\n        let eventEmitter = this.process;\r\n        eventEmitter.on('error', (error) => this.fireError(error));\r\n        eventEmitter.on('close', () => this.fireClose);\r\n    }\r\n    write(msg) {\r\n        try {\r\n            if (typeof this.process.send === 'function') {\r\n                this.process.send(msg, undefined, undefined, (error) => {\r\n                    if (error) {\r\n                        this.errorCount++;\r\n                        this.handleError(error, msg);\r\n                    }\r\n                    else {\r\n                        this.errorCount = 0;\r\n                    }\r\n                });\r\n            }\r\n            return Promise.resolve();\r\n        }\r\n        catch (error) {\r\n            this.handleError(error, msg);\r\n            return Promise.reject(error);\r\n        }\r\n    }\r\n    handleError(error, msg) {\r\n        this.errorCount++;\r\n        this.fireError(error, msg, this.errorCount);\r\n    }\r\n    end() {\r\n    }\r\n}\r\nexports.IPCMessageWriter = IPCMessageWriter;\r\nclass SocketMessageReader extends api_1.ReadableStreamMessageReader {\r\n    constructor(socket, encoding = 'utf-8') {\r\n        super(ril_1.default().stream.asReadableStream(socket), encoding);\r\n    }\r\n}\r\nexports.SocketMessageReader = SocketMessageReader;\r\nclass SocketMessageWriter extends api_1.WriteableStreamMessageWriter {\r\n    constructor(socket, options) {\r\n        super(ril_1.default().stream.asWritableStream(socket), options);\r\n        this.socket = socket;\r\n    }\r\n    dispose() {\r\n        super.dispose();\r\n        this.socket.destroy();\r\n    }\r\n}\r\nexports.SocketMessageWriter = SocketMessageWriter;\r\nclass StreamMessageReader extends api_1.ReadableStreamMessageReader {\r\n    constructor(readble, encoding) {\r\n        super(ril_1.default().stream.asReadableStream(readble), encoding);\r\n    }\r\n}\r\nexports.StreamMessageReader = StreamMessageReader;\r\nclass StreamMessageWriter extends api_1.WriteableStreamMessageWriter {\r\n    constructor(writable, options) {\r\n        super(ril_1.default().stream.asWritableStream(writable), options);\r\n    }\r\n}\r\nexports.StreamMessageWriter = StreamMessageWriter;\r\nconst XDG_RUNTIME_DIR = process.env['XDG_RUNTIME_DIR'];\r\nconst safeIpcPathLengths = new Map([\r\n    ['linux', 107],\r\n    ['darwin', 103]\r\n]);\r\nfunction generateRandomPipeName() {\r\n    const randomSuffix = crypto_1.randomBytes(21).toString('hex');\r\n    if (process.platform === 'win32') {\r\n        return `\\\\\\\\.\\\\pipe\\\\vscode-jsonrpc-${randomSuffix}-sock`;\r\n    }\r\n    let result;\r\n    if (XDG_RUNTIME_DIR) {\r\n        result = path.join(XDG_RUNTIME_DIR, `vscode-ipc-${randomSuffix}.sock`);\r\n    }\r\n    else {\r\n        result = path.join(os.tmpdir(), `vscode-${randomSuffix}.sock`);\r\n    }\r\n    const limit = safeIpcPathLengths.get(process.platform);\r\n    if (limit !== undefined && result.length >= limit) {\r\n        ril_1.default().console.warn(`WARNING: IPC handle \"${result}\" is longer than ${limit} characters.`);\r\n    }\r\n    return result;\r\n}\r\nexports.generateRandomPipeName = generateRandomPipeName;\r\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\r\n    let connectResolve;\r\n    const connected = new Promise((resolve, _reject) => {\r\n        connectResolve = resolve;\r\n    });\r\n    return new Promise((resolve, reject) => {\r\n        let server = net_1.createServer((socket) => {\r\n            server.close();\r\n            connectResolve([\r\n                new SocketMessageReader(socket, encoding),\r\n                new SocketMessageWriter(socket, encoding)\r\n            ]);\r\n        });\r\n        server.on('error', reject);\r\n        server.listen(pipeName, () => {\r\n            server.removeListener('error', reject);\r\n            resolve({\r\n                onConnected: () => { return connected; }\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.createClientPipeTransport = createClientPipeTransport;\r\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\r\n    const socket = net_1.createConnection(pipeName);\r\n    return [\r\n        new SocketMessageReader(socket, encoding),\r\n        new SocketMessageWriter(socket, encoding)\r\n    ];\r\n}\r\nexports.createServerPipeTransport = createServerPipeTransport;\r\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\r\n    let connectResolve;\r\n    const connected = new Promise((resolve, _reject) => {\r\n        connectResolve = resolve;\r\n    });\r\n    return new Promise((resolve, reject) => {\r\n        const server = net_1.createServer((socket) => {\r\n            server.close();\r\n            connectResolve([\r\n                new SocketMessageReader(socket, encoding),\r\n                new SocketMessageWriter(socket, encoding)\r\n            ]);\r\n        });\r\n        server.on('error', reject);\r\n        server.listen(port, '127.0.0.1', () => {\r\n            server.removeListener('error', reject);\r\n            resolve({\r\n                onConnected: () => { return connected; }\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.createClientSocketTransport = createClientSocketTransport;\r\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\r\n    const socket = net_1.createConnection(port, '127.0.0.1');\r\n    return [\r\n        new SocketMessageReader(socket, encoding),\r\n        new SocketMessageWriter(socket, encoding)\r\n    ];\r\n}\r\nexports.createServerSocketTransport = createServerSocketTransport;\r\nfunction isReadableStream(value) {\r\n    const candidate = value;\r\n    return candidate.read !== undefined && candidate.addListener !== undefined;\r\n}\r\nfunction isWritableStream(value) {\r\n    const candidate = value;\r\n    return candidate.write !== undefined && candidate.addListener !== undefined;\r\n}\r\nfunction createMessageConnection(input, output, logger, options) {\r\n    if (!logger) {\r\n        logger = api_1.NullLogger;\r\n    }\r\n    const reader = isReadableStream(input) ? new StreamMessageReader(input) : input;\r\n    const writer = isWritableStream(output) ? new StreamMessageWriter(output) : output;\r\n    if (api_1.ConnectionStrategy.is(options)) {\r\n        options = { connectionStrategy: options };\r\n    }\r\n    return api_1.createMessageConnection(reader, writer, logger, options);\r\n}\r\nexports.createMessageConnection = createMessageConnection;\r\n//# sourceMappingURL=main.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst ral_1 = require(\"../common/ral\");\r\nconst util_1 = require(\"util\");\r\nconst disposable_1 = require(\"../common/disposable\");\r\nconst messageBuffer_1 = require(\"../common/messageBuffer\");\r\nclass MessageBuffer extends messageBuffer_1.AbstractMessageBuffer {\r\n    constructor(encoding = 'utf-8') {\r\n        super(encoding);\r\n    }\r\n    emptyBuffer() {\r\n        return MessageBuffer.emptyBuffer;\r\n    }\r\n    fromString(value, encoding) {\r\n        return Buffer.from(value, encoding);\r\n    }\r\n    toString(value, encoding) {\r\n        if (value instanceof Buffer) {\r\n            return value.toString(encoding);\r\n        }\r\n        else {\r\n            return new util_1.TextDecoder(encoding).decode(value);\r\n        }\r\n    }\r\n    asNative(buffer, length) {\r\n        if (length === undefined) {\r\n            return buffer instanceof Buffer ? buffer : Buffer.from(buffer);\r\n        }\r\n        else {\r\n            return buffer instanceof Buffer ? buffer.slice(0, length) : Buffer.from(buffer, 0, length);\r\n        }\r\n    }\r\n    allocNative(length) {\r\n        return Buffer.allocUnsafe(length);\r\n    }\r\n}\r\nMessageBuffer.emptyBuffer = Buffer.allocUnsafe(0);\r\nclass ReadableStreamWrapper {\r\n    constructor(stream) {\r\n        this.stream = stream;\r\n    }\r\n    onClose(listener) {\r\n        this.stream.on('close', listener);\r\n        return disposable_1.Disposable.create(() => this.stream.off('close', listener));\r\n    }\r\n    onError(listener) {\r\n        this.stream.on('error', listener);\r\n        return disposable_1.Disposable.create(() => this.stream.off('error', listener));\r\n    }\r\n    onEnd(listener) {\r\n        this.stream.on('end', listener);\r\n        return disposable_1.Disposable.create(() => this.stream.off('end', listener));\r\n    }\r\n    onData(listener) {\r\n        this.stream.on('data', listener);\r\n        return disposable_1.Disposable.create(() => this.stream.off('data', listener));\r\n    }\r\n}\r\nclass WritableStreamWrapper {\r\n    constructor(stream) {\r\n        this.stream = stream;\r\n    }\r\n    onClose(listener) {\r\n        this.stream.on('close', listener);\r\n        return disposable_1.Disposable.create(() => this.stream.off('close', listener));\r\n    }\r\n    onError(listener) {\r\n        this.stream.on('error', listener);\r\n        return disposable_1.Disposable.create(() => this.stream.off('error', listener));\r\n    }\r\n    onEnd(listener) {\r\n        this.stream.on('end', listener);\r\n        return disposable_1.Disposable.create(() => this.stream.off('end', listener));\r\n    }\r\n    write(data, encoding) {\r\n        return new Promise((resolve, reject) => {\r\n            const callback = (error) => {\r\n                if (error === undefined || error === null) {\r\n                    resolve();\r\n                }\r\n                else {\r\n                    reject(error);\r\n                }\r\n            };\r\n            if (typeof data === 'string') {\r\n                this.stream.write(data, encoding, callback);\r\n            }\r\n            else {\r\n                this.stream.write(data, callback);\r\n            }\r\n        });\r\n    }\r\n    end() {\r\n        this.stream.end();\r\n    }\r\n}\r\nconst _ril = Object.freeze({\r\n    messageBuffer: Object.freeze({\r\n        create: (encoding) => new MessageBuffer(encoding)\r\n    }),\r\n    applicationJson: Object.freeze({\r\n        encoder: Object.freeze({\r\n            name: 'application/json',\r\n            encode: (msg, options) => {\r\n                try {\r\n                    return Promise.resolve(Buffer.from(JSON.stringify(msg, undefined, 0), options.charset));\r\n                }\r\n                catch (err) {\r\n                    return Promise.reject(err);\r\n                }\r\n            }\r\n        }),\r\n        decoder: Object.freeze({\r\n            name: 'application/json',\r\n            decode: (buffer, options) => {\r\n                try {\r\n                    if (buffer instanceof Buffer) {\r\n                        return Promise.resolve(JSON.parse(buffer.toString(options.charset)));\r\n                    }\r\n                    else {\r\n                        return Promise.resolve(JSON.parse(new util_1.TextDecoder(options.charset).decode(buffer)));\r\n                    }\r\n                }\r\n                catch (err) {\r\n                    return Promise.reject(err);\r\n                }\r\n            }\r\n        })\r\n    }),\r\n    stream: Object.freeze({\r\n        asReadableStream: (stream) => new ReadableStreamWrapper(stream),\r\n        asWritableStream: (stream) => new WritableStreamWrapper(stream)\r\n    }),\r\n    console: console,\r\n    timer: Object.freeze({\r\n        setTimeout(callback, ms, ...args) {\r\n            return setTimeout(callback, ms, ...args);\r\n        },\r\n        clearTimeout(handle) {\r\n            clearTimeout(handle);\r\n        },\r\n        setImmediate(callback, ...args) {\r\n            return setImmediate(callback, ...args);\r\n        },\r\n        clearImmediate(handle) {\r\n            clearImmediate(handle);\r\n        }\r\n    })\r\n});\r\nfunction RIL() {\r\n    return _ril;\r\n}\r\n(function (RIL) {\r\n    function install() {\r\n        ral_1.default.install(_ril);\r\n    }\r\n    RIL.install = install;\r\n})(RIL || (RIL = {}));\r\nexports.default = RIL;\r\n//# sourceMappingURL=ril.js.map","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ----------------------------------------------------------------------------------------- */\r\n'use strict';\r\n\r\nmodule.exports = require('./lib/node/main');","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LSPErrorCodes = exports.createProtocolConnection = void 0;\r\n__exportStar(require(\"vscode-jsonrpc\"), exports);\r\n__exportStar(require(\"vscode-languageserver-types\"), exports);\r\n__exportStar(require(\"./messages\"), exports);\r\n__exportStar(require(\"./protocol\"), exports);\r\nvar connection_1 = require(\"./connection\");\r\nObject.defineProperty(exports, \"createProtocolConnection\", { enumerable: true, get: function () { return connection_1.createProtocolConnection; } });\r\nvar LSPErrorCodes;\r\n(function (LSPErrorCodes) {\r\n    /**\r\n    * This is the start range of LSP reserved error codes.\r\n    * It doesn't denote a real error code.\r\n    *\r\n    * @since 3.16.0\r\n    */\r\n    LSPErrorCodes.lspReservedErrorRangeStart = -32899;\r\n    LSPErrorCodes.ContentModified = -32801;\r\n    LSPErrorCodes.RequestCancelled = -32800;\r\n    /**\r\n    * This is the end range of LSP reserved error codes.\r\n    * It doesn't denote a real error code.\r\n    *\r\n    * @since 3.16.0\r\n    */\r\n    LSPErrorCodes.lspReservedErrorRangeEnd = -32800;\r\n})(LSPErrorCodes = exports.LSPErrorCodes || (exports.LSPErrorCodes = {}));\r\n//# sourceMappingURL=api.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.createProtocolConnection = void 0;\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nfunction createProtocolConnection(input, output, logger, options) {\r\n    if (vscode_jsonrpc_1.ConnectionStrategy.is(options)) {\r\n        options = { connectionStrategy: options };\r\n    }\r\n    return vscode_jsonrpc_1.createMessageConnection(input, output, logger, options);\r\n}\r\nexports.createProtocolConnection = createProtocolConnection;\r\n//# sourceMappingURL=connection.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ProtocolNotificationType = exports.ProtocolNotificationType0 = exports.ProtocolRequestType = exports.ProtocolRequestType0 = exports.RegistrationType = void 0;\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nclass RegistrationType {\r\n    constructor(method) {\r\n        this.method = method;\r\n    }\r\n}\r\nexports.RegistrationType = RegistrationType;\r\nclass ProtocolRequestType0 extends vscode_jsonrpc_1.RequestType0 {\r\n    constructor(method) {\r\n        super(method);\r\n    }\r\n}\r\nexports.ProtocolRequestType0 = ProtocolRequestType0;\r\nclass ProtocolRequestType extends vscode_jsonrpc_1.RequestType {\r\n    constructor(method) {\r\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\r\n    }\r\n}\r\nexports.ProtocolRequestType = ProtocolRequestType;\r\nclass ProtocolNotificationType0 extends vscode_jsonrpc_1.NotificationType0 {\r\n    constructor(method) {\r\n        super(method);\r\n    }\r\n}\r\nexports.ProtocolNotificationType0 = ProtocolNotificationType0;\r\nclass ProtocolNotificationType extends vscode_jsonrpc_1.NotificationType {\r\n    constructor(method) {\r\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\r\n    }\r\n}\r\nexports.ProtocolNotificationType = ProtocolNotificationType;\r\n// let x: ProtocolNotificationType<number, { value: number}>;\r\n// let y: ProtocolNotificationType<string, { value: number}>;\r\n// x = y;\r\n//# sourceMappingURL=messages.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) TypeFox and others. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.CallHierarchyPrepareRequest = void 0;\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * A request to result a `CallHierarchyItem` in a document at a given position.\r\n * Can be used as an input to a incoming or outgoing call hierarchy.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar CallHierarchyPrepareRequest;\r\n(function (CallHierarchyPrepareRequest) {\r\n    CallHierarchyPrepareRequest.method = 'textDocument/prepareCallHierarchy';\r\n    CallHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(CallHierarchyPrepareRequest.method);\r\n})(CallHierarchyPrepareRequest = exports.CallHierarchyPrepareRequest || (exports.CallHierarchyPrepareRequest = {}));\r\n/**\r\n * A request to resolve the incoming calls for a given `CallHierarchyItem`.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar CallHierarchyIncomingCallsRequest;\r\n(function (CallHierarchyIncomingCallsRequest) {\r\n    CallHierarchyIncomingCallsRequest.method = 'callHierarchy/incomingCalls';\r\n    CallHierarchyIncomingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyIncomingCallsRequest.method);\r\n})(CallHierarchyIncomingCallsRequest = exports.CallHierarchyIncomingCallsRequest || (exports.CallHierarchyIncomingCallsRequest = {}));\r\n/**\r\n * A request to resolve the outgoing calls for a given `CallHierarchyItem`.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar CallHierarchyOutgoingCallsRequest;\r\n(function (CallHierarchyOutgoingCallsRequest) {\r\n    CallHierarchyOutgoingCallsRequest.method = 'callHierarchy/outgoingCalls';\r\n    CallHierarchyOutgoingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyOutgoingCallsRequest.method);\r\n})(CallHierarchyOutgoingCallsRequest = exports.CallHierarchyOutgoingCallsRequest || (exports.CallHierarchyOutgoingCallsRequest = {}));\r\n//# sourceMappingURL=protocol.callHierarchy.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ColorPresentationRequest = exports.DocumentColorRequest = void 0;\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * A request to list all color symbols found in a given text document. The request's\r\n * parameter is of type [DocumentColorParams](#DocumentColorParams) the\r\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar DocumentColorRequest;\r\n(function (DocumentColorRequest) {\r\n    DocumentColorRequest.method = 'textDocument/documentColor';\r\n    DocumentColorRequest.type = new messages_1.ProtocolRequestType(DocumentColorRequest.method);\r\n})(DocumentColorRequest = exports.DocumentColorRequest || (exports.DocumentColorRequest = {}));\r\n/**\r\n * A request to list all presentation for a color. The request's\r\n * parameter is of type [ColorPresentationParams](#ColorPresentationParams) the\r\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar ColorPresentationRequest;\r\n(function (ColorPresentationRequest) {\r\n    ColorPresentationRequest.type = new messages_1.ProtocolRequestType('textDocument/colorPresentation');\r\n})(ColorPresentationRequest = exports.ColorPresentationRequest || (exports.ColorPresentationRequest = {}));\r\n//# sourceMappingURL=protocol.colorProvider.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ConfigurationRequest = void 0;\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * The 'workspace/configuration' request is sent from the server to the client to fetch a certain\r\n * configuration setting.\r\n *\r\n * This pull model replaces the old push model were the client signaled configuration change via an\r\n * event. If the server still needs to react to configuration changes (since the server caches the\r\n * result of `workspace/configuration` requests) the server should register for an empty configuration\r\n * change event and empty the cache if such an event is received.\r\n */\r\nvar ConfigurationRequest;\r\n(function (ConfigurationRequest) {\r\n    ConfigurationRequest.type = new messages_1.ProtocolRequestType('workspace/configuration');\r\n})(ConfigurationRequest = exports.ConfigurationRequest || (exports.ConfigurationRequest = {}));\r\n//# sourceMappingURL=protocol.configuration.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DeclarationRequest = void 0;\r\nconst messages_1 = require(\"./messages\");\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * A request to resolve the type definition locations of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPositioParams]\r\n * (#TextDocumentPositionParams) the response is of type [Declaration](#Declaration)\r\n * or a typed array of [DeclarationLink](#DeclarationLink) or a Thenable that resolves\r\n * to such.\r\n */\r\nvar DeclarationRequest;\r\n(function (DeclarationRequest) {\r\n    DeclarationRequest.method = 'textDocument/declaration';\r\n    DeclarationRequest.type = new messages_1.ProtocolRequestType(DeclarationRequest.method);\r\n})(DeclarationRequest = exports.DeclarationRequest || (exports.DeclarationRequest = {}));\r\n//# sourceMappingURL=protocol.declaration.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.DidRenameFilesNotification = exports.WillRenameFilesRequest = exports.DidCreateFilesNotification = exports.WillCreateFilesRequest = exports.FileOperationPatternKind = void 0;\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * A pattern kind describing if a glob pattern matches a file a folder or\r\n * both.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar FileOperationPatternKind;\r\n(function (FileOperationPatternKind) {\r\n    /**\r\n     * The pattern matches a file only.\r\n     */\r\n    FileOperationPatternKind.file = 'file';\r\n    /**\r\n     * The pattern matches a folder only.\r\n     */\r\n    FileOperationPatternKind.folder = 'folder';\r\n})(FileOperationPatternKind = exports.FileOperationPatternKind || (exports.FileOperationPatternKind = {}));\r\n/**\r\n * The will create files request is sent from the client to the server before files are actually\r\n * created as long as the creation is triggered from within the client.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar WillCreateFilesRequest;\r\n(function (WillCreateFilesRequest) {\r\n    WillCreateFilesRequest.method = 'workspace/willCreateFiles';\r\n    WillCreateFilesRequest.type = new messages_1.ProtocolRequestType(WillCreateFilesRequest.method);\r\n})(WillCreateFilesRequest = exports.WillCreateFilesRequest || (exports.WillCreateFilesRequest = {}));\r\n/**\r\n * The did create files notification is sent from the client to the server when\r\n * files were created from within the client.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar DidCreateFilesNotification;\r\n(function (DidCreateFilesNotification) {\r\n    DidCreateFilesNotification.method = 'workspace/didCreateFiles';\r\n    DidCreateFilesNotification.type = new messages_1.ProtocolNotificationType(DidCreateFilesNotification.method);\r\n})(DidCreateFilesNotification = exports.DidCreateFilesNotification || (exports.DidCreateFilesNotification = {}));\r\n/**\r\n * The will rename files request is sent from the client to the server before files are actually\r\n * renamed as long as the rename is triggered from within the client.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar WillRenameFilesRequest;\r\n(function (WillRenameFilesRequest) {\r\n    WillRenameFilesRequest.method = 'workspace/willRenameFiles';\r\n    WillRenameFilesRequest.type = new messages_1.ProtocolRequestType(WillRenameFilesRequest.method);\r\n})(WillRenameFilesRequest = exports.WillRenameFilesRequest || (exports.WillRenameFilesRequest = {}));\r\n/**\r\n * The did rename files notification is sent from the client to the server when\r\n * files were renamed from within the client.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar DidRenameFilesNotification;\r\n(function (DidRenameFilesNotification) {\r\n    DidRenameFilesNotification.method = 'workspace/didRenameFiles';\r\n    DidRenameFilesNotification.type = new messages_1.ProtocolNotificationType(DidRenameFilesNotification.method);\r\n})(DidRenameFilesNotification = exports.DidRenameFilesNotification || (exports.DidRenameFilesNotification = {}));\r\n/**\r\n * The will delete files request is sent from the client to the server before files are actually\r\n * deleted as long as the deletion is triggered from within the client.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar DidDeleteFilesNotification;\r\n(function (DidDeleteFilesNotification) {\r\n    DidDeleteFilesNotification.method = 'workspace/didDeleteFiles';\r\n    DidDeleteFilesNotification.type = new messages_1.ProtocolNotificationType(DidDeleteFilesNotification.method);\r\n})(DidDeleteFilesNotification = exports.DidDeleteFilesNotification || (exports.DidDeleteFilesNotification = {}));\r\n/**\r\n * The did delete files notification is sent from the client to the server when\r\n * files were deleted from within the client.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar WillDeleteFilesRequest;\r\n(function (WillDeleteFilesRequest) {\r\n    WillDeleteFilesRequest.method = 'workspace/willDeleteFiles';\r\n    WillDeleteFilesRequest.type = new messages_1.ProtocolRequestType(WillDeleteFilesRequest.method);\r\n})(WillDeleteFilesRequest = exports.WillDeleteFilesRequest || (exports.WillDeleteFilesRequest = {}));\r\n//# sourceMappingURL=protocol.fileOperations.js.map","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.FoldingRangeRequest = exports.FoldingRangeKind = void 0;\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * Enum of known range kinds\r\n */\r\nvar FoldingRangeKind;\r\n(function (FoldingRangeKind) {\r\n    /**\r\n     * Folding range for a comment\r\n     */\r\n    FoldingRangeKind[\"Comment\"] = \"comment\";\r\n    /**\r\n     * Folding range for a imports or includes\r\n     */\r\n    FoldingRangeKind[\"Imports\"] = \"imports\";\r\n    /**\r\n     * Folding range for a region (e.g. `#region`)\r\n     */\r\n    FoldingRangeKind[\"Region\"] = \"region\";\r\n})(FoldingRangeKind = exports.FoldingRangeKind || (exports.FoldingRangeKind = {}));\r\n/**\r\n * A request to provide folding ranges in a document. The request's\r\n * parameter is of type [FoldingRangeParams](#FoldingRangeParams), the\r\n * response is of type [FoldingRangeList](#FoldingRangeList) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar FoldingRangeRequest;\r\n(function (FoldingRangeRequest) {\r\n    FoldingRangeRequest.method = 'textDocument/foldingRange';\r\n    FoldingRangeRequest.type = new messages_1.ProtocolRequestType(FoldingRangeRequest.method);\r\n})(FoldingRangeRequest = exports.FoldingRangeRequest || (exports.FoldingRangeRequest = {}));\r\n//# sourceMappingURL=protocol.foldingRange.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ImplementationRequest = void 0;\r\nconst messages_1 = require(\"./messages\");\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * A request to resolve the implementation locations of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPositioParams]\r\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\r\n * Thenable that resolves to such.\r\n */\r\nvar ImplementationRequest;\r\n(function (ImplementationRequest) {\r\n    ImplementationRequest.method = 'textDocument/implementation';\r\n    ImplementationRequest.type = new messages_1.ProtocolRequestType(ImplementationRequest.method);\r\n})(ImplementationRequest = exports.ImplementationRequest || (exports.ImplementationRequest = {}));\r\n//# sourceMappingURL=protocol.implementation.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DocumentLinkRequest = exports.CodeLensRefreshRequest = exports.CodeLensResolveRequest = exports.CodeLensRequest = exports.WorkspaceSymbolRequest = exports.CodeActionResolveRequest = exports.CodeActionRequest = exports.DocumentSymbolRequest = exports.DocumentHighlightRequest = exports.ReferencesRequest = exports.DefinitionRequest = exports.SignatureHelpRequest = exports.SignatureHelpTriggerKind = exports.HoverRequest = exports.CompletionResolveRequest = exports.CompletionRequest = exports.CompletionTriggerKind = exports.PublishDiagnosticsNotification = exports.WatchKind = exports.FileChangeType = exports.DidChangeWatchedFilesNotification = exports.WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentNotification = exports.TextDocumentSaveReason = exports.DidSaveTextDocumentNotification = exports.DidCloseTextDocumentNotification = exports.DidChangeTextDocumentNotification = exports.TextDocumentContentChangeEvent = exports.DidOpenTextDocumentNotification = exports.TextDocumentSyncKind = exports.TelemetryEventNotification = exports.LogMessageNotification = exports.ShowMessageRequest = exports.ShowMessageNotification = exports.MessageType = exports.DidChangeConfigurationNotification = exports.ExitNotification = exports.ShutdownRequest = exports.InitializedNotification = exports.InitializeError = exports.InitializeRequest = exports.WorkDoneProgressOptions = exports.TextDocumentRegistrationOptions = exports.StaticRegistrationOptions = exports.FailureHandlingKind = exports.ResourceOperationKind = exports.UnregistrationRequest = exports.RegistrationRequest = exports.DocumentSelector = exports.DocumentFilter = void 0;\r\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = exports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.WillRenameFilesRequest = exports.DidRenameFilesNotification = exports.WillCreateFilesRequest = exports.DidCreateFilesNotification = exports.FileOperationPatternKind = exports.LinkedEditingRangeRequest = exports.ShowDocumentRequest = exports.SemanticTokensRegistrationType = exports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.TokenFormat = exports.SemanticTokens = exports.SemanticTokenModifiers = exports.SemanticTokenTypes = exports.CallHierarchyPrepareRequest = exports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = exports.SelectionRangeRequest = exports.DeclarationRequest = exports.FoldingRangeRequest = exports.ColorPresentationRequest = exports.DocumentColorRequest = exports.ConfigurationRequest = exports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = exports.TypeDefinitionRequest = exports.ImplementationRequest = exports.ApplyWorkspaceEditRequest = exports.ExecuteCommandRequest = exports.PrepareRenameRequest = exports.RenameRequest = exports.PrepareSupportDefaultBehavior = exports.DocumentOnTypeFormattingRequest = exports.DocumentRangeFormattingRequest = exports.DocumentFormattingRequest = exports.DocumentLinkResolveRequest = void 0;\r\nconst Is = require(\"./utils/is\");\r\nconst messages_1 = require(\"./messages\");\r\nconst protocol_implementation_1 = require(\"./protocol.implementation\");\r\nObject.defineProperty(exports, \"ImplementationRequest\", { enumerable: true, get: function () { return protocol_implementation_1.ImplementationRequest; } });\r\nconst protocol_typeDefinition_1 = require(\"./protocol.typeDefinition\");\r\nObject.defineProperty(exports, \"TypeDefinitionRequest\", { enumerable: true, get: function () { return protocol_typeDefinition_1.TypeDefinitionRequest; } });\r\nconst protocol_workspaceFolders_1 = require(\"./protocol.workspaceFolders\");\r\nObject.defineProperty(exports, \"WorkspaceFoldersRequest\", { enumerable: true, get: function () { return protocol_workspaceFolders_1.WorkspaceFoldersRequest; } });\r\nObject.defineProperty(exports, \"DidChangeWorkspaceFoldersNotification\", { enumerable: true, get: function () { return protocol_workspaceFolders_1.DidChangeWorkspaceFoldersNotification; } });\r\nconst protocol_configuration_1 = require(\"./protocol.configuration\");\r\nObject.defineProperty(exports, \"ConfigurationRequest\", { enumerable: true, get: function () { return protocol_configuration_1.ConfigurationRequest; } });\r\nconst protocol_colorProvider_1 = require(\"./protocol.colorProvider\");\r\nObject.defineProperty(exports, \"DocumentColorRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.DocumentColorRequest; } });\r\nObject.defineProperty(exports, \"ColorPresentationRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.ColorPresentationRequest; } });\r\nconst protocol_foldingRange_1 = require(\"./protocol.foldingRange\");\r\nObject.defineProperty(exports, \"FoldingRangeRequest\", { enumerable: true, get: function () { return protocol_foldingRange_1.FoldingRangeRequest; } });\r\nconst protocol_declaration_1 = require(\"./protocol.declaration\");\r\nObject.defineProperty(exports, \"DeclarationRequest\", { enumerable: true, get: function () { return protocol_declaration_1.DeclarationRequest; } });\r\nconst protocol_selectionRange_1 = require(\"./protocol.selectionRange\");\r\nObject.defineProperty(exports, \"SelectionRangeRequest\", { enumerable: true, get: function () { return protocol_selectionRange_1.SelectionRangeRequest; } });\r\nconst protocol_progress_1 = require(\"./protocol.progress\");\r\nObject.defineProperty(exports, \"WorkDoneProgress\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgress; } });\r\nObject.defineProperty(exports, \"WorkDoneProgressCreateRequest\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCreateRequest; } });\r\nObject.defineProperty(exports, \"WorkDoneProgressCancelNotification\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCancelNotification; } });\r\nconst protocol_callHierarchy_1 = require(\"./protocol.callHierarchy\");\r\nObject.defineProperty(exports, \"CallHierarchyIncomingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyIncomingCallsRequest; } });\r\nObject.defineProperty(exports, \"CallHierarchyOutgoingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyOutgoingCallsRequest; } });\r\nObject.defineProperty(exports, \"CallHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyPrepareRequest; } });\r\nconst protocol_semanticTokens_1 = require(\"./protocol.semanticTokens\");\r\nObject.defineProperty(exports, \"SemanticTokenTypes\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokenTypes; } });\r\nObject.defineProperty(exports, \"SemanticTokenModifiers\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokenModifiers; } });\r\nObject.defineProperty(exports, \"SemanticTokens\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokens; } });\r\nObject.defineProperty(exports, \"TokenFormat\", { enumerable: true, get: function () { return protocol_semanticTokens_1.TokenFormat; } });\r\nObject.defineProperty(exports, \"SemanticTokensRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRequest; } });\r\nObject.defineProperty(exports, \"SemanticTokensDeltaRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensDeltaRequest; } });\r\nObject.defineProperty(exports, \"SemanticTokensRangeRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRangeRequest; } });\r\nObject.defineProperty(exports, \"SemanticTokensRefreshRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRefreshRequest; } });\r\nObject.defineProperty(exports, \"SemanticTokensRegistrationType\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRegistrationType; } });\r\nconst protocol_showDocument_1 = require(\"./protocol.showDocument\");\r\nObject.defineProperty(exports, \"ShowDocumentRequest\", { enumerable: true, get: function () { return protocol_showDocument_1.ShowDocumentRequest; } });\r\nconst protocol_linkedEditingRange_1 = require(\"./protocol.linkedEditingRange\");\r\nObject.defineProperty(exports, \"LinkedEditingRangeRequest\", { enumerable: true, get: function () { return protocol_linkedEditingRange_1.LinkedEditingRangeRequest; } });\r\nconst protocol_fileOperations_1 = require(\"./protocol.fileOperations\");\r\nObject.defineProperty(exports, \"FileOperationPatternKind\", { enumerable: true, get: function () { return protocol_fileOperations_1.FileOperationPatternKind; } });\r\nObject.defineProperty(exports, \"DidCreateFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidCreateFilesNotification; } });\r\nObject.defineProperty(exports, \"WillCreateFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillCreateFilesRequest; } });\r\nObject.defineProperty(exports, \"DidRenameFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidRenameFilesNotification; } });\r\nObject.defineProperty(exports, \"WillRenameFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillRenameFilesRequest; } });\r\nObject.defineProperty(exports, \"DidDeleteFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidDeleteFilesNotification; } });\r\nObject.defineProperty(exports, \"WillDeleteFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillDeleteFilesRequest; } });\r\nconst protocol_moniker_1 = require(\"./protocol.moniker\");\r\nObject.defineProperty(exports, \"UniquenessLevel\", { enumerable: true, get: function () { return protocol_moniker_1.UniquenessLevel; } });\r\nObject.defineProperty(exports, \"MonikerKind\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerKind; } });\r\nObject.defineProperty(exports, \"MonikerRequest\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerRequest; } });\r\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * The DocumentFilter namespace provides helper functions to work with\r\n * [DocumentFilter](#DocumentFilter) literals.\r\n */\r\nvar DocumentFilter;\r\n(function (DocumentFilter) {\r\n    function is(value) {\r\n        const candidate = value;\r\n        return Is.string(candidate.language) || Is.string(candidate.scheme) || Is.string(candidate.pattern);\r\n    }\r\n    DocumentFilter.is = is;\r\n})(DocumentFilter = exports.DocumentFilter || (exports.DocumentFilter = {}));\r\n/**\r\n * The DocumentSelector namespace provides helper functions to work with\r\n * [DocumentSelector](#DocumentSelector)s.\r\n */\r\nvar DocumentSelector;\r\n(function (DocumentSelector) {\r\n    function is(value) {\r\n        if (!Array.isArray(value)) {\r\n            return false;\r\n        }\r\n        for (let elem of value) {\r\n            if (!Is.string(elem) && !DocumentFilter.is(elem)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    DocumentSelector.is = is;\r\n})(DocumentSelector = exports.DocumentSelector || (exports.DocumentSelector = {}));\r\n/**\r\n * The `client/registerCapability` request is sent from the server to the client to register a new capability\r\n * handler on the client side.\r\n */\r\nvar RegistrationRequest;\r\n(function (RegistrationRequest) {\r\n    RegistrationRequest.type = new messages_1.ProtocolRequestType('client/registerCapability');\r\n})(RegistrationRequest = exports.RegistrationRequest || (exports.RegistrationRequest = {}));\r\n/**\r\n * The `client/unregisterCapability` request is sent from the server to the client to unregister a previously registered capability\r\n * handler on the client side.\r\n */\r\nvar UnregistrationRequest;\r\n(function (UnregistrationRequest) {\r\n    UnregistrationRequest.type = new messages_1.ProtocolRequestType('client/unregisterCapability');\r\n})(UnregistrationRequest = exports.UnregistrationRequest || (exports.UnregistrationRequest = {}));\r\nvar ResourceOperationKind;\r\n(function (ResourceOperationKind) {\r\n    /**\r\n     * Supports creating new files and folders.\r\n     */\r\n    ResourceOperationKind.Create = 'create';\r\n    /**\r\n     * Supports renaming existing files and folders.\r\n     */\r\n    ResourceOperationKind.Rename = 'rename';\r\n    /**\r\n     * Supports deleting existing files and folders.\r\n     */\r\n    ResourceOperationKind.Delete = 'delete';\r\n})(ResourceOperationKind = exports.ResourceOperationKind || (exports.ResourceOperationKind = {}));\r\nvar FailureHandlingKind;\r\n(function (FailureHandlingKind) {\r\n    /**\r\n     * Applying the workspace change is simply aborted if one of the changes provided\r\n     * fails. All operations executed before the failing operation stay executed.\r\n     */\r\n    FailureHandlingKind.Abort = 'abort';\r\n    /**\r\n     * All operations are executed transactional. That means they either all\r\n     * succeed or no changes at all are applied to the workspace.\r\n     */\r\n    FailureHandlingKind.Transactional = 'transactional';\r\n    /**\r\n     * If the workspace edit contains only textual file changes they are executed transactional.\r\n     * If resource changes (create, rename or delete file) are part of the change the failure\r\n     * handling strategy is abort.\r\n     */\r\n    FailureHandlingKind.TextOnlyTransactional = 'textOnlyTransactional';\r\n    /**\r\n     * The client tries to undo the operations already executed. But there is no\r\n     * guarantee that this is succeeding.\r\n     */\r\n    FailureHandlingKind.Undo = 'undo';\r\n})(FailureHandlingKind = exports.FailureHandlingKind || (exports.FailureHandlingKind = {}));\r\n/**\r\n * The StaticRegistrationOptions namespace provides helper functions to work with\r\n * [StaticRegistrationOptions](#StaticRegistrationOptions) literals.\r\n */\r\nvar StaticRegistrationOptions;\r\n(function (StaticRegistrationOptions) {\r\n    function hasId(value) {\r\n        const candidate = value;\r\n        return candidate && Is.string(candidate.id) && candidate.id.length > 0;\r\n    }\r\n    StaticRegistrationOptions.hasId = hasId;\r\n})(StaticRegistrationOptions = exports.StaticRegistrationOptions || (exports.StaticRegistrationOptions = {}));\r\n/**\r\n * The TextDocumentRegistrationOptions namespace provides helper functions to work with\r\n * [TextDocumentRegistrationOptions](#TextDocumentRegistrationOptions) literals.\r\n */\r\nvar TextDocumentRegistrationOptions;\r\n(function (TextDocumentRegistrationOptions) {\r\n    function is(value) {\r\n        const candidate = value;\r\n        return candidate && (candidate.documentSelector === null || DocumentSelector.is(candidate.documentSelector));\r\n    }\r\n    TextDocumentRegistrationOptions.is = is;\r\n})(TextDocumentRegistrationOptions = exports.TextDocumentRegistrationOptions || (exports.TextDocumentRegistrationOptions = {}));\r\n/**\r\n * The WorkDoneProgressOptions namespace provides helper functions to work with\r\n * [WorkDoneProgressOptions](#WorkDoneProgressOptions) literals.\r\n */\r\nvar WorkDoneProgressOptions;\r\n(function (WorkDoneProgressOptions) {\r\n    function is(value) {\r\n        const candidate = value;\r\n        return Is.objectLiteral(candidate) && (candidate.workDoneProgress === undefined || Is.boolean(candidate.workDoneProgress));\r\n    }\r\n    WorkDoneProgressOptions.is = is;\r\n    function hasWorkDoneProgress(value) {\r\n        const candidate = value;\r\n        return candidate && Is.boolean(candidate.workDoneProgress);\r\n    }\r\n    WorkDoneProgressOptions.hasWorkDoneProgress = hasWorkDoneProgress;\r\n})(WorkDoneProgressOptions = exports.WorkDoneProgressOptions || (exports.WorkDoneProgressOptions = {}));\r\n/**\r\n * The initialize request is sent from the client to the server.\r\n * It is sent once as the request after starting up the server.\r\n * The requests parameter is of type [InitializeParams](#InitializeParams)\r\n * the response if of type [InitializeResult](#InitializeResult) of a Thenable that\r\n * resolves to such.\r\n */\r\nvar InitializeRequest;\r\n(function (InitializeRequest) {\r\n    InitializeRequest.type = new messages_1.ProtocolRequestType('initialize');\r\n})(InitializeRequest = exports.InitializeRequest || (exports.InitializeRequest = {}));\r\n/**\r\n * Known error codes for an `InitializeError`;\r\n */\r\nvar InitializeError;\r\n(function (InitializeError) {\r\n    /**\r\n     * If the protocol version provided by the client can't be handled by the server.\r\n     * @deprecated This initialize error got replaced by client capabilities. There is\r\n     * no version handshake in version 3.0x\r\n     */\r\n    InitializeError.unknownProtocolVersion = 1;\r\n})(InitializeError = exports.InitializeError || (exports.InitializeError = {}));\r\n/**\r\n * The initialized notification is sent from the client to the\r\n * server after the client is fully initialized and the server\r\n * is allowed to send requests from the server to the client.\r\n */\r\nvar InitializedNotification;\r\n(function (InitializedNotification) {\r\n    InitializedNotification.type = new messages_1.ProtocolNotificationType('initialized');\r\n})(InitializedNotification = exports.InitializedNotification || (exports.InitializedNotification = {}));\r\n//---- Shutdown Method ----\r\n/**\r\n * A shutdown request is sent from the client to the server.\r\n * It is sent once when the client decides to shutdown the\r\n * server. The only notification that is sent after a shutdown request\r\n * is the exit event.\r\n */\r\nvar ShutdownRequest;\r\n(function (ShutdownRequest) {\r\n    ShutdownRequest.type = new messages_1.ProtocolRequestType0('shutdown');\r\n})(ShutdownRequest = exports.ShutdownRequest || (exports.ShutdownRequest = {}));\r\n//---- Exit Notification ----\r\n/**\r\n * The exit event is sent from the client to the server to\r\n * ask the server to exit its process.\r\n */\r\nvar ExitNotification;\r\n(function (ExitNotification) {\r\n    ExitNotification.type = new messages_1.ProtocolNotificationType0('exit');\r\n})(ExitNotification = exports.ExitNotification || (exports.ExitNotification = {}));\r\n/**\r\n * The configuration change notification is sent from the client to the server\r\n * when the client's configuration has changed. The notification contains\r\n * the changed configuration as defined by the language client.\r\n */\r\nvar DidChangeConfigurationNotification;\r\n(function (DidChangeConfigurationNotification) {\r\n    DidChangeConfigurationNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeConfiguration');\r\n})(DidChangeConfigurationNotification = exports.DidChangeConfigurationNotification || (exports.DidChangeConfigurationNotification = {}));\r\n//---- Message show and log notifications ----\r\n/**\r\n * The message type\r\n */\r\nvar MessageType;\r\n(function (MessageType) {\r\n    /**\r\n     * An error message.\r\n     */\r\n    MessageType.Error = 1;\r\n    /**\r\n     * A warning message.\r\n     */\r\n    MessageType.Warning = 2;\r\n    /**\r\n     * An information message.\r\n     */\r\n    MessageType.Info = 3;\r\n    /**\r\n     * A log message.\r\n     */\r\n    MessageType.Log = 4;\r\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\r\n/**\r\n * The show message notification is sent from a server to a client to ask\r\n * the client to display a particular message in the user interface.\r\n */\r\nvar ShowMessageNotification;\r\n(function (ShowMessageNotification) {\r\n    ShowMessageNotification.type = new messages_1.ProtocolNotificationType('window/showMessage');\r\n})(ShowMessageNotification = exports.ShowMessageNotification || (exports.ShowMessageNotification = {}));\r\n/**\r\n * The show message request is sent from the server to the client to show a message\r\n * and a set of options actions to the user.\r\n */\r\nvar ShowMessageRequest;\r\n(function (ShowMessageRequest) {\r\n    ShowMessageRequest.type = new messages_1.ProtocolRequestType('window/showMessageRequest');\r\n})(ShowMessageRequest = exports.ShowMessageRequest || (exports.ShowMessageRequest = {}));\r\n/**\r\n * The log message notification is sent from the server to the client to ask\r\n * the client to log a particular message.\r\n */\r\nvar LogMessageNotification;\r\n(function (LogMessageNotification) {\r\n    LogMessageNotification.type = new messages_1.ProtocolNotificationType('window/logMessage');\r\n})(LogMessageNotification = exports.LogMessageNotification || (exports.LogMessageNotification = {}));\r\n//---- Telemetry notification\r\n/**\r\n * The telemetry event notification is sent from the server to the client to ask\r\n * the client to log telemetry data.\r\n */\r\nvar TelemetryEventNotification;\r\n(function (TelemetryEventNotification) {\r\n    TelemetryEventNotification.type = new messages_1.ProtocolNotificationType('telemetry/event');\r\n})(TelemetryEventNotification = exports.TelemetryEventNotification || (exports.TelemetryEventNotification = {}));\r\n/**\r\n * Defines how the host (editor) should sync\r\n * document changes to the language server.\r\n */\r\nvar TextDocumentSyncKind;\r\n(function (TextDocumentSyncKind) {\r\n    /**\r\n     * Documents should not be synced at all.\r\n     */\r\n    TextDocumentSyncKind.None = 0;\r\n    /**\r\n     * Documents are synced by always sending the full content\r\n     * of the document.\r\n     */\r\n    TextDocumentSyncKind.Full = 1;\r\n    /**\r\n     * Documents are synced by sending the full content on open.\r\n     * After that only incremental updates to the document are\r\n     * send.\r\n     */\r\n    TextDocumentSyncKind.Incremental = 2;\r\n})(TextDocumentSyncKind = exports.TextDocumentSyncKind || (exports.TextDocumentSyncKind = {}));\r\n/**\r\n * The document open notification is sent from the client to the server to signal\r\n * newly opened text documents. The document's truth is now managed by the client\r\n * and the server must not try to read the document's truth using the document's\r\n * uri. Open in this sense means it is managed by the client. It doesn't necessarily\r\n * mean that its content is presented in an editor. An open notification must not\r\n * be sent more than once without a corresponding close notification send before.\r\n * This means open and close notification must be balanced and the max open count\r\n * is one.\r\n */\r\nvar DidOpenTextDocumentNotification;\r\n(function (DidOpenTextDocumentNotification) {\r\n    DidOpenTextDocumentNotification.method = 'textDocument/didOpen';\r\n    DidOpenTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenTextDocumentNotification.method);\r\n})(DidOpenTextDocumentNotification = exports.DidOpenTextDocumentNotification || (exports.DidOpenTextDocumentNotification = {}));\r\nvar TextDocumentContentChangeEvent;\r\n(function (TextDocumentContentChangeEvent) {\r\n    /**\r\n     * Checks whether the information describes a delta event.\r\n     */\r\n    function isIncremental(event) {\r\n        let candidate = event;\r\n        return candidate !== undefined && candidate !== null &&\r\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\r\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\r\n    }\r\n    TextDocumentContentChangeEvent.isIncremental = isIncremental;\r\n    /**\r\n     * Checks whether the information describes a full replacement event.\r\n     */\r\n    function isFull(event) {\r\n        let candidate = event;\r\n        return candidate !== undefined && candidate !== null &&\r\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\r\n    }\r\n    TextDocumentContentChangeEvent.isFull = isFull;\r\n})(TextDocumentContentChangeEvent = exports.TextDocumentContentChangeEvent || (exports.TextDocumentContentChangeEvent = {}));\r\n/**\r\n * The document change notification is sent from the client to the server to signal\r\n * changes to a text document.\r\n */\r\nvar DidChangeTextDocumentNotification;\r\n(function (DidChangeTextDocumentNotification) {\r\n    DidChangeTextDocumentNotification.method = 'textDocument/didChange';\r\n    DidChangeTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeTextDocumentNotification.method);\r\n})(DidChangeTextDocumentNotification = exports.DidChangeTextDocumentNotification || (exports.DidChangeTextDocumentNotification = {}));\r\n/**\r\n * The document close notification is sent from the client to the server when\r\n * the document got closed in the client. The document's truth now exists where\r\n * the document's uri points to (e.g. if the document's uri is a file uri the\r\n * truth now exists on disk). As with the open notification the close notification\r\n * is about managing the document's content. Receiving a close notification\r\n * doesn't mean that the document was open in an editor before. A close\r\n * notification requires a previous open notification to be sent.\r\n */\r\nvar DidCloseTextDocumentNotification;\r\n(function (DidCloseTextDocumentNotification) {\r\n    DidCloseTextDocumentNotification.method = 'textDocument/didClose';\r\n    DidCloseTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseTextDocumentNotification.method);\r\n})(DidCloseTextDocumentNotification = exports.DidCloseTextDocumentNotification || (exports.DidCloseTextDocumentNotification = {}));\r\n/**\r\n * The document save notification is sent from the client to the server when\r\n * the document got saved in the client.\r\n */\r\nvar DidSaveTextDocumentNotification;\r\n(function (DidSaveTextDocumentNotification) {\r\n    DidSaveTextDocumentNotification.method = 'textDocument/didSave';\r\n    DidSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveTextDocumentNotification.method);\r\n})(DidSaveTextDocumentNotification = exports.DidSaveTextDocumentNotification || (exports.DidSaveTextDocumentNotification = {}));\r\n/**\r\n * Represents reasons why a text document is saved.\r\n */\r\nvar TextDocumentSaveReason;\r\n(function (TextDocumentSaveReason) {\r\n    /**\r\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\r\n     * or by an API call.\r\n     */\r\n    TextDocumentSaveReason.Manual = 1;\r\n    /**\r\n     * Automatic after a delay.\r\n     */\r\n    TextDocumentSaveReason.AfterDelay = 2;\r\n    /**\r\n     * When the editor lost focus.\r\n     */\r\n    TextDocumentSaveReason.FocusOut = 3;\r\n})(TextDocumentSaveReason = exports.TextDocumentSaveReason || (exports.TextDocumentSaveReason = {}));\r\n/**\r\n * A document will save notification is sent from the client to the server before\r\n * the document is actually saved.\r\n */\r\nvar WillSaveTextDocumentNotification;\r\n(function (WillSaveTextDocumentNotification) {\r\n    WillSaveTextDocumentNotification.method = 'textDocument/willSave';\r\n    WillSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(WillSaveTextDocumentNotification.method);\r\n})(WillSaveTextDocumentNotification = exports.WillSaveTextDocumentNotification || (exports.WillSaveTextDocumentNotification = {}));\r\n/**\r\n * A document will save request is sent from the client to the server before\r\n * the document is actually saved. The request can return an array of TextEdits\r\n * which will be applied to the text document before it is saved. Please note that\r\n * clients might drop results if computing the text edits took too long or if a\r\n * server constantly fails on this request. This is done to keep the save fast and\r\n * reliable.\r\n */\r\nvar WillSaveTextDocumentWaitUntilRequest;\r\n(function (WillSaveTextDocumentWaitUntilRequest) {\r\n    WillSaveTextDocumentWaitUntilRequest.method = 'textDocument/willSaveWaitUntil';\r\n    WillSaveTextDocumentWaitUntilRequest.type = new messages_1.ProtocolRequestType(WillSaveTextDocumentWaitUntilRequest.method);\r\n})(WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentWaitUntilRequest || (exports.WillSaveTextDocumentWaitUntilRequest = {}));\r\n/**\r\n * The watched files notification is sent from the client to the server when\r\n * the client detects changes to file watched by the language client.\r\n */\r\nvar DidChangeWatchedFilesNotification;\r\n(function (DidChangeWatchedFilesNotification) {\r\n    DidChangeWatchedFilesNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeWatchedFiles');\r\n})(DidChangeWatchedFilesNotification = exports.DidChangeWatchedFilesNotification || (exports.DidChangeWatchedFilesNotification = {}));\r\n/**\r\n * The file event type\r\n */\r\nvar FileChangeType;\r\n(function (FileChangeType) {\r\n    /**\r\n     * The file got created.\r\n     */\r\n    FileChangeType.Created = 1;\r\n    /**\r\n     * The file got changed.\r\n     */\r\n    FileChangeType.Changed = 2;\r\n    /**\r\n     * The file got deleted.\r\n     */\r\n    FileChangeType.Deleted = 3;\r\n})(FileChangeType = exports.FileChangeType || (exports.FileChangeType = {}));\r\nvar WatchKind;\r\n(function (WatchKind) {\r\n    /**\r\n     * Interested in create events.\r\n     */\r\n    WatchKind.Create = 1;\r\n    /**\r\n     * Interested in change events\r\n     */\r\n    WatchKind.Change = 2;\r\n    /**\r\n     * Interested in delete events\r\n     */\r\n    WatchKind.Delete = 4;\r\n})(WatchKind = exports.WatchKind || (exports.WatchKind = {}));\r\n/**\r\n * Diagnostics notification are sent from the server to the client to signal\r\n * results of validation runs.\r\n */\r\nvar PublishDiagnosticsNotification;\r\n(function (PublishDiagnosticsNotification) {\r\n    PublishDiagnosticsNotification.type = new messages_1.ProtocolNotificationType('textDocument/publishDiagnostics');\r\n})(PublishDiagnosticsNotification = exports.PublishDiagnosticsNotification || (exports.PublishDiagnosticsNotification = {}));\r\n/**\r\n * How a completion was triggered\r\n */\r\nvar CompletionTriggerKind;\r\n(function (CompletionTriggerKind) {\r\n    /**\r\n     * Completion was triggered by typing an identifier (24x7 code\r\n     * complete), manual invocation (e.g Ctrl+Space) or via API.\r\n     */\r\n    CompletionTriggerKind.Invoked = 1;\r\n    /**\r\n     * Completion was triggered by a trigger character specified by\r\n     * the `triggerCharacters` properties of the `CompletionRegistrationOptions`.\r\n     */\r\n    CompletionTriggerKind.TriggerCharacter = 2;\r\n    /**\r\n     * Completion was re-triggered as current completion list is incomplete\r\n     */\r\n    CompletionTriggerKind.TriggerForIncompleteCompletions = 3;\r\n})(CompletionTriggerKind = exports.CompletionTriggerKind || (exports.CompletionTriggerKind = {}));\r\n/**\r\n * Request to request completion at a given text document position. The request's\r\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response\r\n * is of type [CompletionItem[]](#CompletionItem) or [CompletionList](#CompletionList)\r\n * or a Thenable that resolves to such.\r\n *\r\n * The request can delay the computation of the [`detail`](#CompletionItem.detail)\r\n * and [`documentation`](#CompletionItem.documentation) properties to the `completionItem/resolve`\r\n * request. However, properties that are needed for the initial sorting and filtering, like `sortText`,\r\n * `filterText`, `insertText`, and `textEdit`, must not be changed during resolve.\r\n */\r\nvar CompletionRequest;\r\n(function (CompletionRequest) {\r\n    CompletionRequest.method = 'textDocument/completion';\r\n    CompletionRequest.type = new messages_1.ProtocolRequestType(CompletionRequest.method);\r\n})(CompletionRequest = exports.CompletionRequest || (exports.CompletionRequest = {}));\r\n/**\r\n * Request to resolve additional information for a given completion item.The request's\r\n * parameter is of type [CompletionItem](#CompletionItem) the response\r\n * is of type [CompletionItem](#CompletionItem) or a Thenable that resolves to such.\r\n */\r\nvar CompletionResolveRequest;\r\n(function (CompletionResolveRequest) {\r\n    CompletionResolveRequest.method = 'completionItem/resolve';\r\n    CompletionResolveRequest.type = new messages_1.ProtocolRequestType(CompletionResolveRequest.method);\r\n})(CompletionResolveRequest = exports.CompletionResolveRequest || (exports.CompletionResolveRequest = {}));\r\n/**\r\n * Request to request hover information at a given text document position. The request's\r\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response is of\r\n * type [Hover](#Hover) or a Thenable that resolves to such.\r\n */\r\nvar HoverRequest;\r\n(function (HoverRequest) {\r\n    HoverRequest.method = 'textDocument/hover';\r\n    HoverRequest.type = new messages_1.ProtocolRequestType(HoverRequest.method);\r\n})(HoverRequest = exports.HoverRequest || (exports.HoverRequest = {}));\r\n/**\r\n * How a signature help was triggered.\r\n *\r\n * @since 3.15.0\r\n */\r\nvar SignatureHelpTriggerKind;\r\n(function (SignatureHelpTriggerKind) {\r\n    /**\r\n     * Signature help was invoked manually by the user or by a command.\r\n     */\r\n    SignatureHelpTriggerKind.Invoked = 1;\r\n    /**\r\n     * Signature help was triggered by a trigger character.\r\n     */\r\n    SignatureHelpTriggerKind.TriggerCharacter = 2;\r\n    /**\r\n     * Signature help was triggered by the cursor moving or by the document content changing.\r\n     */\r\n    SignatureHelpTriggerKind.ContentChange = 3;\r\n})(SignatureHelpTriggerKind = exports.SignatureHelpTriggerKind || (exports.SignatureHelpTriggerKind = {}));\r\nvar SignatureHelpRequest;\r\n(function (SignatureHelpRequest) {\r\n    SignatureHelpRequest.method = 'textDocument/signatureHelp';\r\n    SignatureHelpRequest.type = new messages_1.ProtocolRequestType(SignatureHelpRequest.method);\r\n})(SignatureHelpRequest = exports.SignatureHelpRequest || (exports.SignatureHelpRequest = {}));\r\n/**\r\n * A request to resolve the definition location of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPosition]\r\n * (#TextDocumentPosition) the response is of either type [Definition](#Definition)\r\n * or a typed array of [DefinitionLink](#DefinitionLink) or a Thenable that resolves\r\n * to such.\r\n */\r\nvar DefinitionRequest;\r\n(function (DefinitionRequest) {\r\n    DefinitionRequest.method = 'textDocument/definition';\r\n    DefinitionRequest.type = new messages_1.ProtocolRequestType(DefinitionRequest.method);\r\n})(DefinitionRequest = exports.DefinitionRequest || (exports.DefinitionRequest = {}));\r\n/**\r\n * A request to resolve project-wide references for the symbol denoted\r\n * by the given text document position. The request's parameter is of\r\n * type [ReferenceParams](#ReferenceParams) the response is of type\r\n * [Location[]](#Location) or a Thenable that resolves to such.\r\n */\r\nvar ReferencesRequest;\r\n(function (ReferencesRequest) {\r\n    ReferencesRequest.method = 'textDocument/references';\r\n    ReferencesRequest.type = new messages_1.ProtocolRequestType(ReferencesRequest.method);\r\n})(ReferencesRequest = exports.ReferencesRequest || (exports.ReferencesRequest = {}));\r\n/**\r\n * Request to resolve a [DocumentHighlight](#DocumentHighlight) for a given\r\n * text document position. The request's parameter is of type [TextDocumentPosition]\r\n * (#TextDocumentPosition) the request response is of type [DocumentHighlight[]]\r\n * (#DocumentHighlight) or a Thenable that resolves to such.\r\n */\r\nvar DocumentHighlightRequest;\r\n(function (DocumentHighlightRequest) {\r\n    DocumentHighlightRequest.method = 'textDocument/documentHighlight';\r\n    DocumentHighlightRequest.type = new messages_1.ProtocolRequestType(DocumentHighlightRequest.method);\r\n})(DocumentHighlightRequest = exports.DocumentHighlightRequest || (exports.DocumentHighlightRequest = {}));\r\n/**\r\n * A request to list all symbols found in a given text document. The request's\r\n * parameter is of type [TextDocumentIdentifier](#TextDocumentIdentifier) the\r\n * response is of type [SymbolInformation[]](#SymbolInformation) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar DocumentSymbolRequest;\r\n(function (DocumentSymbolRequest) {\r\n    DocumentSymbolRequest.method = 'textDocument/documentSymbol';\r\n    DocumentSymbolRequest.type = new messages_1.ProtocolRequestType(DocumentSymbolRequest.method);\r\n})(DocumentSymbolRequest = exports.DocumentSymbolRequest || (exports.DocumentSymbolRequest = {}));\r\n/**\r\n * A request to provide commands for the given text document and range.\r\n */\r\nvar CodeActionRequest;\r\n(function (CodeActionRequest) {\r\n    CodeActionRequest.method = 'textDocument/codeAction';\r\n    CodeActionRequest.type = new messages_1.ProtocolRequestType(CodeActionRequest.method);\r\n})(CodeActionRequest = exports.CodeActionRequest || (exports.CodeActionRequest = {}));\r\n/**\r\n * Request to resolve additional information for a given code action.The request's\r\n * parameter is of type [CodeAction](#CodeAction) the response\r\n * is of type [CodeAction](#CodeAction) or a Thenable that resolves to such.\r\n */\r\nvar CodeActionResolveRequest;\r\n(function (CodeActionResolveRequest) {\r\n    CodeActionResolveRequest.method = 'codeAction/resolve';\r\n    CodeActionResolveRequest.type = new messages_1.ProtocolRequestType(CodeActionResolveRequest.method);\r\n})(CodeActionResolveRequest = exports.CodeActionResolveRequest || (exports.CodeActionResolveRequest = {}));\r\n/**\r\n * A request to list project-wide symbols matching the query string given\r\n * by the [WorkspaceSymbolParams](#WorkspaceSymbolParams). The response is\r\n * of type [SymbolInformation[]](#SymbolInformation) or a Thenable that\r\n * resolves to such.\r\n */\r\nvar WorkspaceSymbolRequest;\r\n(function (WorkspaceSymbolRequest) {\r\n    WorkspaceSymbolRequest.method = 'workspace/symbol';\r\n    WorkspaceSymbolRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolRequest.method);\r\n})(WorkspaceSymbolRequest = exports.WorkspaceSymbolRequest || (exports.WorkspaceSymbolRequest = {}));\r\n/**\r\n * A request to provide code lens for the given text document.\r\n */\r\nvar CodeLensRequest;\r\n(function (CodeLensRequest) {\r\n    CodeLensRequest.method = 'textDocument/codeLens';\r\n    CodeLensRequest.type = new messages_1.ProtocolRequestType(CodeLensRequest.method);\r\n})(CodeLensRequest = exports.CodeLensRequest || (exports.CodeLensRequest = {}));\r\n/**\r\n * A request to resolve a command for a given code lens.\r\n */\r\nvar CodeLensResolveRequest;\r\n(function (CodeLensResolveRequest) {\r\n    CodeLensResolveRequest.method = 'codeLens/resolve';\r\n    CodeLensResolveRequest.type = new messages_1.ProtocolRequestType(CodeLensResolveRequest.method);\r\n})(CodeLensResolveRequest = exports.CodeLensResolveRequest || (exports.CodeLensResolveRequest = {}));\r\n/**\r\n * A request to refresh all code actions\r\n *\r\n * @since 3.16.0\r\n */\r\nvar CodeLensRefreshRequest;\r\n(function (CodeLensRefreshRequest) {\r\n    CodeLensRefreshRequest.method = `workspace/codeLens/refresh`;\r\n    CodeLensRefreshRequest.type = new messages_1.ProtocolRequestType0(CodeLensRefreshRequest.method);\r\n})(CodeLensRefreshRequest = exports.CodeLensRefreshRequest || (exports.CodeLensRefreshRequest = {}));\r\n/**\r\n * A request to provide document links\r\n */\r\nvar DocumentLinkRequest;\r\n(function (DocumentLinkRequest) {\r\n    DocumentLinkRequest.method = 'textDocument/documentLink';\r\n    DocumentLinkRequest.type = new messages_1.ProtocolRequestType(DocumentLinkRequest.method);\r\n})(DocumentLinkRequest = exports.DocumentLinkRequest || (exports.DocumentLinkRequest = {}));\r\n/**\r\n * Request to resolve additional information for a given document link. The request's\r\n * parameter is of type [DocumentLink](#DocumentLink) the response\r\n * is of type [DocumentLink](#DocumentLink) or a Thenable that resolves to such.\r\n */\r\nvar DocumentLinkResolveRequest;\r\n(function (DocumentLinkResolveRequest) {\r\n    DocumentLinkResolveRequest.method = 'documentLink/resolve';\r\n    DocumentLinkResolveRequest.type = new messages_1.ProtocolRequestType(DocumentLinkResolveRequest.method);\r\n})(DocumentLinkResolveRequest = exports.DocumentLinkResolveRequest || (exports.DocumentLinkResolveRequest = {}));\r\n/**\r\n * A request to to format a whole document.\r\n */\r\nvar DocumentFormattingRequest;\r\n(function (DocumentFormattingRequest) {\r\n    DocumentFormattingRequest.method = 'textDocument/formatting';\r\n    DocumentFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentFormattingRequest.method);\r\n})(DocumentFormattingRequest = exports.DocumentFormattingRequest || (exports.DocumentFormattingRequest = {}));\r\n/**\r\n * A request to to format a range in a document.\r\n */\r\nvar DocumentRangeFormattingRequest;\r\n(function (DocumentRangeFormattingRequest) {\r\n    DocumentRangeFormattingRequest.method = 'textDocument/rangeFormatting';\r\n    DocumentRangeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangeFormattingRequest.method);\r\n})(DocumentRangeFormattingRequest = exports.DocumentRangeFormattingRequest || (exports.DocumentRangeFormattingRequest = {}));\r\n/**\r\n * A request to format a document on type.\r\n */\r\nvar DocumentOnTypeFormattingRequest;\r\n(function (DocumentOnTypeFormattingRequest) {\r\n    DocumentOnTypeFormattingRequest.method = 'textDocument/onTypeFormatting';\r\n    DocumentOnTypeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentOnTypeFormattingRequest.method);\r\n})(DocumentOnTypeFormattingRequest = exports.DocumentOnTypeFormattingRequest || (exports.DocumentOnTypeFormattingRequest = {}));\r\n//---- Rename ----------------------------------------------\r\nvar PrepareSupportDefaultBehavior;\r\n(function (PrepareSupportDefaultBehavior) {\r\n    /**\r\n     * The client's default behavior is to select the identifier\r\n     * according the to language's syntax rule.\r\n     */\r\n    PrepareSupportDefaultBehavior.Identifier = 1;\r\n})(PrepareSupportDefaultBehavior = exports.PrepareSupportDefaultBehavior || (exports.PrepareSupportDefaultBehavior = {}));\r\n/**\r\n * A request to rename a symbol.\r\n */\r\nvar RenameRequest;\r\n(function (RenameRequest) {\r\n    RenameRequest.method = 'textDocument/rename';\r\n    RenameRequest.type = new messages_1.ProtocolRequestType(RenameRequest.method);\r\n})(RenameRequest = exports.RenameRequest || (exports.RenameRequest = {}));\r\n/**\r\n * A request to test and perform the setup necessary for a rename.\r\n *\r\n * @since 3.16 - support for default behavior\r\n */\r\nvar PrepareRenameRequest;\r\n(function (PrepareRenameRequest) {\r\n    PrepareRenameRequest.method = 'textDocument/prepareRename';\r\n    PrepareRenameRequest.type = new messages_1.ProtocolRequestType(PrepareRenameRequest.method);\r\n})(PrepareRenameRequest = exports.PrepareRenameRequest || (exports.PrepareRenameRequest = {}));\r\n/**\r\n * A request send from the client to the server to execute a command. The request might return\r\n * a workspace edit which the client will apply to the workspace.\r\n */\r\nvar ExecuteCommandRequest;\r\n(function (ExecuteCommandRequest) {\r\n    ExecuteCommandRequest.type = new messages_1.ProtocolRequestType('workspace/executeCommand');\r\n})(ExecuteCommandRequest = exports.ExecuteCommandRequest || (exports.ExecuteCommandRequest = {}));\r\n/**\r\n * A request sent from the server to the client to modified certain resources.\r\n */\r\nvar ApplyWorkspaceEditRequest;\r\n(function (ApplyWorkspaceEditRequest) {\r\n    ApplyWorkspaceEditRequest.type = new messages_1.ProtocolRequestType('workspace/applyEdit');\r\n})(ApplyWorkspaceEditRequest = exports.ApplyWorkspaceEditRequest || (exports.ApplyWorkspaceEditRequest = {}));\r\n//# sourceMappingURL=protocol.js.map","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LinkedEditingRangeRequest = void 0;\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * A request to provide ranges that can be edited together.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar LinkedEditingRangeRequest;\r\n(function (LinkedEditingRangeRequest) {\r\n    LinkedEditingRangeRequest.method = 'textDocument/linkedEditingRange';\r\n    LinkedEditingRangeRequest.type = new messages_1.ProtocolRequestType(LinkedEditingRangeRequest.method);\r\n})(LinkedEditingRangeRequest = exports.LinkedEditingRangeRequest || (exports.LinkedEditingRangeRequest = {}));\r\n//# sourceMappingURL=protocol.linkedEditingRange.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = void 0;\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * Moniker uniqueness level to define scope of the moniker.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar UniquenessLevel;\r\n(function (UniquenessLevel) {\r\n    /**\r\n     * The moniker is only unique inside a document\r\n     */\r\n    UniquenessLevel[\"document\"] = \"document\";\r\n    /**\r\n     * The moniker is unique inside a project for which a dump got created\r\n     */\r\n    UniquenessLevel[\"project\"] = \"project\";\r\n    /**\r\n     * The moniker is unique inside the group to which a project belongs\r\n     */\r\n    UniquenessLevel[\"group\"] = \"group\";\r\n    /**\r\n     * The moniker is unique inside the moniker scheme.\r\n     */\r\n    UniquenessLevel[\"scheme\"] = \"scheme\";\r\n    /**\r\n     * The moniker is globally unique\r\n     */\r\n    UniquenessLevel[\"global\"] = \"global\";\r\n})(UniquenessLevel = exports.UniquenessLevel || (exports.UniquenessLevel = {}));\r\n/**\r\n * The moniker kind.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar MonikerKind;\r\n(function (MonikerKind) {\r\n    /**\r\n     * The moniker represent a symbol that is imported into a project\r\n     */\r\n    MonikerKind[\"import\"] = \"import\";\r\n    /**\r\n     * The moniker represents a symbol that is exported from a project\r\n     */\r\n    MonikerKind[\"export\"] = \"export\";\r\n    /**\r\n     * The moniker represents a symbol that is local to a project (e.g. a local\r\n     * variable of a function, a class not visible outside the project, ...)\r\n     */\r\n    MonikerKind[\"local\"] = \"local\";\r\n})(MonikerKind = exports.MonikerKind || (exports.MonikerKind = {}));\r\n/**\r\n * A request to get the moniker of a symbol at a given text document position.\r\n * The request parameter is of type [TextDocumentPositionParams](#TextDocumentPositionParams).\r\n * The response is of type [Moniker[]](#Moniker[]) or `null`.\r\n */\r\nvar MonikerRequest;\r\n(function (MonikerRequest) {\r\n    MonikerRequest.method = 'textDocument/moniker';\r\n    MonikerRequest.type = new messages_1.ProtocolRequestType(MonikerRequest.method);\r\n})(MonikerRequest = exports.MonikerRequest || (exports.MonikerRequest = {}));\r\n//# sourceMappingURL=protocol.moniker.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = void 0;\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst messages_1 = require(\"./messages\");\r\nvar WorkDoneProgress;\r\n(function (WorkDoneProgress) {\r\n    WorkDoneProgress.type = new vscode_jsonrpc_1.ProgressType();\r\n    function is(value) {\r\n        return value === WorkDoneProgress.type;\r\n    }\r\n    WorkDoneProgress.is = is;\r\n})(WorkDoneProgress = exports.WorkDoneProgress || (exports.WorkDoneProgress = {}));\r\n/**\r\n * The `window/workDoneProgress/create` request is sent from the server to the client to initiate progress\r\n * reporting from the server.\r\n */\r\nvar WorkDoneProgressCreateRequest;\r\n(function (WorkDoneProgressCreateRequest) {\r\n    WorkDoneProgressCreateRequest.type = new messages_1.ProtocolRequestType('window/workDoneProgress/create');\r\n})(WorkDoneProgressCreateRequest = exports.WorkDoneProgressCreateRequest || (exports.WorkDoneProgressCreateRequest = {}));\r\n/**\r\n * The `window/workDoneProgress/cancel` notification is sent from  the client to the server to cancel a progress\r\n * initiated on the server side.\r\n */\r\nvar WorkDoneProgressCancelNotification;\r\n(function (WorkDoneProgressCancelNotification) {\r\n    WorkDoneProgressCancelNotification.type = new messages_1.ProtocolNotificationType('window/workDoneProgress/cancel');\r\n})(WorkDoneProgressCancelNotification = exports.WorkDoneProgressCancelNotification || (exports.WorkDoneProgressCancelNotification = {}));\r\n//# sourceMappingURL=protocol.progress.js.map","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SelectionRangeRequest = void 0;\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * A request to provide selection ranges in a document. The request's\r\n * parameter is of type [SelectionRangeParams](#SelectionRangeParams), the\r\n * response is of type [SelectionRange[]](#SelectionRange[]) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar SelectionRangeRequest;\r\n(function (SelectionRangeRequest) {\r\n    SelectionRangeRequest.method = 'textDocument/selectionRange';\r\n    SelectionRangeRequest.type = new messages_1.ProtocolRequestType(SelectionRangeRequest.method);\r\n})(SelectionRangeRequest = exports.SelectionRangeRequest || (exports.SelectionRangeRequest = {}));\r\n//# sourceMappingURL=protocol.selectionRange.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.SemanticTokensRegistrationType = exports.TokenFormat = exports.SemanticTokens = exports.SemanticTokenModifiers = exports.SemanticTokenTypes = void 0;\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * A set of predefined token types. This set is not fixed\r\n * an clients can specify additional token types via the\r\n * corresponding client capabilities.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar SemanticTokenTypes;\r\n(function (SemanticTokenTypes) {\r\n    SemanticTokenTypes[\"namespace\"] = \"namespace\";\r\n    /**\r\n     * Represents a generic type. Acts as a fallback for types which can't be mapped to\r\n     * a specific type like class or enum.\r\n     */\r\n    SemanticTokenTypes[\"type\"] = \"type\";\r\n    SemanticTokenTypes[\"class\"] = \"class\";\r\n    SemanticTokenTypes[\"enum\"] = \"enum\";\r\n    SemanticTokenTypes[\"interface\"] = \"interface\";\r\n    SemanticTokenTypes[\"struct\"] = \"struct\";\r\n    SemanticTokenTypes[\"typeParameter\"] = \"typeParameter\";\r\n    SemanticTokenTypes[\"parameter\"] = \"parameter\";\r\n    SemanticTokenTypes[\"variable\"] = \"variable\";\r\n    SemanticTokenTypes[\"property\"] = \"property\";\r\n    SemanticTokenTypes[\"enumMember\"] = \"enumMember\";\r\n    SemanticTokenTypes[\"event\"] = \"event\";\r\n    SemanticTokenTypes[\"function\"] = \"function\";\r\n    SemanticTokenTypes[\"method\"] = \"method\";\r\n    SemanticTokenTypes[\"macro\"] = \"macro\";\r\n    SemanticTokenTypes[\"keyword\"] = \"keyword\";\r\n    SemanticTokenTypes[\"modifier\"] = \"modifier\";\r\n    SemanticTokenTypes[\"comment\"] = \"comment\";\r\n    SemanticTokenTypes[\"string\"] = \"string\";\r\n    SemanticTokenTypes[\"number\"] = \"number\";\r\n    SemanticTokenTypes[\"regexp\"] = \"regexp\";\r\n    SemanticTokenTypes[\"operator\"] = \"operator\";\r\n})(SemanticTokenTypes = exports.SemanticTokenTypes || (exports.SemanticTokenTypes = {}));\r\n/**\r\n * A set of predefined token modifiers. This set is not fixed\r\n * an clients can specify additional token types via the\r\n * corresponding client capabilities.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar SemanticTokenModifiers;\r\n(function (SemanticTokenModifiers) {\r\n    SemanticTokenModifiers[\"declaration\"] = \"declaration\";\r\n    SemanticTokenModifiers[\"definition\"] = \"definition\";\r\n    SemanticTokenModifiers[\"readonly\"] = \"readonly\";\r\n    SemanticTokenModifiers[\"static\"] = \"static\";\r\n    SemanticTokenModifiers[\"deprecated\"] = \"deprecated\";\r\n    SemanticTokenModifiers[\"abstract\"] = \"abstract\";\r\n    SemanticTokenModifiers[\"async\"] = \"async\";\r\n    SemanticTokenModifiers[\"modification\"] = \"modification\";\r\n    SemanticTokenModifiers[\"documentation\"] = \"documentation\";\r\n    SemanticTokenModifiers[\"defaultLibrary\"] = \"defaultLibrary\";\r\n})(SemanticTokenModifiers = exports.SemanticTokenModifiers || (exports.SemanticTokenModifiers = {}));\r\n/**\r\n * @since 3.16.0\r\n */\r\nvar SemanticTokens;\r\n(function (SemanticTokens) {\r\n    function is(value) {\r\n        const candidate = value;\r\n        return candidate !== undefined && (candidate.resultId === undefined || typeof candidate.resultId === 'string') &&\r\n            Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === 'number');\r\n    }\r\n    SemanticTokens.is = is;\r\n})(SemanticTokens = exports.SemanticTokens || (exports.SemanticTokens = {}));\r\n//------- 'textDocument/semanticTokens' -----\r\nvar TokenFormat;\r\n(function (TokenFormat) {\r\n    TokenFormat.Relative = 'relative';\r\n})(TokenFormat = exports.TokenFormat || (exports.TokenFormat = {}));\r\nvar SemanticTokensRegistrationType;\r\n(function (SemanticTokensRegistrationType) {\r\n    SemanticTokensRegistrationType.method = 'textDocument/semanticTokens';\r\n    SemanticTokensRegistrationType.type = new messages_1.RegistrationType(SemanticTokensRegistrationType.method);\r\n})(SemanticTokensRegistrationType = exports.SemanticTokensRegistrationType || (exports.SemanticTokensRegistrationType = {}));\r\n/**\r\n * @since 3.16.0\r\n */\r\nvar SemanticTokensRequest;\r\n(function (SemanticTokensRequest) {\r\n    SemanticTokensRequest.method = 'textDocument/semanticTokens/full';\r\n    SemanticTokensRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRequest.method);\r\n})(SemanticTokensRequest = exports.SemanticTokensRequest || (exports.SemanticTokensRequest = {}));\r\n/**\r\n * @since 3.16.0\r\n */\r\nvar SemanticTokensDeltaRequest;\r\n(function (SemanticTokensDeltaRequest) {\r\n    SemanticTokensDeltaRequest.method = 'textDocument/semanticTokens/full/delta';\r\n    SemanticTokensDeltaRequest.type = new messages_1.ProtocolRequestType(SemanticTokensDeltaRequest.method);\r\n})(SemanticTokensDeltaRequest = exports.SemanticTokensDeltaRequest || (exports.SemanticTokensDeltaRequest = {}));\r\n/**\r\n * @since 3.16.0\r\n */\r\nvar SemanticTokensRangeRequest;\r\n(function (SemanticTokensRangeRequest) {\r\n    SemanticTokensRangeRequest.method = 'textDocument/semanticTokens/range';\r\n    SemanticTokensRangeRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRangeRequest.method);\r\n})(SemanticTokensRangeRequest = exports.SemanticTokensRangeRequest || (exports.SemanticTokensRangeRequest = {}));\r\n/**\r\n * @since 3.16.0\r\n */\r\nvar SemanticTokensRefreshRequest;\r\n(function (SemanticTokensRefreshRequest) {\r\n    SemanticTokensRefreshRequest.method = `workspace/semanticTokens/refresh`;\r\n    SemanticTokensRefreshRequest.type = new messages_1.ProtocolRequestType0(SemanticTokensRefreshRequest.method);\r\n})(SemanticTokensRefreshRequest = exports.SemanticTokensRefreshRequest || (exports.SemanticTokensRefreshRequest = {}));\r\n//# sourceMappingURL=protocol.semanticTokens.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ShowDocumentRequest = void 0;\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * A request to show a document. This request might open an\r\n * external program depending on the value of the URI to open.\r\n * For example a request to open `https://code.visualstudio.com/`\r\n * will very likely open the URI in a WEB browser.\r\n *\r\n * @since 3.16.0\r\n*/\r\nvar ShowDocumentRequest;\r\n(function (ShowDocumentRequest) {\r\n    ShowDocumentRequest.method = 'window/showDocument';\r\n    ShowDocumentRequest.type = new messages_1.ProtocolRequestType(ShowDocumentRequest.method);\r\n})(ShowDocumentRequest = exports.ShowDocumentRequest || (exports.ShowDocumentRequest = {}));\r\n//# sourceMappingURL=protocol.showDocument.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TypeDefinitionRequest = void 0;\r\nconst messages_1 = require(\"./messages\");\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * A request to resolve the type definition locations of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPositioParams]\r\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\r\n * Thenable that resolves to such.\r\n */\r\nvar TypeDefinitionRequest;\r\n(function (TypeDefinitionRequest) {\r\n    TypeDefinitionRequest.method = 'textDocument/typeDefinition';\r\n    TypeDefinitionRequest.type = new messages_1.ProtocolRequestType(TypeDefinitionRequest.method);\r\n})(TypeDefinitionRequest = exports.TypeDefinitionRequest || (exports.TypeDefinitionRequest = {}));\r\n//# sourceMappingURL=protocol.typeDefinition.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = void 0;\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * The `workspace/workspaceFolders` is sent from the server to the client to fetch the open workspace folders.\r\n */\r\nvar WorkspaceFoldersRequest;\r\n(function (WorkspaceFoldersRequest) {\r\n    WorkspaceFoldersRequest.type = new messages_1.ProtocolRequestType0('workspace/workspaceFolders');\r\n})(WorkspaceFoldersRequest = exports.WorkspaceFoldersRequest || (exports.WorkspaceFoldersRequest = {}));\r\n/**\r\n * The `workspace/didChangeWorkspaceFolders` notification is sent from the client to the server when the workspace\r\n * folder configuration changes.\r\n */\r\nvar DidChangeWorkspaceFoldersNotification;\r\n(function (DidChangeWorkspaceFoldersNotification) {\r\n    DidChangeWorkspaceFoldersNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeWorkspaceFolders');\r\n})(DidChangeWorkspaceFoldersNotification = exports.DidChangeWorkspaceFoldersNotification || (exports.DidChangeWorkspaceFoldersNotification = {}));\r\n//# sourceMappingURL=protocol.workspaceFolders.js.map","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.objectLiteral = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\r\nfunction boolean(value) {\r\n    return value === true || value === false;\r\n}\r\nexports.boolean = boolean;\r\nfunction string(value) {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\nexports.string = string;\r\nfunction number(value) {\r\n    return typeof value === 'number' || value instanceof Number;\r\n}\r\nexports.number = number;\r\nfunction error(value) {\r\n    return value instanceof Error;\r\n}\r\nexports.error = error;\r\nfunction func(value) {\r\n    return typeof value === 'function';\r\n}\r\nexports.func = func;\r\nfunction array(value) {\r\n    return Array.isArray(value);\r\n}\r\nexports.array = array;\r\nfunction stringArray(value) {\r\n    return array(value) && value.every(elem => string(elem));\r\n}\r\nexports.stringArray = stringArray;\r\nfunction typedArray(value, check) {\r\n    return Array.isArray(value) && value.every(check);\r\n}\r\nexports.typedArray = typedArray;\r\nfunction objectLiteral(value) {\r\n    // Strictly speaking class instances pass this check as well. Since the LSP\r\n    // doesn't use classes we ignore this for now. If we do we need to add something\r\n    // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\r\n    return value !== null && typeof value === 'object';\r\n}\r\nexports.objectLiteral = objectLiteral;\r\n//# sourceMappingURL=is.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.createProtocolConnection = void 0;\r\nconst node_1 = require(\"vscode-jsonrpc/node\");\r\n__exportStar(require(\"vscode-jsonrpc/node\"), exports);\r\n__exportStar(require(\"../common/api\"), exports);\r\nfunction createProtocolConnection(input, output, logger, options) {\r\n    return node_1.createMessageConnection(input, output, logger, options);\r\n}\r\nexports.createProtocolConnection = createProtocolConnection;\r\n//# sourceMappingURL=main.js.map","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ----------------------------------------------------------------------------------------- */\r\n'use strict';\r\n\r\nmodule.exports = require('./lib/node/main');","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nvar FullTextDocument = /** @class */ (function () {\r\n    function FullTextDocument(uri, languageId, version, content) {\r\n        this._uri = uri;\r\n        this._languageId = languageId;\r\n        this._version = version;\r\n        this._content = content;\r\n        this._lineOffsets = undefined;\r\n    }\r\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\r\n        get: function () {\r\n            return this._uri;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\r\n        get: function () {\r\n            return this._languageId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\r\n        get: function () {\r\n            return this._version;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FullTextDocument.prototype.getText = function (range) {\r\n        if (range) {\r\n            var start = this.offsetAt(range.start);\r\n            var end = this.offsetAt(range.end);\r\n            return this._content.substring(start, end);\r\n        }\r\n        return this._content;\r\n    };\r\n    FullTextDocument.prototype.update = function (changes, version) {\r\n        for (var _i = 0, changes_1 = changes; _i < changes_1.length; _i++) {\r\n            var change = changes_1[_i];\r\n            if (FullTextDocument.isIncremental(change)) {\r\n                // makes sure start is before end\r\n                var range = getWellformedRange(change.range);\r\n                // update content\r\n                var startOffset = this.offsetAt(range.start);\r\n                var endOffset = this.offsetAt(range.end);\r\n                this._content = this._content.substring(0, startOffset) + change.text + this._content.substring(endOffset, this._content.length);\r\n                // update the offsets\r\n                var startLine = Math.max(range.start.line, 0);\r\n                var endLine = Math.max(range.end.line, 0);\r\n                var lineOffsets = this._lineOffsets;\r\n                var addedLineOffsets = computeLineOffsets(change.text, false, startOffset);\r\n                if (endLine - startLine === addedLineOffsets.length) {\r\n                    for (var i = 0, len = addedLineOffsets.length; i < len; i++) {\r\n                        lineOffsets[i + startLine + 1] = addedLineOffsets[i];\r\n                    }\r\n                }\r\n                else {\r\n                    if (addedLineOffsets.length < 10000) {\r\n                        lineOffsets.splice.apply(lineOffsets, [startLine + 1, endLine - startLine].concat(addedLineOffsets));\r\n                    }\r\n                    else { // avoid too many arguments for splice\r\n                        this._lineOffsets = lineOffsets = lineOffsets.slice(0, startLine + 1).concat(addedLineOffsets, lineOffsets.slice(endLine + 1));\r\n                    }\r\n                }\r\n                var diff = change.text.length - (endOffset - startOffset);\r\n                if (diff !== 0) {\r\n                    for (var i = startLine + 1 + addedLineOffsets.length, len = lineOffsets.length; i < len; i++) {\r\n                        lineOffsets[i] = lineOffsets[i] + diff;\r\n                    }\r\n                }\r\n            }\r\n            else if (FullTextDocument.isFull(change)) {\r\n                this._content = change.text;\r\n                this._lineOffsets = undefined;\r\n            }\r\n            else {\r\n                throw new Error('Unknown change event received');\r\n            }\r\n        }\r\n        this._version = version;\r\n    };\r\n    FullTextDocument.prototype.getLineOffsets = function () {\r\n        if (this._lineOffsets === undefined) {\r\n            this._lineOffsets = computeLineOffsets(this._content, true);\r\n        }\r\n        return this._lineOffsets;\r\n    };\r\n    FullTextDocument.prototype.positionAt = function (offset) {\r\n        offset = Math.max(Math.min(offset, this._content.length), 0);\r\n        var lineOffsets = this.getLineOffsets();\r\n        var low = 0, high = lineOffsets.length;\r\n        if (high === 0) {\r\n            return { line: 0, character: offset };\r\n        }\r\n        while (low < high) {\r\n            var mid = Math.floor((low + high) / 2);\r\n            if (lineOffsets[mid] > offset) {\r\n                high = mid;\r\n            }\r\n            else {\r\n                low = mid + 1;\r\n            }\r\n        }\r\n        // low is the least x for which the line offset is larger than the current offset\r\n        // or array.length if no line offset is larger than the current offset\r\n        var line = low - 1;\r\n        return { line: line, character: offset - lineOffsets[line] };\r\n    };\r\n    FullTextDocument.prototype.offsetAt = function (position) {\r\n        var lineOffsets = this.getLineOffsets();\r\n        if (position.line >= lineOffsets.length) {\r\n            return this._content.length;\r\n        }\r\n        else if (position.line < 0) {\r\n            return 0;\r\n        }\r\n        var lineOffset = lineOffsets[position.line];\r\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\r\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\r\n    };\r\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\r\n        get: function () {\r\n            return this.getLineOffsets().length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FullTextDocument.isIncremental = function (event) {\r\n        var candidate = event;\r\n        return candidate !== undefined && candidate !== null &&\r\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\r\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\r\n    };\r\n    FullTextDocument.isFull = function (event) {\r\n        var candidate = event;\r\n        return candidate !== undefined && candidate !== null &&\r\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\r\n    };\r\n    return FullTextDocument;\r\n}());\r\nexport var TextDocument;\r\n(function (TextDocument) {\r\n    /**\r\n     * Creates a new text document.\r\n     *\r\n     * @param uri The document's uri.\r\n     * @param languageId  The document's language Id.\r\n     * @param version The document's initial version number.\r\n     * @param content The document's content.\r\n     */\r\n    function create(uri, languageId, version, content) {\r\n        return new FullTextDocument(uri, languageId, version, content);\r\n    }\r\n    TextDocument.create = create;\r\n    /**\r\n     * Updates a TextDocument by modifing its content.\r\n     *\r\n     * @param document the document to update. Only documents created by TextDocument.create are valid inputs.\r\n     * @param changes the changes to apply to the document.\r\n     * @returns The updated TextDocument. Note: That's the same document instance passed in as first parameter.\r\n     *\r\n     */\r\n    function update(document, changes, version) {\r\n        if (document instanceof FullTextDocument) {\r\n            document.update(changes, version);\r\n            return document;\r\n        }\r\n        else {\r\n            throw new Error('TextDocument.update: document must be created by TextDocument.create');\r\n        }\r\n    }\r\n    TextDocument.update = update;\r\n    function applyEdits(document, edits) {\r\n        var text = document.getText();\r\n        var sortedEdits = mergeSort(edits.map(getWellformedEdit), function (a, b) {\r\n            var diff = a.range.start.line - b.range.start.line;\r\n            if (diff === 0) {\r\n                return a.range.start.character - b.range.start.character;\r\n            }\r\n            return diff;\r\n        });\r\n        var lastModifiedOffset = 0;\r\n        var spans = [];\r\n        for (var _i = 0, sortedEdits_1 = sortedEdits; _i < sortedEdits_1.length; _i++) {\r\n            var e = sortedEdits_1[_i];\r\n            var startOffset = document.offsetAt(e.range.start);\r\n            if (startOffset < lastModifiedOffset) {\r\n                throw new Error('Overlapping edit');\r\n            }\r\n            else if (startOffset > lastModifiedOffset) {\r\n                spans.push(text.substring(lastModifiedOffset, startOffset));\r\n            }\r\n            if (e.newText.length) {\r\n                spans.push(e.newText);\r\n            }\r\n            lastModifiedOffset = document.offsetAt(e.range.end);\r\n        }\r\n        spans.push(text.substr(lastModifiedOffset));\r\n        return spans.join('');\r\n    }\r\n    TextDocument.applyEdits = applyEdits;\r\n})(TextDocument || (TextDocument = {}));\r\nfunction mergeSort(data, compare) {\r\n    if (data.length <= 1) {\r\n        // sorted\r\n        return data;\r\n    }\r\n    var p = (data.length / 2) | 0;\r\n    var left = data.slice(0, p);\r\n    var right = data.slice(p);\r\n    mergeSort(left, compare);\r\n    mergeSort(right, compare);\r\n    var leftIdx = 0;\r\n    var rightIdx = 0;\r\n    var i = 0;\r\n    while (leftIdx < left.length && rightIdx < right.length) {\r\n        var ret = compare(left[leftIdx], right[rightIdx]);\r\n        if (ret <= 0) {\r\n            // smaller_equal -> take left to preserve order\r\n            data[i++] = left[leftIdx++];\r\n        }\r\n        else {\r\n            // greater -> take right\r\n            data[i++] = right[rightIdx++];\r\n        }\r\n    }\r\n    while (leftIdx < left.length) {\r\n        data[i++] = left[leftIdx++];\r\n    }\r\n    while (rightIdx < right.length) {\r\n        data[i++] = right[rightIdx++];\r\n    }\r\n    return data;\r\n}\r\nfunction computeLineOffsets(text, isAtLineStart, textOffset) {\r\n    if (textOffset === void 0) { textOffset = 0; }\r\n    var result = isAtLineStart ? [textOffset] : [];\r\n    for (var i = 0; i < text.length; i++) {\r\n        var ch = text.charCodeAt(i);\r\n        if (ch === 13 /* CarriageReturn */ || ch === 10 /* LineFeed */) {\r\n            if (ch === 13 /* CarriageReturn */ && i + 1 < text.length && text.charCodeAt(i + 1) === 10 /* LineFeed */) {\r\n                i++;\r\n            }\r\n            result.push(textOffset + i + 1);\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction getWellformedRange(range) {\r\n    var start = range.start;\r\n    var end = range.end;\r\n    if (start.line > end.line || (start.line === end.line && start.character > end.character)) {\r\n        return { start: end, end: start };\r\n    }\r\n    return range;\r\n}\r\nfunction getWellformedEdit(textEdit) {\r\n    var range = getWellformedRange(textEdit.range);\r\n    if (range !== textEdit.range) {\r\n        return { newText: textEdit.newText, range: range };\r\n    }\r\n    return textEdit;\r\n}\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nexport var integer;\r\n(function (integer) {\r\n    integer.MIN_VALUE = -2147483648;\r\n    integer.MAX_VALUE = 2147483647;\r\n})(integer || (integer = {}));\r\nexport var uinteger;\r\n(function (uinteger) {\r\n    uinteger.MIN_VALUE = 0;\r\n    uinteger.MAX_VALUE = 2147483647;\r\n})(uinteger || (uinteger = {}));\r\n/**\r\n * The Position namespace provides helper functions to work with\r\n * [Position](#Position) literals.\r\n */\r\nexport var Position;\r\n(function (Position) {\r\n    /**\r\n     * Creates a new Position literal from the given line and character.\r\n     * @param line The position's line.\r\n     * @param character The position's character.\r\n     */\r\n    function create(line, character) {\r\n        if (line === Number.MAX_VALUE) {\r\n            line = uinteger.MAX_VALUE;\r\n        }\r\n        if (character === Number.MAX_VALUE) {\r\n            character = uinteger.MAX_VALUE;\r\n        }\r\n        return { line: line, character: character };\r\n    }\r\n    Position.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Position](#Position) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.line) && Is.uinteger(candidate.character);\r\n    }\r\n    Position.is = is;\r\n})(Position || (Position = {}));\r\n/**\r\n * The Range namespace provides helper functions to work with\r\n * [Range](#Range) literals.\r\n */\r\nexport var Range;\r\n(function (Range) {\r\n    function create(one, two, three, four) {\r\n        if (Is.uinteger(one) && Is.uinteger(two) && Is.uinteger(three) && Is.uinteger(four)) {\r\n            return { start: Position.create(one, two), end: Position.create(three, four) };\r\n        }\r\n        else if (Position.is(one) && Position.is(two)) {\r\n            return { start: one, end: two };\r\n        }\r\n        else {\r\n            throw new Error(\"Range#create called with invalid arguments[\" + one + \", \" + two + \", \" + three + \", \" + four + \"]\");\r\n        }\r\n    }\r\n    Range.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Range](#Range) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\r\n    }\r\n    Range.is = is;\r\n})(Range || (Range = {}));\r\n/**\r\n * The Location namespace provides helper functions to work with\r\n * [Location](#Location) literals.\r\n */\r\nexport var Location;\r\n(function (Location) {\r\n    /**\r\n     * Creates a Location literal.\r\n     * @param uri The location's uri.\r\n     * @param range The location's range.\r\n     */\r\n    function create(uri, range) {\r\n        return { uri: uri, range: range };\r\n    }\r\n    Location.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Location](#Location) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\r\n    }\r\n    Location.is = is;\r\n})(Location || (Location = {}));\r\n/**\r\n * The LocationLink namespace provides helper functions to work with\r\n * [LocationLink](#LocationLink) literals.\r\n */\r\nexport var LocationLink;\r\n(function (LocationLink) {\r\n    /**\r\n     * Creates a LocationLink literal.\r\n     * @param targetUri The definition's uri.\r\n     * @param targetRange The full range of the definition.\r\n     * @param targetSelectionRange The span of the symbol definition at the target.\r\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\r\n     */\r\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\r\n        return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\r\n    }\r\n    LocationLink.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [LocationLink](#LocationLink) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\r\n            && (Range.is(candidate.targetSelectionRange) || Is.undefined(candidate.targetSelectionRange))\r\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\r\n    }\r\n    LocationLink.is = is;\r\n})(LocationLink || (LocationLink = {}));\r\n/**\r\n * The Color namespace provides helper functions to work with\r\n * [Color](#Color) literals.\r\n */\r\nexport var Color;\r\n(function (Color) {\r\n    /**\r\n     * Creates a new Color literal.\r\n     */\r\n    function create(red, green, blue, alpha) {\r\n        return {\r\n            red: red,\r\n            green: green,\r\n            blue: blue,\r\n            alpha: alpha,\r\n        };\r\n    }\r\n    Color.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Color](#Color) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.numberRange(candidate.red, 0, 1)\r\n            && Is.numberRange(candidate.green, 0, 1)\r\n            && Is.numberRange(candidate.blue, 0, 1)\r\n            && Is.numberRange(candidate.alpha, 0, 1);\r\n    }\r\n    Color.is = is;\r\n})(Color || (Color = {}));\r\n/**\r\n * The ColorInformation namespace provides helper functions to work with\r\n * [ColorInformation](#ColorInformation) literals.\r\n */\r\nexport var ColorInformation;\r\n(function (ColorInformation) {\r\n    /**\r\n     * Creates a new ColorInformation literal.\r\n     */\r\n    function create(range, color) {\r\n        return {\r\n            range: range,\r\n            color: color,\r\n        };\r\n    }\r\n    ColorInformation.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Range.is(candidate.range) && Color.is(candidate.color);\r\n    }\r\n    ColorInformation.is = is;\r\n})(ColorInformation || (ColorInformation = {}));\r\n/**\r\n * The Color namespace provides helper functions to work with\r\n * [ColorPresentation](#ColorPresentation) literals.\r\n */\r\nexport var ColorPresentation;\r\n(function (ColorPresentation) {\r\n    /**\r\n     * Creates a new ColorInformation literal.\r\n     */\r\n    function create(label, textEdit, additionalTextEdits) {\r\n        return {\r\n            label: label,\r\n            textEdit: textEdit,\r\n            additionalTextEdits: additionalTextEdits,\r\n        };\r\n    }\r\n    ColorPresentation.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.string(candidate.label)\r\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\r\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\r\n    }\r\n    ColorPresentation.is = is;\r\n})(ColorPresentation || (ColorPresentation = {}));\r\n/**\r\n * Enum of known range kinds\r\n */\r\nexport var FoldingRangeKind;\r\n(function (FoldingRangeKind) {\r\n    /**\r\n     * Folding range for a comment\r\n     */\r\n    FoldingRangeKind[\"Comment\"] = \"comment\";\r\n    /**\r\n     * Folding range for a imports or includes\r\n     */\r\n    FoldingRangeKind[\"Imports\"] = \"imports\";\r\n    /**\r\n     * Folding range for a region (e.g. `#region`)\r\n     */\r\n    FoldingRangeKind[\"Region\"] = \"region\";\r\n})(FoldingRangeKind || (FoldingRangeKind = {}));\r\n/**\r\n * The folding range namespace provides helper functions to work with\r\n * [FoldingRange](#FoldingRange) literals.\r\n */\r\nexport var FoldingRange;\r\n(function (FoldingRange) {\r\n    /**\r\n     * Creates a new FoldingRange literal.\r\n     */\r\n    function create(startLine, endLine, startCharacter, endCharacter, kind) {\r\n        var result = {\r\n            startLine: startLine,\r\n            endLine: endLine\r\n        };\r\n        if (Is.defined(startCharacter)) {\r\n            result.startCharacter = startCharacter;\r\n        }\r\n        if (Is.defined(endCharacter)) {\r\n            result.endCharacter = endCharacter;\r\n        }\r\n        if (Is.defined(kind)) {\r\n            result.kind = kind;\r\n        }\r\n        return result;\r\n    }\r\n    FoldingRange.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [FoldingRange](#FoldingRange) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.uinteger(candidate.startLine) && Is.uinteger(candidate.startLine)\r\n            && (Is.undefined(candidate.startCharacter) || Is.uinteger(candidate.startCharacter))\r\n            && (Is.undefined(candidate.endCharacter) || Is.uinteger(candidate.endCharacter))\r\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\r\n    }\r\n    FoldingRange.is = is;\r\n})(FoldingRange || (FoldingRange = {}));\r\n/**\r\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\r\n * [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) literals.\r\n */\r\nexport var DiagnosticRelatedInformation;\r\n(function (DiagnosticRelatedInformation) {\r\n    /**\r\n     * Creates a new DiagnosticRelatedInformation literal.\r\n     */\r\n    function create(location, message) {\r\n        return {\r\n            location: location,\r\n            message: message\r\n        };\r\n    }\r\n    DiagnosticRelatedInformation.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\r\n    }\r\n    DiagnosticRelatedInformation.is = is;\r\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\r\n/**\r\n * The diagnostic's severity.\r\n */\r\nexport var DiagnosticSeverity;\r\n(function (DiagnosticSeverity) {\r\n    /**\r\n     * Reports an error.\r\n     */\r\n    DiagnosticSeverity.Error = 1;\r\n    /**\r\n     * Reports a warning.\r\n     */\r\n    DiagnosticSeverity.Warning = 2;\r\n    /**\r\n     * Reports an information.\r\n     */\r\n    DiagnosticSeverity.Information = 3;\r\n    /**\r\n     * Reports a hint.\r\n     */\r\n    DiagnosticSeverity.Hint = 4;\r\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\r\n/**\r\n * The diagnostic tags.\r\n *\r\n * @since 3.15.0\r\n */\r\nexport var DiagnosticTag;\r\n(function (DiagnosticTag) {\r\n    /**\r\n     * Unused or unnecessary code.\r\n     *\r\n     * Clients are allowed to render diagnostics with this tag faded out instead of having\r\n     * an error squiggle.\r\n     */\r\n    DiagnosticTag.Unnecessary = 1;\r\n    /**\r\n     * Deprecated or obsolete code.\r\n     *\r\n     * Clients are allowed to rendered diagnostics with this tag strike through.\r\n     */\r\n    DiagnosticTag.Deprecated = 2;\r\n})(DiagnosticTag || (DiagnosticTag = {}));\r\n/**\r\n * The CodeDescription namespace provides functions to deal with descriptions for diagnostic codes.\r\n *\r\n * @since 3.16.0\r\n */\r\nexport var CodeDescription;\r\n(function (CodeDescription) {\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate !== undefined && candidate !== null && Is.string(candidate.href);\r\n    }\r\n    CodeDescription.is = is;\r\n})(CodeDescription || (CodeDescription = {}));\r\n/**\r\n * The Diagnostic namespace provides helper functions to work with\r\n * [Diagnostic](#Diagnostic) literals.\r\n */\r\nexport var Diagnostic;\r\n(function (Diagnostic) {\r\n    /**\r\n     * Creates a new Diagnostic literal.\r\n     */\r\n    function create(range, message, severity, code, source, relatedInformation) {\r\n        var result = { range: range, message: message };\r\n        if (Is.defined(severity)) {\r\n            result.severity = severity;\r\n        }\r\n        if (Is.defined(code)) {\r\n            result.code = code;\r\n        }\r\n        if (Is.defined(source)) {\r\n            result.source = source;\r\n        }\r\n        if (Is.defined(relatedInformation)) {\r\n            result.relatedInformation = relatedInformation;\r\n        }\r\n        return result;\r\n    }\r\n    Diagnostic.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Diagnostic](#Diagnostic) interface.\r\n     */\r\n    function is(value) {\r\n        var _a;\r\n        var candidate = value;\r\n        return Is.defined(candidate)\r\n            && Range.is(candidate.range)\r\n            && Is.string(candidate.message)\r\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\r\n            && (Is.integer(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\r\n            && (Is.undefined(candidate.codeDescription) || (Is.string((_a = candidate.codeDescription) === null || _a === void 0 ? void 0 : _a.href)))\r\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\r\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\r\n    }\r\n    Diagnostic.is = is;\r\n})(Diagnostic || (Diagnostic = {}));\r\n/**\r\n * The Command namespace provides helper functions to work with\r\n * [Command](#Command) literals.\r\n */\r\nexport var Command;\r\n(function (Command) {\r\n    /**\r\n     * Creates a new Command literal.\r\n     */\r\n    function create(title, command) {\r\n        var args = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            args[_i - 2] = arguments[_i];\r\n        }\r\n        var result = { title: title, command: command };\r\n        if (Is.defined(args) && args.length > 0) {\r\n            result.arguments = args;\r\n        }\r\n        return result;\r\n    }\r\n    Command.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Command](#Command) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\r\n    }\r\n    Command.is = is;\r\n})(Command || (Command = {}));\r\n/**\r\n * The TextEdit namespace provides helper function to create replace,\r\n * insert and delete edits more easily.\r\n */\r\nexport var TextEdit;\r\n(function (TextEdit) {\r\n    /**\r\n     * Creates a replace text edit.\r\n     * @param range The range of text to be replaced.\r\n     * @param newText The new text.\r\n     */\r\n    function replace(range, newText) {\r\n        return { range: range, newText: newText };\r\n    }\r\n    TextEdit.replace = replace;\r\n    /**\r\n     * Creates a insert text edit.\r\n     * @param position The position to insert the text at.\r\n     * @param newText The text to be inserted.\r\n     */\r\n    function insert(position, newText) {\r\n        return { range: { start: position, end: position }, newText: newText };\r\n    }\r\n    TextEdit.insert = insert;\r\n    /**\r\n     * Creates a delete text edit.\r\n     * @param range The range of text to be deleted.\r\n     */\r\n    function del(range) {\r\n        return { range: range, newText: '' };\r\n    }\r\n    TextEdit.del = del;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(candidate)\r\n            && Is.string(candidate.newText)\r\n            && Range.is(candidate.range);\r\n    }\r\n    TextEdit.is = is;\r\n})(TextEdit || (TextEdit = {}));\r\nexport var ChangeAnnotation;\r\n(function (ChangeAnnotation) {\r\n    function create(label, needsConfirmation, description) {\r\n        var result = { label: label };\r\n        if (needsConfirmation !== undefined) {\r\n            result.needsConfirmation = needsConfirmation;\r\n        }\r\n        if (description !== undefined) {\r\n            result.description = description;\r\n        }\r\n        return result;\r\n    }\r\n    ChangeAnnotation.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate !== undefined && Is.objectLiteral(candidate) && Is.string(candidate.label) &&\r\n            (Is.boolean(candidate.needsConfirmation) || candidate.needsConfirmation === undefined) &&\r\n            (Is.string(candidate.description) || candidate.description === undefined);\r\n    }\r\n    ChangeAnnotation.is = is;\r\n})(ChangeAnnotation || (ChangeAnnotation = {}));\r\nexport var ChangeAnnotationIdentifier;\r\n(function (ChangeAnnotationIdentifier) {\r\n    function is(value) {\r\n        var candidate = value;\r\n        return typeof candidate === 'string';\r\n    }\r\n    ChangeAnnotationIdentifier.is = is;\r\n})(ChangeAnnotationIdentifier || (ChangeAnnotationIdentifier = {}));\r\nexport var AnnotatedTextEdit;\r\n(function (AnnotatedTextEdit) {\r\n    /**\r\n     * Creates an annotated replace text edit.\r\n     *\r\n     * @param range The range of text to be replaced.\r\n     * @param newText The new text.\r\n     * @param annotation The annotation.\r\n     */\r\n    function replace(range, newText, annotation) {\r\n        return { range: range, newText: newText, annotationId: annotation };\r\n    }\r\n    AnnotatedTextEdit.replace = replace;\r\n    /**\r\n     * Creates an annotated insert text edit.\r\n     *\r\n     * @param position The position to insert the text at.\r\n     * @param newText The text to be inserted.\r\n     * @param annotation The annotation.\r\n     */\r\n    function insert(position, newText, annotation) {\r\n        return { range: { start: position, end: position }, newText: newText, annotationId: annotation };\r\n    }\r\n    AnnotatedTextEdit.insert = insert;\r\n    /**\r\n     * Creates an annotated delete text edit.\r\n     *\r\n     * @param range The range of text to be deleted.\r\n     * @param annotation The annotation.\r\n     */\r\n    function del(range, annotation) {\r\n        return { range: range, newText: '', annotationId: annotation };\r\n    }\r\n    AnnotatedTextEdit.del = del;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return TextEdit.is(candidate) && (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId));\r\n    }\r\n    AnnotatedTextEdit.is = is;\r\n})(AnnotatedTextEdit || (AnnotatedTextEdit = {}));\r\n/**\r\n * The TextDocumentEdit namespace provides helper function to create\r\n * an edit that manipulates a text document.\r\n */\r\nexport var TextDocumentEdit;\r\n(function (TextDocumentEdit) {\r\n    /**\r\n     * Creates a new `TextDocumentEdit`\r\n     */\r\n    function create(textDocument, edits) {\r\n        return { textDocument: textDocument, edits: edits };\r\n    }\r\n    TextDocumentEdit.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate)\r\n            && OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)\r\n            && Array.isArray(candidate.edits);\r\n    }\r\n    TextDocumentEdit.is = is;\r\n})(TextDocumentEdit || (TextDocumentEdit = {}));\r\nexport var CreateFile;\r\n(function (CreateFile) {\r\n    function create(uri, options, annotation) {\r\n        var result = {\r\n            kind: 'create',\r\n            uri: uri\r\n        };\r\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\r\n            result.options = options;\r\n        }\r\n        if (annotation !== undefined) {\r\n            result.annotationId = annotation;\r\n        }\r\n        return result;\r\n    }\r\n    CreateFile.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) && (candidate.options === undefined ||\r\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\r\n    }\r\n    CreateFile.is = is;\r\n})(CreateFile || (CreateFile = {}));\r\nexport var RenameFile;\r\n(function (RenameFile) {\r\n    function create(oldUri, newUri, options, annotation) {\r\n        var result = {\r\n            kind: 'rename',\r\n            oldUri: oldUri,\r\n            newUri: newUri\r\n        };\r\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\r\n            result.options = options;\r\n        }\r\n        if (annotation !== undefined) {\r\n            result.annotationId = annotation;\r\n        }\r\n        return result;\r\n    }\r\n    RenameFile.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) && (candidate.options === undefined ||\r\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\r\n    }\r\n    RenameFile.is = is;\r\n})(RenameFile || (RenameFile = {}));\r\nexport var DeleteFile;\r\n(function (DeleteFile) {\r\n    function create(uri, options, annotation) {\r\n        var result = {\r\n            kind: 'delete',\r\n            uri: uri\r\n        };\r\n        if (options !== undefined && (options.recursive !== undefined || options.ignoreIfNotExists !== undefined)) {\r\n            result.options = options;\r\n        }\r\n        if (annotation !== undefined) {\r\n            result.annotationId = annotation;\r\n        }\r\n        return result;\r\n    }\r\n    DeleteFile.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) && (candidate.options === undefined ||\r\n            ((candidate.options.recursive === undefined || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === undefined || Is.boolean(candidate.options.ignoreIfNotExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\r\n    }\r\n    DeleteFile.is = is;\r\n})(DeleteFile || (DeleteFile = {}));\r\nexport var WorkspaceEdit;\r\n(function (WorkspaceEdit) {\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate &&\r\n            (candidate.changes !== undefined || candidate.documentChanges !== undefined) &&\r\n            (candidate.documentChanges === undefined || candidate.documentChanges.every(function (change) {\r\n                if (Is.string(change.kind)) {\r\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\r\n                }\r\n                else {\r\n                    return TextDocumentEdit.is(change);\r\n                }\r\n            }));\r\n    }\r\n    WorkspaceEdit.is = is;\r\n})(WorkspaceEdit || (WorkspaceEdit = {}));\r\nvar TextEditChangeImpl = /** @class */ (function () {\r\n    function TextEditChangeImpl(edits, changeAnnotations) {\r\n        this.edits = edits;\r\n        this.changeAnnotations = changeAnnotations;\r\n    }\r\n    TextEditChangeImpl.prototype.insert = function (position, newText, annotation) {\r\n        var edit;\r\n        var id;\r\n        if (annotation === undefined) {\r\n            edit = TextEdit.insert(position, newText);\r\n        }\r\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\r\n            id = annotation;\r\n            edit = AnnotatedTextEdit.insert(position, newText, annotation);\r\n        }\r\n        else {\r\n            this.assertChangeAnnotations(this.changeAnnotations);\r\n            id = this.changeAnnotations.manage(annotation);\r\n            edit = AnnotatedTextEdit.insert(position, newText, id);\r\n        }\r\n        this.edits.push(edit);\r\n        if (id !== undefined) {\r\n            return id;\r\n        }\r\n    };\r\n    TextEditChangeImpl.prototype.replace = function (range, newText, annotation) {\r\n        var edit;\r\n        var id;\r\n        if (annotation === undefined) {\r\n            edit = TextEdit.replace(range, newText);\r\n        }\r\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\r\n            id = annotation;\r\n            edit = AnnotatedTextEdit.replace(range, newText, annotation);\r\n        }\r\n        else {\r\n            this.assertChangeAnnotations(this.changeAnnotations);\r\n            id = this.changeAnnotations.manage(annotation);\r\n            edit = AnnotatedTextEdit.replace(range, newText, id);\r\n        }\r\n        this.edits.push(edit);\r\n        if (id !== undefined) {\r\n            return id;\r\n        }\r\n    };\r\n    TextEditChangeImpl.prototype.delete = function (range, annotation) {\r\n        var edit;\r\n        var id;\r\n        if (annotation === undefined) {\r\n            edit = TextEdit.del(range);\r\n        }\r\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\r\n            id = annotation;\r\n            edit = AnnotatedTextEdit.del(range, annotation);\r\n        }\r\n        else {\r\n            this.assertChangeAnnotations(this.changeAnnotations);\r\n            id = this.changeAnnotations.manage(annotation);\r\n            edit = AnnotatedTextEdit.del(range, id);\r\n        }\r\n        this.edits.push(edit);\r\n        if (id !== undefined) {\r\n            return id;\r\n        }\r\n    };\r\n    TextEditChangeImpl.prototype.add = function (edit) {\r\n        this.edits.push(edit);\r\n    };\r\n    TextEditChangeImpl.prototype.all = function () {\r\n        return this.edits;\r\n    };\r\n    TextEditChangeImpl.prototype.clear = function () {\r\n        this.edits.splice(0, this.edits.length);\r\n    };\r\n    TextEditChangeImpl.prototype.assertChangeAnnotations = function (value) {\r\n        if (value === undefined) {\r\n            throw new Error(\"Text edit change is not configured to manage change annotations.\");\r\n        }\r\n    };\r\n    return TextEditChangeImpl;\r\n}());\r\n/**\r\n * A helper class\r\n */\r\nvar ChangeAnnotations = /** @class */ (function () {\r\n    function ChangeAnnotations(annotations) {\r\n        this._annotations = annotations === undefined ? Object.create(null) : annotations;\r\n        this._counter = 0;\r\n        this._size = 0;\r\n    }\r\n    ChangeAnnotations.prototype.all = function () {\r\n        return this._annotations;\r\n    };\r\n    Object.defineProperty(ChangeAnnotations.prototype, \"size\", {\r\n        get: function () {\r\n            return this._size;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    ChangeAnnotations.prototype.manage = function (idOrAnnotation, annotation) {\r\n        var id;\r\n        if (ChangeAnnotationIdentifier.is(idOrAnnotation)) {\r\n            id = idOrAnnotation;\r\n        }\r\n        else {\r\n            id = this.nextId();\r\n            annotation = idOrAnnotation;\r\n        }\r\n        if (this._annotations[id] !== undefined) {\r\n            throw new Error(\"Id \" + id + \" is already in use.\");\r\n        }\r\n        if (annotation === undefined) {\r\n            throw new Error(\"No annotation provided for id \" + id);\r\n        }\r\n        this._annotations[id] = annotation;\r\n        this._size++;\r\n        return id;\r\n    };\r\n    ChangeAnnotations.prototype.nextId = function () {\r\n        this._counter++;\r\n        return this._counter.toString();\r\n    };\r\n    return ChangeAnnotations;\r\n}());\r\n/**\r\n * A workspace change helps constructing changes to a workspace.\r\n */\r\nvar WorkspaceChange = /** @class */ (function () {\r\n    function WorkspaceChange(workspaceEdit) {\r\n        var _this = this;\r\n        this._textEditChanges = Object.create(null);\r\n        if (workspaceEdit !== undefined) {\r\n            this._workspaceEdit = workspaceEdit;\r\n            if (workspaceEdit.documentChanges) {\r\n                this._changeAnnotations = new ChangeAnnotations(workspaceEdit.changeAnnotations);\r\n                workspaceEdit.changeAnnotations = this._changeAnnotations.all();\r\n                workspaceEdit.documentChanges.forEach(function (change) {\r\n                    if (TextDocumentEdit.is(change)) {\r\n                        var textEditChange = new TextEditChangeImpl(change.edits, _this._changeAnnotations);\r\n                        _this._textEditChanges[change.textDocument.uri] = textEditChange;\r\n                    }\r\n                });\r\n            }\r\n            else if (workspaceEdit.changes) {\r\n                Object.keys(workspaceEdit.changes).forEach(function (key) {\r\n                    var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\r\n                    _this._textEditChanges[key] = textEditChange;\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            this._workspaceEdit = {};\r\n        }\r\n    }\r\n    Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\r\n        /**\r\n         * Returns the underlying [WorkspaceEdit](#WorkspaceEdit) literal\r\n         * use to be returned from a workspace edit operation like rename.\r\n         */\r\n        get: function () {\r\n            this.initDocumentChanges();\r\n            if (this._changeAnnotations !== undefined) {\r\n                if (this._changeAnnotations.size === 0) {\r\n                    this._workspaceEdit.changeAnnotations = undefined;\r\n                }\r\n                else {\r\n                    this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\r\n                }\r\n            }\r\n            return this._workspaceEdit;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    WorkspaceChange.prototype.getTextEditChange = function (key) {\r\n        if (OptionalVersionedTextDocumentIdentifier.is(key)) {\r\n            this.initDocumentChanges();\r\n            if (this._workspaceEdit.documentChanges === undefined) {\r\n                throw new Error('Workspace edit is not configured for document changes.');\r\n            }\r\n            var textDocument = { uri: key.uri, version: key.version };\r\n            var result = this._textEditChanges[textDocument.uri];\r\n            if (!result) {\r\n                var edits = [];\r\n                var textDocumentEdit = {\r\n                    textDocument: textDocument,\r\n                    edits: edits\r\n                };\r\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\r\n                result = new TextEditChangeImpl(edits, this._changeAnnotations);\r\n                this._textEditChanges[textDocument.uri] = result;\r\n            }\r\n            return result;\r\n        }\r\n        else {\r\n            this.initChanges();\r\n            if (this._workspaceEdit.changes === undefined) {\r\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\r\n            }\r\n            var result = this._textEditChanges[key];\r\n            if (!result) {\r\n                var edits = [];\r\n                this._workspaceEdit.changes[key] = edits;\r\n                result = new TextEditChangeImpl(edits);\r\n                this._textEditChanges[key] = result;\r\n            }\r\n            return result;\r\n        }\r\n    };\r\n    WorkspaceChange.prototype.initDocumentChanges = function () {\r\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\r\n            this._changeAnnotations = new ChangeAnnotations();\r\n            this._workspaceEdit.documentChanges = [];\r\n            this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\r\n        }\r\n    };\r\n    WorkspaceChange.prototype.initChanges = function () {\r\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\r\n            this._workspaceEdit.changes = Object.create(null);\r\n        }\r\n    };\r\n    WorkspaceChange.prototype.createFile = function (uri, optionsOrAnnotation, options) {\r\n        this.initDocumentChanges();\r\n        if (this._workspaceEdit.documentChanges === undefined) {\r\n            throw new Error('Workspace edit is not configured for document changes.');\r\n        }\r\n        var annotation;\r\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\r\n            annotation = optionsOrAnnotation;\r\n        }\r\n        else {\r\n            options = optionsOrAnnotation;\r\n        }\r\n        var operation;\r\n        var id;\r\n        if (annotation === undefined) {\r\n            operation = CreateFile.create(uri, options);\r\n        }\r\n        else {\r\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\r\n            operation = CreateFile.create(uri, options, id);\r\n        }\r\n        this._workspaceEdit.documentChanges.push(operation);\r\n        if (id !== undefined) {\r\n            return id;\r\n        }\r\n    };\r\n    WorkspaceChange.prototype.renameFile = function (oldUri, newUri, optionsOrAnnotation, options) {\r\n        this.initDocumentChanges();\r\n        if (this._workspaceEdit.documentChanges === undefined) {\r\n            throw new Error('Workspace edit is not configured for document changes.');\r\n        }\r\n        var annotation;\r\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\r\n            annotation = optionsOrAnnotation;\r\n        }\r\n        else {\r\n            options = optionsOrAnnotation;\r\n        }\r\n        var operation;\r\n        var id;\r\n        if (annotation === undefined) {\r\n            operation = RenameFile.create(oldUri, newUri, options);\r\n        }\r\n        else {\r\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\r\n            operation = RenameFile.create(oldUri, newUri, options, id);\r\n        }\r\n        this._workspaceEdit.documentChanges.push(operation);\r\n        if (id !== undefined) {\r\n            return id;\r\n        }\r\n    };\r\n    WorkspaceChange.prototype.deleteFile = function (uri, optionsOrAnnotation, options) {\r\n        this.initDocumentChanges();\r\n        if (this._workspaceEdit.documentChanges === undefined) {\r\n            throw new Error('Workspace edit is not configured for document changes.');\r\n        }\r\n        var annotation;\r\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\r\n            annotation = optionsOrAnnotation;\r\n        }\r\n        else {\r\n            options = optionsOrAnnotation;\r\n        }\r\n        var operation;\r\n        var id;\r\n        if (annotation === undefined) {\r\n            operation = DeleteFile.create(uri, options);\r\n        }\r\n        else {\r\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\r\n            operation = DeleteFile.create(uri, options, id);\r\n        }\r\n        this._workspaceEdit.documentChanges.push(operation);\r\n        if (id !== undefined) {\r\n            return id;\r\n        }\r\n    };\r\n    return WorkspaceChange;\r\n}());\r\nexport { WorkspaceChange };\r\n/**\r\n * The TextDocumentIdentifier namespace provides helper functions to work with\r\n * [TextDocumentIdentifier](#TextDocumentIdentifier) literals.\r\n */\r\nexport var TextDocumentIdentifier;\r\n(function (TextDocumentIdentifier) {\r\n    /**\r\n     * Creates a new TextDocumentIdentifier literal.\r\n     * @param uri The document's uri.\r\n     */\r\n    function create(uri) {\r\n        return { uri: uri };\r\n    }\r\n    TextDocumentIdentifier.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [TextDocumentIdentifier](#TextDocumentIdentifier) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri);\r\n    }\r\n    TextDocumentIdentifier.is = is;\r\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\r\n/**\r\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\r\n * [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) literals.\r\n */\r\nexport var VersionedTextDocumentIdentifier;\r\n(function (VersionedTextDocumentIdentifier) {\r\n    /**\r\n     * Creates a new VersionedTextDocumentIdentifier literal.\r\n     * @param uri The document's uri.\r\n     * @param uri The document's text.\r\n     */\r\n    function create(uri, version) {\r\n        return { uri: uri, version: version };\r\n    }\r\n    VersionedTextDocumentIdentifier.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.integer(candidate.version);\r\n    }\r\n    VersionedTextDocumentIdentifier.is = is;\r\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\r\n/**\r\n * The OptionalVersionedTextDocumentIdentifier namespace provides helper functions to work with\r\n * [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) literals.\r\n */\r\nexport var OptionalVersionedTextDocumentIdentifier;\r\n(function (OptionalVersionedTextDocumentIdentifier) {\r\n    /**\r\n     * Creates a new OptionalVersionedTextDocumentIdentifier literal.\r\n     * @param uri The document's uri.\r\n     * @param uri The document's text.\r\n     */\r\n    function create(uri, version) {\r\n        return { uri: uri, version: version };\r\n    }\r\n    OptionalVersionedTextDocumentIdentifier.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.integer(candidate.version));\r\n    }\r\n    OptionalVersionedTextDocumentIdentifier.is = is;\r\n})(OptionalVersionedTextDocumentIdentifier || (OptionalVersionedTextDocumentIdentifier = {}));\r\n/**\r\n * The TextDocumentItem namespace provides helper functions to work with\r\n * [TextDocumentItem](#TextDocumentItem) literals.\r\n */\r\nexport var TextDocumentItem;\r\n(function (TextDocumentItem) {\r\n    /**\r\n     * Creates a new TextDocumentItem literal.\r\n     * @param uri The document's uri.\r\n     * @param languageId The document's language identifier.\r\n     * @param version The document's version number.\r\n     * @param text The document's text.\r\n     */\r\n    function create(uri, languageId, version, text) {\r\n        return { uri: uri, languageId: languageId, version: version, text: text };\r\n    }\r\n    TextDocumentItem.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [TextDocumentItem](#TextDocumentItem) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.integer(candidate.version) && Is.string(candidate.text);\r\n    }\r\n    TextDocumentItem.is = is;\r\n})(TextDocumentItem || (TextDocumentItem = {}));\r\n/**\r\n * Describes the content type that a client supports in various\r\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\r\n *\r\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\r\n * are reserved for internal usage.\r\n */\r\nexport var MarkupKind;\r\n(function (MarkupKind) {\r\n    /**\r\n     * Plain text is supported as a content format\r\n     */\r\n    MarkupKind.PlainText = 'plaintext';\r\n    /**\r\n     * Markdown is supported as a content format\r\n     */\r\n    MarkupKind.Markdown = 'markdown';\r\n})(MarkupKind || (MarkupKind = {}));\r\n(function (MarkupKind) {\r\n    /**\r\n     * Checks whether the given value is a value of the [MarkupKind](#MarkupKind) type.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\r\n    }\r\n    MarkupKind.is = is;\r\n})(MarkupKind || (MarkupKind = {}));\r\nexport var MarkupContent;\r\n(function (MarkupContent) {\r\n    /**\r\n     * Checks whether the given value conforms to the [MarkupContent](#MarkupContent) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\r\n    }\r\n    MarkupContent.is = is;\r\n})(MarkupContent || (MarkupContent = {}));\r\n/**\r\n * The kind of a completion entry.\r\n */\r\nexport var CompletionItemKind;\r\n(function (CompletionItemKind) {\r\n    CompletionItemKind.Text = 1;\r\n    CompletionItemKind.Method = 2;\r\n    CompletionItemKind.Function = 3;\r\n    CompletionItemKind.Constructor = 4;\r\n    CompletionItemKind.Field = 5;\r\n    CompletionItemKind.Variable = 6;\r\n    CompletionItemKind.Class = 7;\r\n    CompletionItemKind.Interface = 8;\r\n    CompletionItemKind.Module = 9;\r\n    CompletionItemKind.Property = 10;\r\n    CompletionItemKind.Unit = 11;\r\n    CompletionItemKind.Value = 12;\r\n    CompletionItemKind.Enum = 13;\r\n    CompletionItemKind.Keyword = 14;\r\n    CompletionItemKind.Snippet = 15;\r\n    CompletionItemKind.Color = 16;\r\n    CompletionItemKind.File = 17;\r\n    CompletionItemKind.Reference = 18;\r\n    CompletionItemKind.Folder = 19;\r\n    CompletionItemKind.EnumMember = 20;\r\n    CompletionItemKind.Constant = 21;\r\n    CompletionItemKind.Struct = 22;\r\n    CompletionItemKind.Event = 23;\r\n    CompletionItemKind.Operator = 24;\r\n    CompletionItemKind.TypeParameter = 25;\r\n})(CompletionItemKind || (CompletionItemKind = {}));\r\n/**\r\n * Defines whether the insert text in a completion item should be interpreted as\r\n * plain text or a snippet.\r\n */\r\nexport var InsertTextFormat;\r\n(function (InsertTextFormat) {\r\n    /**\r\n     * The primary text to be inserted is treated as a plain string.\r\n     */\r\n    InsertTextFormat.PlainText = 1;\r\n    /**\r\n     * The primary text to be inserted is treated as a snippet.\r\n     *\r\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\r\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\r\n     * the end of the snippet. Placeholders with equal identifiers are linked,\r\n     * that is typing in one will update others too.\r\n     *\r\n     * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\r\n     */\r\n    InsertTextFormat.Snippet = 2;\r\n})(InsertTextFormat || (InsertTextFormat = {}));\r\n/**\r\n * Completion item tags are extra annotations that tweak the rendering of a completion\r\n * item.\r\n *\r\n * @since 3.15.0\r\n */\r\nexport var CompletionItemTag;\r\n(function (CompletionItemTag) {\r\n    /**\r\n     * Render a completion as obsolete, usually using a strike-out.\r\n     */\r\n    CompletionItemTag.Deprecated = 1;\r\n})(CompletionItemTag || (CompletionItemTag = {}));\r\n/**\r\n * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\r\n *\r\n * @since 3.16.0\r\n */\r\nexport var InsertReplaceEdit;\r\n(function (InsertReplaceEdit) {\r\n    /**\r\n     * Creates a new insert / replace edit\r\n     */\r\n    function create(newText, insert, replace) {\r\n        return { newText: newText, insert: insert, replace: replace };\r\n    }\r\n    InsertReplaceEdit.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [InsertReplaceEdit](#InsertReplaceEdit) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\r\n    }\r\n    InsertReplaceEdit.is = is;\r\n})(InsertReplaceEdit || (InsertReplaceEdit = {}));\r\n/**\r\n * How whitespace and indentation is handled during completion\r\n * item insertion.\r\n *\r\n * @since 3.16.0\r\n */\r\nexport var InsertTextMode;\r\n(function (InsertTextMode) {\r\n    /**\r\n     * The insertion or replace strings is taken as it is. If the\r\n     * value is multi line the lines below the cursor will be\r\n     * inserted using the indentation defined in the string value.\r\n     * The client will not apply any kind of adjustments to the\r\n     * string.\r\n     */\r\n    InsertTextMode.asIs = 1;\r\n    /**\r\n     * The editor adjusts leading whitespace of new lines so that\r\n     * they match the indentation up to the cursor of the line for\r\n     * which the item is accepted.\r\n     *\r\n     * Consider a line like this: <2tabs><cursor><3tabs>foo. Accepting a\r\n     * multi line completion item is indented using 2 tabs and all\r\n     * following lines inserted will be indented using 2 tabs as well.\r\n     */\r\n    InsertTextMode.adjustIndentation = 2;\r\n})(InsertTextMode || (InsertTextMode = {}));\r\n/**\r\n * The CompletionItem namespace provides functions to deal with\r\n * completion items.\r\n */\r\nexport var CompletionItem;\r\n(function (CompletionItem) {\r\n    /**\r\n     * Create a completion item and seed it with a label.\r\n     * @param label The completion item's label\r\n     */\r\n    function create(label) {\r\n        return { label: label };\r\n    }\r\n    CompletionItem.create = create;\r\n})(CompletionItem || (CompletionItem = {}));\r\n/**\r\n * The CompletionList namespace provides functions to deal with\r\n * completion lists.\r\n */\r\nexport var CompletionList;\r\n(function (CompletionList) {\r\n    /**\r\n     * Creates a new completion list.\r\n     *\r\n     * @param items The completion items.\r\n     * @param isIncomplete The list is not complete.\r\n     */\r\n    function create(items, isIncomplete) {\r\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\r\n    }\r\n    CompletionList.create = create;\r\n})(CompletionList || (CompletionList = {}));\r\nexport var MarkedString;\r\n(function (MarkedString) {\r\n    /**\r\n     * Creates a marked string from plain text.\r\n     *\r\n     * @param plainText The plain text.\r\n     */\r\n    function fromPlainText(plainText) {\r\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\r\n    }\r\n    MarkedString.fromPlainText = fromPlainText;\r\n    /**\r\n     * Checks whether the given value conforms to the [MarkedString](#MarkedString) type.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\r\n    }\r\n    MarkedString.is = is;\r\n})(MarkedString || (MarkedString = {}));\r\nexport var Hover;\r\n(function (Hover) {\r\n    /**\r\n     * Checks whether the given value conforms to the [Hover](#Hover) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\r\n            MarkedString.is(candidate.contents) ||\r\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === undefined || Range.is(value.range));\r\n    }\r\n    Hover.is = is;\r\n})(Hover || (Hover = {}));\r\n/**\r\n * The ParameterInformation namespace provides helper functions to work with\r\n * [ParameterInformation](#ParameterInformation) literals.\r\n */\r\nexport var ParameterInformation;\r\n(function (ParameterInformation) {\r\n    /**\r\n     * Creates a new parameter information literal.\r\n     *\r\n     * @param label A label string.\r\n     * @param documentation A doc string.\r\n     */\r\n    function create(label, documentation) {\r\n        return documentation ? { label: label, documentation: documentation } : { label: label };\r\n    }\r\n    ParameterInformation.create = create;\r\n})(ParameterInformation || (ParameterInformation = {}));\r\n/**\r\n * The SignatureInformation namespace provides helper functions to work with\r\n * [SignatureInformation](#SignatureInformation) literals.\r\n */\r\nexport var SignatureInformation;\r\n(function (SignatureInformation) {\r\n    function create(label, documentation) {\r\n        var parameters = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            parameters[_i - 2] = arguments[_i];\r\n        }\r\n        var result = { label: label };\r\n        if (Is.defined(documentation)) {\r\n            result.documentation = documentation;\r\n        }\r\n        if (Is.defined(parameters)) {\r\n            result.parameters = parameters;\r\n        }\r\n        else {\r\n            result.parameters = [];\r\n        }\r\n        return result;\r\n    }\r\n    SignatureInformation.create = create;\r\n})(SignatureInformation || (SignatureInformation = {}));\r\n/**\r\n * A document highlight kind.\r\n */\r\nexport var DocumentHighlightKind;\r\n(function (DocumentHighlightKind) {\r\n    /**\r\n     * A textual occurrence.\r\n     */\r\n    DocumentHighlightKind.Text = 1;\r\n    /**\r\n     * Read-access of a symbol, like reading a variable.\r\n     */\r\n    DocumentHighlightKind.Read = 2;\r\n    /**\r\n     * Write-access of a symbol, like writing to a variable.\r\n     */\r\n    DocumentHighlightKind.Write = 3;\r\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\r\n/**\r\n * DocumentHighlight namespace to provide helper functions to work with\r\n * [DocumentHighlight](#DocumentHighlight) literals.\r\n */\r\nexport var DocumentHighlight;\r\n(function (DocumentHighlight) {\r\n    /**\r\n     * Create a DocumentHighlight object.\r\n     * @param range The range the highlight applies to.\r\n     */\r\n    function create(range, kind) {\r\n        var result = { range: range };\r\n        if (Is.number(kind)) {\r\n            result.kind = kind;\r\n        }\r\n        return result;\r\n    }\r\n    DocumentHighlight.create = create;\r\n})(DocumentHighlight || (DocumentHighlight = {}));\r\n/**\r\n * A symbol kind.\r\n */\r\nexport var SymbolKind;\r\n(function (SymbolKind) {\r\n    SymbolKind.File = 1;\r\n    SymbolKind.Module = 2;\r\n    SymbolKind.Namespace = 3;\r\n    SymbolKind.Package = 4;\r\n    SymbolKind.Class = 5;\r\n    SymbolKind.Method = 6;\r\n    SymbolKind.Property = 7;\r\n    SymbolKind.Field = 8;\r\n    SymbolKind.Constructor = 9;\r\n    SymbolKind.Enum = 10;\r\n    SymbolKind.Interface = 11;\r\n    SymbolKind.Function = 12;\r\n    SymbolKind.Variable = 13;\r\n    SymbolKind.Constant = 14;\r\n    SymbolKind.String = 15;\r\n    SymbolKind.Number = 16;\r\n    SymbolKind.Boolean = 17;\r\n    SymbolKind.Array = 18;\r\n    SymbolKind.Object = 19;\r\n    SymbolKind.Key = 20;\r\n    SymbolKind.Null = 21;\r\n    SymbolKind.EnumMember = 22;\r\n    SymbolKind.Struct = 23;\r\n    SymbolKind.Event = 24;\r\n    SymbolKind.Operator = 25;\r\n    SymbolKind.TypeParameter = 26;\r\n})(SymbolKind || (SymbolKind = {}));\r\n/**\r\n * Symbol tags are extra annotations that tweak the rendering of a symbol.\r\n * @since 3.16\r\n */\r\nexport var SymbolTag;\r\n(function (SymbolTag) {\r\n    /**\r\n     * Render a symbol as obsolete, usually using a strike-out.\r\n     */\r\n    SymbolTag.Deprecated = 1;\r\n})(SymbolTag || (SymbolTag = {}));\r\nexport var SymbolInformation;\r\n(function (SymbolInformation) {\r\n    /**\r\n     * Creates a new symbol information literal.\r\n     *\r\n     * @param name The name of the symbol.\r\n     * @param kind The kind of the symbol.\r\n     * @param range The range of the location of the symbol.\r\n     * @param uri The resource of the location of symbol, defaults to the current document.\r\n     * @param containerName The name of the symbol containing the symbol.\r\n     */\r\n    function create(name, kind, range, uri, containerName) {\r\n        var result = {\r\n            name: name,\r\n            kind: kind,\r\n            location: { uri: uri, range: range }\r\n        };\r\n        if (containerName) {\r\n            result.containerName = containerName;\r\n        }\r\n        return result;\r\n    }\r\n    SymbolInformation.create = create;\r\n})(SymbolInformation || (SymbolInformation = {}));\r\nexport var DocumentSymbol;\r\n(function (DocumentSymbol) {\r\n    /**\r\n     * Creates a new symbol information literal.\r\n     *\r\n     * @param name The name of the symbol.\r\n     * @param detail The detail of the symbol.\r\n     * @param kind The kind of the symbol.\r\n     * @param range The range of the symbol.\r\n     * @param selectionRange The selectionRange of the symbol.\r\n     * @param children Children of the symbol.\r\n     */\r\n    function create(name, detail, kind, range, selectionRange, children) {\r\n        var result = {\r\n            name: name,\r\n            detail: detail,\r\n            kind: kind,\r\n            range: range,\r\n            selectionRange: selectionRange\r\n        };\r\n        if (children !== undefined) {\r\n            result.children = children;\r\n        }\r\n        return result;\r\n    }\r\n    DocumentSymbol.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [DocumentSymbol](#DocumentSymbol) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate &&\r\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\r\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\r\n            (candidate.detail === undefined || Is.string(candidate.detail)) &&\r\n            (candidate.deprecated === undefined || Is.boolean(candidate.deprecated)) &&\r\n            (candidate.children === undefined || Array.isArray(candidate.children)) &&\r\n            (candidate.tags === undefined || Array.isArray(candidate.tags));\r\n    }\r\n    DocumentSymbol.is = is;\r\n})(DocumentSymbol || (DocumentSymbol = {}));\r\n/**\r\n * A set of predefined code action kinds\r\n */\r\nexport var CodeActionKind;\r\n(function (CodeActionKind) {\r\n    /**\r\n     * Empty kind.\r\n     */\r\n    CodeActionKind.Empty = '';\r\n    /**\r\n     * Base kind for quickfix actions: 'quickfix'\r\n     */\r\n    CodeActionKind.QuickFix = 'quickfix';\r\n    /**\r\n     * Base kind for refactoring actions: 'refactor'\r\n     */\r\n    CodeActionKind.Refactor = 'refactor';\r\n    /**\r\n     * Base kind for refactoring extraction actions: 'refactor.extract'\r\n     *\r\n     * Example extract actions:\r\n     *\r\n     * - Extract method\r\n     * - Extract function\r\n     * - Extract variable\r\n     * - Extract interface from class\r\n     * - ...\r\n     */\r\n    CodeActionKind.RefactorExtract = 'refactor.extract';\r\n    /**\r\n     * Base kind for refactoring inline actions: 'refactor.inline'\r\n     *\r\n     * Example inline actions:\r\n     *\r\n     * - Inline function\r\n     * - Inline variable\r\n     * - Inline constant\r\n     * - ...\r\n     */\r\n    CodeActionKind.RefactorInline = 'refactor.inline';\r\n    /**\r\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\r\n     *\r\n     * Example rewrite actions:\r\n     *\r\n     * - Convert JavaScript function to class\r\n     * - Add or remove parameter\r\n     * - Encapsulate field\r\n     * - Make method static\r\n     * - Move method to base class\r\n     * - ...\r\n     */\r\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\r\n    /**\r\n     * Base kind for source actions: `source`\r\n     *\r\n     * Source code actions apply to the entire file.\r\n     */\r\n    CodeActionKind.Source = 'source';\r\n    /**\r\n     * Base kind for an organize imports source action: `source.organizeImports`\r\n     */\r\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\r\n    /**\r\n     * Base kind for auto-fix source actions: `source.fixAll`.\r\n     *\r\n     * Fix all actions automatically fix errors that have a clear fix that do not require user input.\r\n     * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\r\n     *\r\n     * @since 3.15.0\r\n     */\r\n    CodeActionKind.SourceFixAll = 'source.fixAll';\r\n})(CodeActionKind || (CodeActionKind = {}));\r\n/**\r\n * The CodeActionContext namespace provides helper functions to work with\r\n * [CodeActionContext](#CodeActionContext) literals.\r\n */\r\nexport var CodeActionContext;\r\n(function (CodeActionContext) {\r\n    /**\r\n     * Creates a new CodeActionContext literal.\r\n     */\r\n    function create(diagnostics, only) {\r\n        var result = { diagnostics: diagnostics };\r\n        if (only !== undefined && only !== null) {\r\n            result.only = only;\r\n        }\r\n        return result;\r\n    }\r\n    CodeActionContext.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [CodeActionContext](#CodeActionContext) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is) && (candidate.only === undefined || Is.typedArray(candidate.only, Is.string));\r\n    }\r\n    CodeActionContext.is = is;\r\n})(CodeActionContext || (CodeActionContext = {}));\r\nexport var CodeAction;\r\n(function (CodeAction) {\r\n    function create(title, kindOrCommandOrEdit, kind) {\r\n        var result = { title: title };\r\n        var checkKind = true;\r\n        if (typeof kindOrCommandOrEdit === 'string') {\r\n            checkKind = false;\r\n            result.kind = kindOrCommandOrEdit;\r\n        }\r\n        else if (Command.is(kindOrCommandOrEdit)) {\r\n            result.command = kindOrCommandOrEdit;\r\n        }\r\n        else {\r\n            result.edit = kindOrCommandOrEdit;\r\n        }\r\n        if (checkKind && kind !== undefined) {\r\n            result.kind = kind;\r\n        }\r\n        return result;\r\n    }\r\n    CodeAction.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && Is.string(candidate.title) &&\r\n            (candidate.diagnostics === undefined || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\r\n            (candidate.kind === undefined || Is.string(candidate.kind)) &&\r\n            (candidate.edit !== undefined || candidate.command !== undefined) &&\r\n            (candidate.command === undefined || Command.is(candidate.command)) &&\r\n            (candidate.isPreferred === undefined || Is.boolean(candidate.isPreferred)) &&\r\n            (candidate.edit === undefined || WorkspaceEdit.is(candidate.edit));\r\n    }\r\n    CodeAction.is = is;\r\n})(CodeAction || (CodeAction = {}));\r\n/**\r\n * The CodeLens namespace provides helper functions to work with\r\n * [CodeLens](#CodeLens) literals.\r\n */\r\nexport var CodeLens;\r\n(function (CodeLens) {\r\n    /**\r\n     * Creates a new CodeLens literal.\r\n     */\r\n    function create(range, data) {\r\n        var result = { range: range };\r\n        if (Is.defined(data)) {\r\n            result.data = data;\r\n        }\r\n        return result;\r\n    }\r\n    CodeLens.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [CodeLens](#CodeLens) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\r\n    }\r\n    CodeLens.is = is;\r\n})(CodeLens || (CodeLens = {}));\r\n/**\r\n * The FormattingOptions namespace provides helper functions to work with\r\n * [FormattingOptions](#FormattingOptions) literals.\r\n */\r\nexport var FormattingOptions;\r\n(function (FormattingOptions) {\r\n    /**\r\n     * Creates a new FormattingOptions literal.\r\n     */\r\n    function create(tabSize, insertSpaces) {\r\n        return { tabSize: tabSize, insertSpaces: insertSpaces };\r\n    }\r\n    FormattingOptions.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [FormattingOptions](#FormattingOptions) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.uinteger(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\r\n    }\r\n    FormattingOptions.is = is;\r\n})(FormattingOptions || (FormattingOptions = {}));\r\n/**\r\n * The DocumentLink namespace provides helper functions to work with\r\n * [DocumentLink](#DocumentLink) literals.\r\n */\r\nexport var DocumentLink;\r\n(function (DocumentLink) {\r\n    /**\r\n     * Creates a new DocumentLink literal.\r\n     */\r\n    function create(range, target, data) {\r\n        return { range: range, target: target, data: data };\r\n    }\r\n    DocumentLink.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [DocumentLink](#DocumentLink) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\r\n    }\r\n    DocumentLink.is = is;\r\n})(DocumentLink || (DocumentLink = {}));\r\n/**\r\n * The SelectionRange namespace provides helper function to work with\r\n * SelectionRange literals.\r\n */\r\nexport var SelectionRange;\r\n(function (SelectionRange) {\r\n    /**\r\n     * Creates a new SelectionRange\r\n     * @param range the range.\r\n     * @param parent an optional parent.\r\n     */\r\n    function create(range, parent) {\r\n        return { range: range, parent: parent };\r\n    }\r\n    SelectionRange.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate !== undefined && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\r\n    }\r\n    SelectionRange.is = is;\r\n})(SelectionRange || (SelectionRange = {}));\r\nexport var EOL = ['\\n', '\\r\\n', '\\r'];\r\n/**\r\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\r\n */\r\nexport var TextDocument;\r\n(function (TextDocument) {\r\n    /**\r\n     * Creates a new ITextDocument literal from the given uri and content.\r\n     * @param uri The document's uri.\r\n     * @param languageId  The document's language Id.\r\n     * @param content The document's content.\r\n     */\r\n    function create(uri, languageId, version, content) {\r\n        return new FullTextDocument(uri, languageId, version, content);\r\n    }\r\n    TextDocument.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [ITextDocument](#ITextDocument) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.uinteger(candidate.lineCount)\r\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\r\n    }\r\n    TextDocument.is = is;\r\n    function applyEdits(document, edits) {\r\n        var text = document.getText();\r\n        var sortedEdits = mergeSort(edits, function (a, b) {\r\n            var diff = a.range.start.line - b.range.start.line;\r\n            if (diff === 0) {\r\n                return a.range.start.character - b.range.start.character;\r\n            }\r\n            return diff;\r\n        });\r\n        var lastModifiedOffset = text.length;\r\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\r\n            var e = sortedEdits[i];\r\n            var startOffset = document.offsetAt(e.range.start);\r\n            var endOffset = document.offsetAt(e.range.end);\r\n            if (endOffset <= lastModifiedOffset) {\r\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\r\n            }\r\n            else {\r\n                throw new Error('Overlapping edit');\r\n            }\r\n            lastModifiedOffset = startOffset;\r\n        }\r\n        return text;\r\n    }\r\n    TextDocument.applyEdits = applyEdits;\r\n    function mergeSort(data, compare) {\r\n        if (data.length <= 1) {\r\n            // sorted\r\n            return data;\r\n        }\r\n        var p = (data.length / 2) | 0;\r\n        var left = data.slice(0, p);\r\n        var right = data.slice(p);\r\n        mergeSort(left, compare);\r\n        mergeSort(right, compare);\r\n        var leftIdx = 0;\r\n        var rightIdx = 0;\r\n        var i = 0;\r\n        while (leftIdx < left.length && rightIdx < right.length) {\r\n            var ret = compare(left[leftIdx], right[rightIdx]);\r\n            if (ret <= 0) {\r\n                // smaller_equal -> take left to preserve order\r\n                data[i++] = left[leftIdx++];\r\n            }\r\n            else {\r\n                // greater -> take right\r\n                data[i++] = right[rightIdx++];\r\n            }\r\n        }\r\n        while (leftIdx < left.length) {\r\n            data[i++] = left[leftIdx++];\r\n        }\r\n        while (rightIdx < right.length) {\r\n            data[i++] = right[rightIdx++];\r\n        }\r\n        return data;\r\n    }\r\n})(TextDocument || (TextDocument = {}));\r\n/**\r\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\r\n */\r\nvar FullTextDocument = /** @class */ (function () {\r\n    function FullTextDocument(uri, languageId, version, content) {\r\n        this._uri = uri;\r\n        this._languageId = languageId;\r\n        this._version = version;\r\n        this._content = content;\r\n        this._lineOffsets = undefined;\r\n    }\r\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\r\n        get: function () {\r\n            return this._uri;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\r\n        get: function () {\r\n            return this._languageId;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\r\n        get: function () {\r\n            return this._version;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    FullTextDocument.prototype.getText = function (range) {\r\n        if (range) {\r\n            var start = this.offsetAt(range.start);\r\n            var end = this.offsetAt(range.end);\r\n            return this._content.substring(start, end);\r\n        }\r\n        return this._content;\r\n    };\r\n    FullTextDocument.prototype.update = function (event, version) {\r\n        this._content = event.text;\r\n        this._version = version;\r\n        this._lineOffsets = undefined;\r\n    };\r\n    FullTextDocument.prototype.getLineOffsets = function () {\r\n        if (this._lineOffsets === undefined) {\r\n            var lineOffsets = [];\r\n            var text = this._content;\r\n            var isLineStart = true;\r\n            for (var i = 0; i < text.length; i++) {\r\n                if (isLineStart) {\r\n                    lineOffsets.push(i);\r\n                    isLineStart = false;\r\n                }\r\n                var ch = text.charAt(i);\r\n                isLineStart = (ch === '\\r' || ch === '\\n');\r\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\r\n                    i++;\r\n                }\r\n            }\r\n            if (isLineStart && text.length > 0) {\r\n                lineOffsets.push(text.length);\r\n            }\r\n            this._lineOffsets = lineOffsets;\r\n        }\r\n        return this._lineOffsets;\r\n    };\r\n    FullTextDocument.prototype.positionAt = function (offset) {\r\n        offset = Math.max(Math.min(offset, this._content.length), 0);\r\n        var lineOffsets = this.getLineOffsets();\r\n        var low = 0, high = lineOffsets.length;\r\n        if (high === 0) {\r\n            return Position.create(0, offset);\r\n        }\r\n        while (low < high) {\r\n            var mid = Math.floor((low + high) / 2);\r\n            if (lineOffsets[mid] > offset) {\r\n                high = mid;\r\n            }\r\n            else {\r\n                low = mid + 1;\r\n            }\r\n        }\r\n        // low is the least x for which the line offset is larger than the current offset\r\n        // or array.length if no line offset is larger than the current offset\r\n        var line = low - 1;\r\n        return Position.create(line, offset - lineOffsets[line]);\r\n    };\r\n    FullTextDocument.prototype.offsetAt = function (position) {\r\n        var lineOffsets = this.getLineOffsets();\r\n        if (position.line >= lineOffsets.length) {\r\n            return this._content.length;\r\n        }\r\n        else if (position.line < 0) {\r\n            return 0;\r\n        }\r\n        var lineOffset = lineOffsets[position.line];\r\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\r\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\r\n    };\r\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\r\n        get: function () {\r\n            return this.getLineOffsets().length;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return FullTextDocument;\r\n}());\r\nvar Is;\r\n(function (Is) {\r\n    var toString = Object.prototype.toString;\r\n    function defined(value) {\r\n        return typeof value !== 'undefined';\r\n    }\r\n    Is.defined = defined;\r\n    function undefined(value) {\r\n        return typeof value === 'undefined';\r\n    }\r\n    Is.undefined = undefined;\r\n    function boolean(value) {\r\n        return value === true || value === false;\r\n    }\r\n    Is.boolean = boolean;\r\n    function string(value) {\r\n        return toString.call(value) === '[object String]';\r\n    }\r\n    Is.string = string;\r\n    function number(value) {\r\n        return toString.call(value) === '[object Number]';\r\n    }\r\n    Is.number = number;\r\n    function numberRange(value, min, max) {\r\n        return toString.call(value) === '[object Number]' && min <= value && value <= max;\r\n    }\r\n    Is.numberRange = numberRange;\r\n    function integer(value) {\r\n        return toString.call(value) === '[object Number]' && -2147483648 <= value && value <= 2147483647;\r\n    }\r\n    Is.integer = integer;\r\n    function uinteger(value) {\r\n        return toString.call(value) === '[object Number]' && 0 <= value && value <= 2147483647;\r\n    }\r\n    Is.uinteger = uinteger;\r\n    function func(value) {\r\n        return toString.call(value) === '[object Function]';\r\n    }\r\n    Is.func = func;\r\n    function objectLiteral(value) {\r\n        // Strictly speaking class instances pass this check as well. Since the LSP\r\n        // doesn't use classes we ignore this for now. If we do we need to add something\r\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\r\n        return value !== null && typeof value === 'object';\r\n    }\r\n    Is.objectLiteral = objectLiteral;\r\n    function typedArray(value, check) {\r\n        return Array.isArray(value) && value.every(check);\r\n    }\r\n    Is.typedArray = typedArray;\r\n})(Is || (Is = {}));\r\n","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ProposedFeatures = exports.SemanticTokensBuilder = void 0;\r\nconst semanticTokens_1 = require(\"./semanticTokens\");\r\nObject.defineProperty(exports, \"SemanticTokensBuilder\", { enumerable: true, get: function () { return semanticTokens_1.SemanticTokensBuilder; } });\r\n__exportStar(require(\"vscode-languageserver-protocol/\"), exports);\r\n__exportStar(require(\"./server\"), exports);\r\nvar ProposedFeatures;\r\n(function (ProposedFeatures) {\r\n    ProposedFeatures.all = {\r\n        __brand: 'features'\r\n    };\r\n})(ProposedFeatures = exports.ProposedFeatures || (exports.ProposedFeatures = {}));\r\n//# sourceMappingURL=api.js.map","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CallHierarchyFeature = void 0;\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst CallHierarchyFeature = (Base) => {\r\n    return class extends Base {\r\n        get callHierarchy() {\r\n            return {\r\n                onPrepare: (handler) => {\r\n                    this.connection.onRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, (params, cancel) => {\r\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\r\n                    });\r\n                },\r\n                onIncomingCalls: (handler) => {\r\n                    const type = vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type;\r\n                    this.connection.onRequest(type, (params, cancel) => {\r\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\r\n                    });\r\n                },\r\n                onOutgoingCalls: (handler) => {\r\n                    const type = vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type;\r\n                    this.connection.onRequest(type, (params, cancel) => {\r\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    };\r\n};\r\nexports.CallHierarchyFeature = CallHierarchyFeature;\r\n//# sourceMappingURL=callHierarchy.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ConfigurationFeature = void 0;\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst Is = require(\"./utils/is\");\r\nconst ConfigurationFeature = (Base) => {\r\n    return class extends Base {\r\n        getConfiguration(arg) {\r\n            if (!arg) {\r\n                return this._getConfiguration({});\r\n            }\r\n            else if (Is.string(arg)) {\r\n                return this._getConfiguration({ section: arg });\r\n            }\r\n            else {\r\n                return this._getConfiguration(arg);\r\n            }\r\n        }\r\n        _getConfiguration(arg) {\r\n            let params = {\r\n                items: Array.isArray(arg) ? arg : [arg]\r\n            };\r\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type, params).then((result) => {\r\n                return Array.isArray(arg) ? result : result[0];\r\n            });\r\n        }\r\n    };\r\n};\r\nexports.ConfigurationFeature = ConfigurationFeature;\r\n//# sourceMappingURL=configuration.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.FileOperationsFeature = void 0;\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst FileOperationsFeature = (Base) => {\r\n    return class extends Base {\r\n        onDidCreateFiles(handler) {\r\n            this.connection.onNotification(vscode_languageserver_protocol_1.DidCreateFilesNotification.type, (params) => {\r\n                handler(params);\r\n            });\r\n        }\r\n        onDidRenameFiles(handler) {\r\n            this.connection.onNotification(vscode_languageserver_protocol_1.DidRenameFilesNotification.type, (params) => {\r\n                handler(params);\r\n            });\r\n        }\r\n        onDidDeleteFiles(handler) {\r\n            this.connection.onNotification(vscode_languageserver_protocol_1.DidDeleteFilesNotification.type, (params) => {\r\n                handler(params);\r\n            });\r\n        }\r\n        onWillCreateFiles(handler) {\r\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillCreateFilesRequest.type, (params, cancel) => {\r\n                return handler(params, cancel);\r\n            });\r\n        }\r\n        onWillRenameFiles(handler) {\r\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillRenameFilesRequest.type, (params, cancel) => {\r\n                return handler(params, cancel);\r\n            });\r\n        }\r\n        onWillDeleteFiles(handler) {\r\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillDeleteFilesRequest.type, (params, cancel) => {\r\n                return handler(params, cancel);\r\n            });\r\n        }\r\n    };\r\n};\r\nexports.FileOperationsFeature = FileOperationsFeature;\r\n//# sourceMappingURL=fileOperations.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LinkedEditingRangeFeature = void 0;\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst LinkedEditingRangeFeature = (Base) => {\r\n    return class extends Base {\r\n        onLinkedEditingRange(handler) {\r\n            this.connection.onRequest(vscode_languageserver_protocol_1.LinkedEditingRangeRequest.type, (params, cancel) => {\r\n                return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\r\n            });\r\n        }\r\n    };\r\n};\r\nexports.LinkedEditingRangeFeature = LinkedEditingRangeFeature;\r\n//# sourceMappingURL=linkedEditingRange.js.map","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MonikerFeature = void 0;\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst MonikerFeature = (Base) => {\r\n    return class extends Base {\r\n        get moniker() {\r\n            return {\r\n                on: (handler) => {\r\n                    const type = vscode_languageserver_protocol_1.MonikerRequest.type;\r\n                    this.connection.onRequest(type, (params, cancel) => {\r\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\r\n                    });\r\n                },\r\n            };\r\n        }\r\n    };\r\n};\r\nexports.MonikerFeature = MonikerFeature;\r\n//# sourceMappingURL=moniker.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.attachPartialResult = exports.ProgressFeature = exports.attachWorkDone = void 0;\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst uuid_1 = require(\"./utils/uuid\");\r\nclass WorkDoneProgressReporterImpl {\r\n    constructor(_connection, _token) {\r\n        this._connection = _connection;\r\n        this._token = _token;\r\n        WorkDoneProgressReporterImpl.Instances.set(this._token, this);\r\n    }\r\n    begin(title, percentage, message, cancellable) {\r\n        let param = {\r\n            kind: 'begin',\r\n            title,\r\n            percentage,\r\n            message,\r\n            cancellable\r\n        };\r\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, param);\r\n    }\r\n    report(arg0, arg1) {\r\n        let param = {\r\n            kind: 'report'\r\n        };\r\n        if (typeof arg0 === 'number') {\r\n            param.percentage = arg0;\r\n            if (arg1 !== undefined) {\r\n                param.message = arg1;\r\n            }\r\n        }\r\n        else {\r\n            param.message = arg0;\r\n        }\r\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, param);\r\n    }\r\n    done() {\r\n        WorkDoneProgressReporterImpl.Instances.delete(this._token);\r\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, { kind: 'end' });\r\n    }\r\n}\r\nWorkDoneProgressReporterImpl.Instances = new Map();\r\nclass WorkDoneProgressServerReporterImpl extends WorkDoneProgressReporterImpl {\r\n    constructor(connection, token) {\r\n        super(connection, token);\r\n        this._source = new vscode_languageserver_protocol_1.CancellationTokenSource();\r\n    }\r\n    get token() {\r\n        return this._source.token;\r\n    }\r\n    done() {\r\n        this._source.dispose();\r\n        super.done();\r\n    }\r\n    cancel() {\r\n        this._source.cancel();\r\n    }\r\n}\r\nclass NullProgressReporter {\r\n    constructor() {\r\n    }\r\n    begin() {\r\n    }\r\n    report() {\r\n    }\r\n    done() {\r\n    }\r\n}\r\nclass NullProgressServerReporter extends NullProgressReporter {\r\n    constructor() {\r\n        super();\r\n        this._source = new vscode_languageserver_protocol_1.CancellationTokenSource();\r\n    }\r\n    get token() {\r\n        return this._source.token;\r\n    }\r\n    done() {\r\n        this._source.dispose();\r\n    }\r\n    cancel() {\r\n        this._source.cancel();\r\n    }\r\n}\r\nfunction attachWorkDone(connection, params) {\r\n    if (params === undefined || params.workDoneToken === undefined) {\r\n        return new NullProgressReporter();\r\n    }\r\n    const token = params.workDoneToken;\r\n    delete params.workDoneToken;\r\n    return new WorkDoneProgressReporterImpl(connection, token);\r\n}\r\nexports.attachWorkDone = attachWorkDone;\r\nconst ProgressFeature = (Base) => {\r\n    return class extends Base {\r\n        constructor() {\r\n            super();\r\n            this._progressSupported = false;\r\n        }\r\n        initialize(capabilities) {\r\n            var _a;\r\n            if (((_a = capabilities === null || capabilities === void 0 ? void 0 : capabilities.window) === null || _a === void 0 ? void 0 : _a.workDoneProgress) === true) {\r\n                this._progressSupported = true;\r\n                this.connection.onNotification(vscode_languageserver_protocol_1.WorkDoneProgressCancelNotification.type, (params) => {\r\n                    let progress = WorkDoneProgressReporterImpl.Instances.get(params.token);\r\n                    if (progress instanceof WorkDoneProgressServerReporterImpl || progress instanceof NullProgressServerReporter) {\r\n                        progress.cancel();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        attachWorkDoneProgress(token) {\r\n            if (token === undefined) {\r\n                return new NullProgressReporter();\r\n            }\r\n            else {\r\n                return new WorkDoneProgressReporterImpl(this.connection, token);\r\n            }\r\n        }\r\n        createWorkDoneProgress() {\r\n            if (this._progressSupported) {\r\n                const token = uuid_1.generateUuid();\r\n                return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.type, { token }).then(() => {\r\n                    const result = new WorkDoneProgressServerReporterImpl(this.connection, token);\r\n                    return result;\r\n                });\r\n            }\r\n            else {\r\n                return Promise.resolve(new NullProgressServerReporter());\r\n            }\r\n        }\r\n    };\r\n};\r\nexports.ProgressFeature = ProgressFeature;\r\nvar ResultProgress;\r\n(function (ResultProgress) {\r\n    ResultProgress.type = new vscode_languageserver_protocol_1.ProgressType();\r\n})(ResultProgress || (ResultProgress = {}));\r\nclass ResultProgressReporterImpl {\r\n    constructor(_connection, _token) {\r\n        this._connection = _connection;\r\n        this._token = _token;\r\n    }\r\n    report(data) {\r\n        this._connection.sendProgress(ResultProgress.type, this._token, data);\r\n    }\r\n}\r\nfunction attachPartialResult(connection, params) {\r\n    if (params === undefined || params.partialResultToken === undefined) {\r\n        return undefined;\r\n    }\r\n    const token = params.partialResultToken;\r\n    delete params.partialResultToken;\r\n    return new ResultProgressReporterImpl(connection, token);\r\n}\r\nexports.attachPartialResult = attachPartialResult;\r\n//# sourceMappingURL=progress.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SemanticTokensBuilder = exports.SemanticTokensFeature = void 0;\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst SemanticTokensFeature = (Base) => {\r\n    return class extends Base {\r\n        get semanticTokens() {\r\n            return {\r\n                on: (handler) => {\r\n                    const type = vscode_languageserver_protocol_1.SemanticTokensRequest.type;\r\n                    this.connection.onRequest(type, (params, cancel) => {\r\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\r\n                    });\r\n                },\r\n                onDelta: (handler) => {\r\n                    const type = vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type;\r\n                    this.connection.onRequest(type, (params, cancel) => {\r\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\r\n                    });\r\n                },\r\n                onRange: (handler) => {\r\n                    const type = vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type;\r\n                    this.connection.onRequest(type, (params, cancel) => {\r\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    };\r\n};\r\nexports.SemanticTokensFeature = SemanticTokensFeature;\r\nclass SemanticTokensBuilder {\r\n    constructor() {\r\n        this._prevData = undefined;\r\n        this.initialize();\r\n    }\r\n    initialize() {\r\n        this._id = Date.now();\r\n        this._prevLine = 0;\r\n        this._prevChar = 0;\r\n        this._data = [];\r\n        this._dataLen = 0;\r\n    }\r\n    push(line, char, length, tokenType, tokenModifiers) {\r\n        let pushLine = line;\r\n        let pushChar = char;\r\n        if (this._dataLen > 0) {\r\n            pushLine -= this._prevLine;\r\n            if (pushLine === 0) {\r\n                pushChar -= this._prevChar;\r\n            }\r\n        }\r\n        this._data[this._dataLen++] = pushLine;\r\n        this._data[this._dataLen++] = pushChar;\r\n        this._data[this._dataLen++] = length;\r\n        this._data[this._dataLen++] = tokenType;\r\n        this._data[this._dataLen++] = tokenModifiers;\r\n        this._prevLine = line;\r\n        this._prevChar = char;\r\n    }\r\n    get id() {\r\n        return this._id.toString();\r\n    }\r\n    previousResult(id) {\r\n        if (this.id === id) {\r\n            this._prevData = this._data;\r\n        }\r\n        this.initialize();\r\n    }\r\n    build() {\r\n        this._prevData = undefined;\r\n        return {\r\n            resultId: this.id,\r\n            data: this._data\r\n        };\r\n    }\r\n    canBuildEdits() {\r\n        return this._prevData !== undefined;\r\n    }\r\n    buildEdits() {\r\n        if (this._prevData !== undefined) {\r\n            const prevDataLength = this._prevData.length;\r\n            const dataLength = this._data.length;\r\n            let startIndex = 0;\r\n            while (startIndex < dataLength && startIndex < prevDataLength && this._prevData[startIndex] === this._data[startIndex]) {\r\n                startIndex++;\r\n            }\r\n            if (startIndex < dataLength && startIndex < prevDataLength) {\r\n                // Find end index\r\n                let endIndex = 0;\r\n                while (endIndex < dataLength && endIndex < prevDataLength && this._prevData[prevDataLength - 1 - endIndex] === this._data[dataLength - 1 - endIndex]) {\r\n                    endIndex++;\r\n                }\r\n                const newData = this._data.slice(startIndex, dataLength - endIndex);\r\n                const result = {\r\n                    resultId: this.id,\r\n                    edits: [\r\n                        { start: startIndex, deleteCount: prevDataLength - endIndex - startIndex, data: newData }\r\n                    ]\r\n                };\r\n                return result;\r\n            }\r\n            else if (startIndex < dataLength) {\r\n                return { resultId: this.id, edits: [\r\n                        { start: startIndex, deleteCount: 0, data: this._data.slice(startIndex) }\r\n                    ] };\r\n            }\r\n            else if (startIndex < prevDataLength) {\r\n                return { resultId: this.id, edits: [\r\n                        { start: startIndex, deleteCount: prevDataLength - startIndex }\r\n                    ] };\r\n            }\r\n            else {\r\n                return { resultId: this.id, edits: [] };\r\n            }\r\n        }\r\n        else {\r\n            return this.build();\r\n        }\r\n    }\r\n}\r\nexports.SemanticTokensBuilder = SemanticTokensBuilder;\r\n//# sourceMappingURL=semanticTokens.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.createConnection = exports.combineFeatures = exports.combineLanguagesFeatures = exports.combineWorkspaceFeatures = exports.combineWindowFeatures = exports.combineClientFeatures = exports.combineTracerFeatures = exports.combineTelemetryFeatures = exports.combineConsoleFeatures = exports._LanguagesImpl = exports.BulkUnregistration = exports.BulkRegistration = exports.ErrorMessageTracker = exports.TextDocuments = void 0;\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst Is = require(\"./utils/is\");\r\nconst UUID = require(\"./utils/uuid\");\r\nconst progress_1 = require(\"./progress\");\r\nconst configuration_1 = require(\"./configuration\");\r\nconst workspaceFolders_1 = require(\"./workspaceFolders\");\r\nconst callHierarchy_1 = require(\"./callHierarchy\");\r\nconst semanticTokens_1 = require(\"./semanticTokens\");\r\nconst showDocument_1 = require(\"./showDocument\");\r\nconst fileOperations_1 = require(\"./fileOperations\");\r\nconst linkedEditingRange_1 = require(\"./linkedEditingRange\");\r\nconst moniker_1 = require(\"./moniker\");\r\nfunction null2Undefined(value) {\r\n    if (value === null) {\r\n        return undefined;\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * A manager for simple text documents\r\n */\r\nclass TextDocuments {\r\n    /**\r\n     * Create a new text document manager.\r\n     */\r\n    constructor(configuration) {\r\n        this._documents = Object.create(null);\r\n        this._configuration = configuration;\r\n        this._onDidChangeContent = new vscode_languageserver_protocol_1.Emitter();\r\n        this._onDidOpen = new vscode_languageserver_protocol_1.Emitter();\r\n        this._onDidClose = new vscode_languageserver_protocol_1.Emitter();\r\n        this._onDidSave = new vscode_languageserver_protocol_1.Emitter();\r\n        this._onWillSave = new vscode_languageserver_protocol_1.Emitter();\r\n    }\r\n    /**\r\n     * An event that fires when a text document managed by this manager\r\n     * has been opened or the content changes.\r\n     */\r\n    get onDidChangeContent() {\r\n        return this._onDidChangeContent.event;\r\n    }\r\n    /**\r\n     * An event that fires when a text document managed by this manager\r\n     * has been opened.\r\n     */\r\n    get onDidOpen() {\r\n        return this._onDidOpen.event;\r\n    }\r\n    /**\r\n     * An event that fires when a text document managed by this manager\r\n     * will be saved.\r\n     */\r\n    get onWillSave() {\r\n        return this._onWillSave.event;\r\n    }\r\n    /**\r\n     * Sets a handler that will be called if a participant wants to provide\r\n     * edits during a text document save.\r\n     */\r\n    onWillSaveWaitUntil(handler) {\r\n        this._willSaveWaitUntil = handler;\r\n    }\r\n    /**\r\n     * An event that fires when a text document managed by this manager\r\n     * has been saved.\r\n     */\r\n    get onDidSave() {\r\n        return this._onDidSave.event;\r\n    }\r\n    /**\r\n     * An event that fires when a text document managed by this manager\r\n     * has been closed.\r\n     */\r\n    get onDidClose() {\r\n        return this._onDidClose.event;\r\n    }\r\n    /**\r\n     * Returns the document for the given URI. Returns undefined if\r\n     * the document is not managed by this instance.\r\n     *\r\n     * @param uri The text document's URI to retrieve.\r\n     * @return the text document or `undefined`.\r\n     */\r\n    get(uri) {\r\n        return this._documents[uri];\r\n    }\r\n    /**\r\n     * Returns all text documents managed by this instance.\r\n     *\r\n     * @return all text documents.\r\n     */\r\n    all() {\r\n        return Object.keys(this._documents).map(key => this._documents[key]);\r\n    }\r\n    /**\r\n     * Returns the URIs of all text documents managed by this instance.\r\n     *\r\n     * @return the URI's of all text documents.\r\n     */\r\n    keys() {\r\n        return Object.keys(this._documents);\r\n    }\r\n    /**\r\n     * Listens for `low level` notification on the given connection to\r\n     * update the text documents managed by this instance.\r\n     *\r\n     * Please note that the connection only provides handlers not an event model. Therefore\r\n     * listening on a connection will overwrite the following handlers on a connection:\r\n     * `onDidOpenTextDocument`, `onDidChangeTextDocument`, `onDidCloseTextDocument`,\r\n     * `onWillSaveTextDocument`, `onWillSaveTextDocumentWaitUntil` and `onDidSaveTextDocument`.\r\n     *\r\n     * Use the corresponding events on the TextDocuments instance instead.\r\n     *\r\n     * @param connection The connection to listen on.\r\n     */\r\n    listen(connection) {\r\n        connection.__textDocumentSync = vscode_languageserver_protocol_1.TextDocumentSyncKind.Full;\r\n        connection.onDidOpenTextDocument((event) => {\r\n            let td = event.textDocument;\r\n            let document = this._configuration.create(td.uri, td.languageId, td.version, td.text);\r\n            this._documents[td.uri] = document;\r\n            let toFire = Object.freeze({ document });\r\n            this._onDidOpen.fire(toFire);\r\n            this._onDidChangeContent.fire(toFire);\r\n        });\r\n        connection.onDidChangeTextDocument((event) => {\r\n            let td = event.textDocument;\r\n            let changes = event.contentChanges;\r\n            if (changes.length === 0) {\r\n                return;\r\n            }\r\n            let document = this._documents[td.uri];\r\n            const { version } = td;\r\n            if (version === null || version === undefined) {\r\n                throw new Error(`Received document change event for ${td.uri} without valid version identifier`);\r\n            }\r\n            document = this._configuration.update(document, changes, version);\r\n            this._documents[td.uri] = document;\r\n            this._onDidChangeContent.fire(Object.freeze({ document }));\r\n        });\r\n        connection.onDidCloseTextDocument((event) => {\r\n            let document = this._documents[event.textDocument.uri];\r\n            if (document) {\r\n                delete this._documents[event.textDocument.uri];\r\n                this._onDidClose.fire(Object.freeze({ document }));\r\n            }\r\n        });\r\n        connection.onWillSaveTextDocument((event) => {\r\n            let document = this._documents[event.textDocument.uri];\r\n            if (document) {\r\n                this._onWillSave.fire(Object.freeze({ document, reason: event.reason }));\r\n            }\r\n        });\r\n        connection.onWillSaveTextDocumentWaitUntil((event, token) => {\r\n            let document = this._documents[event.textDocument.uri];\r\n            if (document && this._willSaveWaitUntil) {\r\n                return this._willSaveWaitUntil(Object.freeze({ document, reason: event.reason }), token);\r\n            }\r\n            else {\r\n                return [];\r\n            }\r\n        });\r\n        connection.onDidSaveTextDocument((event) => {\r\n            let document = this._documents[event.textDocument.uri];\r\n            if (document) {\r\n                this._onDidSave.fire(Object.freeze({ document }));\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.TextDocuments = TextDocuments;\r\n/**\r\n * Helps tracking error message. Equal occurrences of the same\r\n * message are only stored once. This class is for example\r\n * useful if text documents are validated in a loop and equal\r\n * error message should be folded into one.\r\n */\r\nclass ErrorMessageTracker {\r\n    constructor() {\r\n        this._messages = Object.create(null);\r\n    }\r\n    /**\r\n     * Add a message to the tracker.\r\n     *\r\n     * @param message The message to add.\r\n     */\r\n    add(message) {\r\n        let count = this._messages[message];\r\n        if (!count) {\r\n            count = 0;\r\n        }\r\n        count++;\r\n        this._messages[message] = count;\r\n    }\r\n    /**\r\n     * Send all tracked messages to the connection's window.\r\n     *\r\n     * @param connection The connection established between client and server.\r\n     */\r\n    sendErrors(connection) {\r\n        Object.keys(this._messages).forEach(message => {\r\n            connection.window.showErrorMessage(message);\r\n        });\r\n    }\r\n}\r\nexports.ErrorMessageTracker = ErrorMessageTracker;\r\nclass RemoteConsoleImpl {\r\n    constructor() {\r\n    }\r\n    rawAttach(connection) {\r\n        this._rawConnection = connection;\r\n    }\r\n    attach(connection) {\r\n        this._connection = connection;\r\n    }\r\n    get connection() {\r\n        if (!this._connection) {\r\n            throw new Error('Remote is not attached to a connection yet.');\r\n        }\r\n        return this._connection;\r\n    }\r\n    fillServerCapabilities(_capabilities) {\r\n    }\r\n    initialize(_capabilities) {\r\n    }\r\n    error(message) {\r\n        this.send(vscode_languageserver_protocol_1.MessageType.Error, message);\r\n    }\r\n    warn(message) {\r\n        this.send(vscode_languageserver_protocol_1.MessageType.Warning, message);\r\n    }\r\n    info(message) {\r\n        this.send(vscode_languageserver_protocol_1.MessageType.Info, message);\r\n    }\r\n    log(message) {\r\n        this.send(vscode_languageserver_protocol_1.MessageType.Log, message);\r\n    }\r\n    send(type, message) {\r\n        if (this._rawConnection) {\r\n            this._rawConnection.sendNotification(vscode_languageserver_protocol_1.LogMessageNotification.type, { type, message });\r\n        }\r\n    }\r\n}\r\nclass _RemoteWindowImpl {\r\n    constructor() {\r\n    }\r\n    attach(connection) {\r\n        this._connection = connection;\r\n    }\r\n    get connection() {\r\n        if (!this._connection) {\r\n            throw new Error('Remote is not attached to a connection yet.');\r\n        }\r\n        return this._connection;\r\n    }\r\n    initialize(_capabilities) {\r\n    }\r\n    fillServerCapabilities(_capabilities) {\r\n    }\r\n    showErrorMessage(message, ...actions) {\r\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Error, message, actions };\r\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\r\n    }\r\n    showWarningMessage(message, ...actions) {\r\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Warning, message, actions };\r\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\r\n    }\r\n    showInformationMessage(message, ...actions) {\r\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Info, message, actions };\r\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\r\n    }\r\n}\r\nconst RemoteWindowImpl = showDocument_1.ShowDocumentFeature(progress_1.ProgressFeature(_RemoteWindowImpl));\r\nvar BulkRegistration;\r\n(function (BulkRegistration) {\r\n    /**\r\n     * Creates a new bulk registration.\r\n     * @return an empty bulk registration.\r\n     */\r\n    function create() {\r\n        return new BulkRegistrationImpl();\r\n    }\r\n    BulkRegistration.create = create;\r\n})(BulkRegistration = exports.BulkRegistration || (exports.BulkRegistration = {}));\r\nclass BulkRegistrationImpl {\r\n    constructor() {\r\n        this._registrations = [];\r\n        this._registered = new Set();\r\n    }\r\n    add(type, registerOptions) {\r\n        const method = Is.string(type) ? type : type.method;\r\n        if (this._registered.has(method)) {\r\n            throw new Error(`${method} is already added to this registration`);\r\n        }\r\n        const id = UUID.generateUuid();\r\n        this._registrations.push({\r\n            id: id,\r\n            method: method,\r\n            registerOptions: registerOptions || {}\r\n        });\r\n        this._registered.add(method);\r\n    }\r\n    asRegistrationParams() {\r\n        return {\r\n            registrations: this._registrations\r\n        };\r\n    }\r\n}\r\nvar BulkUnregistration;\r\n(function (BulkUnregistration) {\r\n    function create() {\r\n        return new BulkUnregistrationImpl(undefined, []);\r\n    }\r\n    BulkUnregistration.create = create;\r\n})(BulkUnregistration = exports.BulkUnregistration || (exports.BulkUnregistration = {}));\r\nclass BulkUnregistrationImpl {\r\n    constructor(_connection, unregistrations) {\r\n        this._connection = _connection;\r\n        this._unregistrations = new Map();\r\n        unregistrations.forEach(unregistration => {\r\n            this._unregistrations.set(unregistration.method, unregistration);\r\n        });\r\n    }\r\n    get isAttached() {\r\n        return !!this._connection;\r\n    }\r\n    attach(connection) {\r\n        this._connection = connection;\r\n    }\r\n    add(unregistration) {\r\n        this._unregistrations.set(unregistration.method, unregistration);\r\n    }\r\n    dispose() {\r\n        let unregistrations = [];\r\n        for (let unregistration of this._unregistrations.values()) {\r\n            unregistrations.push(unregistration);\r\n        }\r\n        let params = {\r\n            unregisterations: unregistrations\r\n        };\r\n        this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).then(undefined, (_error) => {\r\n            this._connection.console.info(`Bulk unregistration failed.`);\r\n        });\r\n    }\r\n    disposeSingle(arg) {\r\n        const method = Is.string(arg) ? arg : arg.method;\r\n        const unregistration = this._unregistrations.get(method);\r\n        if (!unregistration) {\r\n            return false;\r\n        }\r\n        let params = {\r\n            unregisterations: [unregistration]\r\n        };\r\n        this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).then(() => {\r\n            this._unregistrations.delete(method);\r\n        }, (_error) => {\r\n            this._connection.console.info(`Un-registering request handler for ${unregistration.id} failed.`);\r\n        });\r\n        return true;\r\n    }\r\n}\r\nclass RemoteClientImpl {\r\n    attach(connection) {\r\n        this._connection = connection;\r\n    }\r\n    get connection() {\r\n        if (!this._connection) {\r\n            throw new Error('Remote is not attached to a connection yet.');\r\n        }\r\n        return this._connection;\r\n    }\r\n    initialize(_capabilities) {\r\n    }\r\n    fillServerCapabilities(_capabilities) {\r\n    }\r\n    register(typeOrRegistrations, registerOptionsOrType, registerOptions) {\r\n        if (typeOrRegistrations instanceof BulkRegistrationImpl) {\r\n            return this.registerMany(typeOrRegistrations);\r\n        }\r\n        else if (typeOrRegistrations instanceof BulkUnregistrationImpl) {\r\n            return this.registerSingle1(typeOrRegistrations, registerOptionsOrType, registerOptions);\r\n        }\r\n        else {\r\n            return this.registerSingle2(typeOrRegistrations, registerOptionsOrType);\r\n        }\r\n    }\r\n    registerSingle1(unregistration, type, registerOptions) {\r\n        const method = Is.string(type) ? type : type.method;\r\n        const id = UUID.generateUuid();\r\n        let params = {\r\n            registrations: [{ id, method, registerOptions: registerOptions || {} }]\r\n        };\r\n        if (!unregistration.isAttached) {\r\n            unregistration.attach(this.connection);\r\n        }\r\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then((_result) => {\r\n            unregistration.add({ id: id, method: method });\r\n            return unregistration;\r\n        }, (_error) => {\r\n            this.connection.console.info(`Registering request handler for ${method} failed.`);\r\n            return Promise.reject(_error);\r\n        });\r\n    }\r\n    registerSingle2(type, registerOptions) {\r\n        const method = Is.string(type) ? type : type.method;\r\n        const id = UUID.generateUuid();\r\n        let params = {\r\n            registrations: [{ id, method, registerOptions: registerOptions || {} }]\r\n        };\r\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then((_result) => {\r\n            return vscode_languageserver_protocol_1.Disposable.create(() => {\r\n                this.unregisterSingle(id, method);\r\n            });\r\n        }, (_error) => {\r\n            this.connection.console.info(`Registering request handler for ${method} failed.`);\r\n            return Promise.reject(_error);\r\n        });\r\n    }\r\n    unregisterSingle(id, method) {\r\n        let params = {\r\n            unregisterations: [{ id, method }]\r\n        };\r\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).then(undefined, (_error) => {\r\n            this.connection.console.info(`Un-registering request handler for ${id} failed.`);\r\n        });\r\n    }\r\n    registerMany(registrations) {\r\n        let params = registrations.asRegistrationParams();\r\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then(() => {\r\n            return new BulkUnregistrationImpl(this._connection, params.registrations.map(registration => { return { id: registration.id, method: registration.method }; }));\r\n        }, (_error) => {\r\n            this.connection.console.info(`Bulk registration failed.`);\r\n            return Promise.reject(_error);\r\n        });\r\n    }\r\n}\r\nclass _RemoteWorkspaceImpl {\r\n    constructor() {\r\n    }\r\n    attach(connection) {\r\n        this._connection = connection;\r\n    }\r\n    get connection() {\r\n        if (!this._connection) {\r\n            throw new Error('Remote is not attached to a connection yet.');\r\n        }\r\n        return this._connection;\r\n    }\r\n    initialize(_capabilities) {\r\n    }\r\n    fillServerCapabilities(_capabilities) {\r\n    }\r\n    applyEdit(paramOrEdit) {\r\n        function isApplyWorkspaceEditParams(value) {\r\n            return value && !!value.edit;\r\n        }\r\n        let params = isApplyWorkspaceEditParams(paramOrEdit) ? paramOrEdit : { edit: paramOrEdit };\r\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type, params);\r\n    }\r\n}\r\nconst RemoteWorkspaceImpl = fileOperations_1.FileOperationsFeature(workspaceFolders_1.WorkspaceFoldersFeature(configuration_1.ConfigurationFeature(_RemoteWorkspaceImpl)));\r\nclass TracerImpl {\r\n    constructor() {\r\n        this._trace = vscode_languageserver_protocol_1.Trace.Off;\r\n    }\r\n    attach(connection) {\r\n        this._connection = connection;\r\n    }\r\n    get connection() {\r\n        if (!this._connection) {\r\n            throw new Error('Remote is not attached to a connection yet.');\r\n        }\r\n        return this._connection;\r\n    }\r\n    initialize(_capabilities) {\r\n    }\r\n    fillServerCapabilities(_capabilities) {\r\n    }\r\n    set trace(value) {\r\n        this._trace = value;\r\n    }\r\n    log(message, verbose) {\r\n        if (this._trace === vscode_languageserver_protocol_1.Trace.Off) {\r\n            return;\r\n        }\r\n        this.connection.sendNotification(vscode_languageserver_protocol_1.LogTraceNotification.type, {\r\n            message: message,\r\n            verbose: this._trace === vscode_languageserver_protocol_1.Trace.Verbose ? verbose : undefined\r\n        });\r\n    }\r\n}\r\nclass TelemetryImpl {\r\n    constructor() {\r\n    }\r\n    attach(connection) {\r\n        this._connection = connection;\r\n    }\r\n    get connection() {\r\n        if (!this._connection) {\r\n            throw new Error('Remote is not attached to a connection yet.');\r\n        }\r\n        return this._connection;\r\n    }\r\n    initialize(_capabilities) {\r\n    }\r\n    fillServerCapabilities(_capabilities) {\r\n    }\r\n    logEvent(data) {\r\n        this.connection.sendNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type, data);\r\n    }\r\n}\r\nclass _LanguagesImpl {\r\n    constructor() {\r\n    }\r\n    attach(connection) {\r\n        this._connection = connection;\r\n    }\r\n    get connection() {\r\n        if (!this._connection) {\r\n            throw new Error('Remote is not attached to a connection yet.');\r\n        }\r\n        return this._connection;\r\n    }\r\n    initialize(_capabilities) {\r\n    }\r\n    fillServerCapabilities(_capabilities) {\r\n    }\r\n    attachWorkDoneProgress(params) {\r\n        return progress_1.attachWorkDone(this.connection, params);\r\n    }\r\n    attachPartialResultProgress(_type, params) {\r\n        return progress_1.attachPartialResult(this.connection, params);\r\n    }\r\n}\r\nexports._LanguagesImpl = _LanguagesImpl;\r\nconst LanguagesImpl = moniker_1.MonikerFeature(linkedEditingRange_1.LinkedEditingRangeFeature(semanticTokens_1.SemanticTokensFeature(callHierarchy_1.CallHierarchyFeature(_LanguagesImpl))));\r\nfunction combineConsoleFeatures(one, two) {\r\n    return function (Base) {\r\n        return two(one(Base));\r\n    };\r\n}\r\nexports.combineConsoleFeatures = combineConsoleFeatures;\r\nfunction combineTelemetryFeatures(one, two) {\r\n    return function (Base) {\r\n        return two(one(Base));\r\n    };\r\n}\r\nexports.combineTelemetryFeatures = combineTelemetryFeatures;\r\nfunction combineTracerFeatures(one, two) {\r\n    return function (Base) {\r\n        return two(one(Base));\r\n    };\r\n}\r\nexports.combineTracerFeatures = combineTracerFeatures;\r\nfunction combineClientFeatures(one, two) {\r\n    return function (Base) {\r\n        return two(one(Base));\r\n    };\r\n}\r\nexports.combineClientFeatures = combineClientFeatures;\r\nfunction combineWindowFeatures(one, two) {\r\n    return function (Base) {\r\n        return two(one(Base));\r\n    };\r\n}\r\nexports.combineWindowFeatures = combineWindowFeatures;\r\nfunction combineWorkspaceFeatures(one, two) {\r\n    return function (Base) {\r\n        return two(one(Base));\r\n    };\r\n}\r\nexports.combineWorkspaceFeatures = combineWorkspaceFeatures;\r\nfunction combineLanguagesFeatures(one, two) {\r\n    return function (Base) {\r\n        return two(one(Base));\r\n    };\r\n}\r\nexports.combineLanguagesFeatures = combineLanguagesFeatures;\r\nfunction combineFeatures(one, two) {\r\n    function combine(one, two, func) {\r\n        if (one && two) {\r\n            return func(one, two);\r\n        }\r\n        else if (one) {\r\n            return one;\r\n        }\r\n        else {\r\n            return two;\r\n        }\r\n    }\r\n    let result = {\r\n        __brand: 'features',\r\n        console: combine(one.console, two.console, combineConsoleFeatures),\r\n        tracer: combine(one.tracer, two.tracer, combineTracerFeatures),\r\n        telemetry: combine(one.telemetry, two.telemetry, combineTelemetryFeatures),\r\n        client: combine(one.client, two.client, combineClientFeatures),\r\n        window: combine(one.window, two.window, combineWindowFeatures),\r\n        workspace: combine(one.workspace, two.workspace, combineWorkspaceFeatures)\r\n    };\r\n    return result;\r\n}\r\nexports.combineFeatures = combineFeatures;\r\nfunction createConnection(connectionFactory, watchDog, factories) {\r\n    const logger = (factories && factories.console ? new (factories.console(RemoteConsoleImpl))() : new RemoteConsoleImpl());\r\n    const connection = connectionFactory(logger);\r\n    logger.rawAttach(connection);\r\n    const tracer = (factories && factories.tracer ? new (factories.tracer(TracerImpl))() : new TracerImpl());\r\n    const telemetry = (factories && factories.telemetry ? new (factories.telemetry(TelemetryImpl))() : new TelemetryImpl());\r\n    const client = (factories && factories.client ? new (factories.client(RemoteClientImpl))() : new RemoteClientImpl());\r\n    const remoteWindow = (factories && factories.window ? new (factories.window(RemoteWindowImpl))() : new RemoteWindowImpl());\r\n    const workspace = (factories && factories.workspace ? new (factories.workspace(RemoteWorkspaceImpl))() : new RemoteWorkspaceImpl());\r\n    const languages = (factories && factories.languages ? new (factories.languages(LanguagesImpl))() : new LanguagesImpl());\r\n    const allRemotes = [logger, tracer, telemetry, client, remoteWindow, workspace, languages];\r\n    function asPromise(value) {\r\n        if (value instanceof Promise) {\r\n            return value;\r\n        }\r\n        else if (Is.thenable(value)) {\r\n            return new Promise((resolve, reject) => {\r\n                value.then((resolved) => resolve(resolved), (error) => reject(error));\r\n            });\r\n        }\r\n        else {\r\n            return Promise.resolve(value);\r\n        }\r\n    }\r\n    let shutdownHandler = undefined;\r\n    let initializeHandler = undefined;\r\n    let exitHandler = undefined;\r\n    let protocolConnection = {\r\n        listen: () => connection.listen(),\r\n        sendRequest: (type, ...params) => connection.sendRequest(Is.string(type) ? type : type.method, ...params),\r\n        onRequest: (type, handler) => connection.onRequest(type, handler),\r\n        sendNotification: (type, param) => {\r\n            const method = Is.string(type) ? type : type.method;\r\n            if (arguments.length === 1) {\r\n                connection.sendNotification(method);\r\n            }\r\n            else {\r\n                connection.sendNotification(method, param);\r\n            }\r\n        },\r\n        onNotification: (type, handler) => connection.onNotification(type, handler),\r\n        onProgress: connection.onProgress,\r\n        sendProgress: connection.sendProgress,\r\n        onInitialize: (handler) => initializeHandler = handler,\r\n        onInitialized: (handler) => connection.onNotification(vscode_languageserver_protocol_1.InitializedNotification.type, handler),\r\n        onShutdown: (handler) => shutdownHandler = handler,\r\n        onExit: (handler) => exitHandler = handler,\r\n        get console() { return logger; },\r\n        get telemetry() { return telemetry; },\r\n        get tracer() { return tracer; },\r\n        get client() { return client; },\r\n        get window() { return remoteWindow; },\r\n        get workspace() { return workspace; },\r\n        get languages() { return languages; },\r\n        onDidChangeConfiguration: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, handler),\r\n        onDidChangeWatchedFiles: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type, handler),\r\n        __textDocumentSync: undefined,\r\n        onDidOpenTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, handler),\r\n        onDidChangeTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, handler),\r\n        onDidCloseTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, handler),\r\n        onWillSaveTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type, handler),\r\n        onWillSaveTextDocumentWaitUntil: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type, handler),\r\n        onDidSaveTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, handler),\r\n        sendDiagnostics: (params) => connection.sendNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type, params),\r\n        onHover: (handler) => connection.onRequest(vscode_languageserver_protocol_1.HoverRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\r\n        }),\r\n        onCompletion: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CompletionRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onCompletionResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, handler),\r\n        onSignatureHelp: (handler) => connection.onRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\r\n        }),\r\n        onDeclaration: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onDefinition: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onTypeDefinition: (handler) => connection.onRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onImplementation: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onReferences: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onDocumentHighlight: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onDocumentSymbol: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onWorkspaceSymbol: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onCodeAction: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onCodeActionResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type, (params, cancel) => {\r\n            return handler(params, cancel);\r\n        }),\r\n        onCodeLens: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onCodeLensResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, (params, cancel) => {\r\n            return handler(params, cancel);\r\n        }),\r\n        onDocumentFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\r\n        }),\r\n        onDocumentRangeFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\r\n        }),\r\n        onDocumentOnTypeFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, (params, cancel) => {\r\n            return handler(params, cancel);\r\n        }),\r\n        onRenameRequest: (handler) => connection.onRequest(vscode_languageserver_protocol_1.RenameRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\r\n        }),\r\n        onPrepareRename: (handler) => connection.onRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, (params, cancel) => {\r\n            return handler(params, cancel);\r\n        }),\r\n        onDocumentLinks: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onDocumentLinkResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, (params, cancel) => {\r\n            return handler(params, cancel);\r\n        }),\r\n        onDocumentColor: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onColorPresentation: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onFoldingRanges: (handler) => connection.onRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onSelectionRanges: (handler) => connection.onRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onExecuteCommand: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\r\n        }),\r\n        dispose: () => connection.dispose()\r\n    };\r\n    for (let remote of allRemotes) {\r\n        remote.attach(protocolConnection);\r\n    }\r\n    connection.onRequest(vscode_languageserver_protocol_1.InitializeRequest.type, (params) => {\r\n        watchDog.initialize(params);\r\n        if (Is.string(params.trace)) {\r\n            tracer.trace = vscode_languageserver_protocol_1.Trace.fromString(params.trace);\r\n        }\r\n        for (let remote of allRemotes) {\r\n            remote.initialize(params.capabilities);\r\n        }\r\n        if (initializeHandler) {\r\n            let result = initializeHandler(params, new vscode_languageserver_protocol_1.CancellationTokenSource().token, progress_1.attachWorkDone(connection, params), undefined);\r\n            return asPromise(result).then((value) => {\r\n                if (value instanceof vscode_languageserver_protocol_1.ResponseError) {\r\n                    return value;\r\n                }\r\n                let result = value;\r\n                if (!result) {\r\n                    result = { capabilities: {} };\r\n                }\r\n                let capabilities = result.capabilities;\r\n                if (!capabilities) {\r\n                    capabilities = {};\r\n                    result.capabilities = capabilities;\r\n                }\r\n                if (capabilities.textDocumentSync === undefined || capabilities.textDocumentSync === null) {\r\n                    capabilities.textDocumentSync = Is.number(protocolConnection.__textDocumentSync) ? protocolConnection.__textDocumentSync : vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\r\n                }\r\n                else if (!Is.number(capabilities.textDocumentSync) && !Is.number(capabilities.textDocumentSync.change)) {\r\n                    capabilities.textDocumentSync.change = Is.number(protocolConnection.__textDocumentSync) ? protocolConnection.__textDocumentSync : vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\r\n                }\r\n                for (let remote of allRemotes) {\r\n                    remote.fillServerCapabilities(capabilities);\r\n                }\r\n                return result;\r\n            });\r\n        }\r\n        else {\r\n            let result = { capabilities: { textDocumentSync: vscode_languageserver_protocol_1.TextDocumentSyncKind.None } };\r\n            for (let remote of allRemotes) {\r\n                remote.fillServerCapabilities(result.capabilities);\r\n            }\r\n            return result;\r\n        }\r\n    });\r\n    connection.onRequest(vscode_languageserver_protocol_1.ShutdownRequest.type, () => {\r\n        watchDog.shutdownReceived = true;\r\n        if (shutdownHandler) {\r\n            return shutdownHandler(new vscode_languageserver_protocol_1.CancellationTokenSource().token);\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    });\r\n    connection.onNotification(vscode_languageserver_protocol_1.ExitNotification.type, () => {\r\n        try {\r\n            if (exitHandler) {\r\n                exitHandler();\r\n            }\r\n        }\r\n        finally {\r\n            if (watchDog.shutdownReceived) {\r\n                watchDog.exit(0);\r\n            }\r\n            else {\r\n                watchDog.exit(1);\r\n            }\r\n        }\r\n    });\r\n    connection.onNotification(vscode_languageserver_protocol_1.SetTraceNotification.type, (params) => {\r\n        tracer.trace = vscode_languageserver_protocol_1.Trace.fromString(params.value);\r\n    });\r\n    return protocolConnection;\r\n}\r\nexports.createConnection = createConnection;\r\n//# sourceMappingURL=server.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ShowDocumentFeature = void 0;\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst ShowDocumentFeature = (Base) => {\r\n    return class extends Base {\r\n        showDocument(params) {\r\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowDocumentRequest.type, params);\r\n        }\r\n    };\r\n};\r\nexports.ShowDocumentFeature = ShowDocumentFeature;\r\n//# sourceMappingURL=showDocument.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.thenable = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\r\nfunction boolean(value) {\r\n    return value === true || value === false;\r\n}\r\nexports.boolean = boolean;\r\nfunction string(value) {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\nexports.string = string;\r\nfunction number(value) {\r\n    return typeof value === 'number' || value instanceof Number;\r\n}\r\nexports.number = number;\r\nfunction error(value) {\r\n    return value instanceof Error;\r\n}\r\nexports.error = error;\r\nfunction func(value) {\r\n    return typeof value === 'function';\r\n}\r\nexports.func = func;\r\nfunction array(value) {\r\n    return Array.isArray(value);\r\n}\r\nexports.array = array;\r\nfunction stringArray(value) {\r\n    return array(value) && value.every(elem => string(elem));\r\n}\r\nexports.stringArray = stringArray;\r\nfunction typedArray(value, check) {\r\n    return Array.isArray(value) && value.every(check);\r\n}\r\nexports.typedArray = typedArray;\r\nfunction thenable(value) {\r\n    return value && func(value.then);\r\n}\r\nexports.thenable = thenable;\r\n//# sourceMappingURL=is.js.map","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.generateUuid = exports.parse = exports.isUUID = exports.v4 = exports.empty = void 0;\r\nclass ValueUUID {\r\n    constructor(_value) {\r\n        this._value = _value;\r\n        // empty\r\n    }\r\n    asHex() {\r\n        return this._value;\r\n    }\r\n    equals(other) {\r\n        return this.asHex() === other.asHex();\r\n    }\r\n}\r\nclass V4UUID extends ValueUUID {\r\n    constructor() {\r\n        super([\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            '-',\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            '-',\r\n            '4',\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            '-',\r\n            V4UUID._oneOf(V4UUID._timeHighBits),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            '-',\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n        ].join(''));\r\n    }\r\n    static _oneOf(array) {\r\n        return array[Math.floor(array.length * Math.random())];\r\n    }\r\n    static _randomHex() {\r\n        return V4UUID._oneOf(V4UUID._chars);\r\n    }\r\n}\r\nV4UUID._chars = ['0', '1', '2', '3', '4', '5', '6', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\r\nV4UUID._timeHighBits = ['8', '9', 'a', 'b'];\r\n/**\r\n * An empty UUID that contains only zeros.\r\n */\r\nexports.empty = new ValueUUID('00000000-0000-0000-0000-000000000000');\r\nfunction v4() {\r\n    return new V4UUID();\r\n}\r\nexports.v4 = v4;\r\nconst _UUIDPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\r\nfunction isUUID(value) {\r\n    return _UUIDPattern.test(value);\r\n}\r\nexports.isUUID = isUUID;\r\n/**\r\n * Parses a UUID that is of the format xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.\r\n * @param value A uuid string.\r\n */\r\nfunction parse(value) {\r\n    if (!isUUID(value)) {\r\n        throw new Error('invalid uuid');\r\n    }\r\n    return new ValueUUID(value);\r\n}\r\nexports.parse = parse;\r\nfunction generateUuid() {\r\n    return v4().asHex();\r\n}\r\nexports.generateUuid = generateUuid;\r\n//# sourceMappingURL=uuid.js.map","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WorkspaceFoldersFeature = void 0;\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst WorkspaceFoldersFeature = (Base) => {\r\n    return class extends Base {\r\n        initialize(capabilities) {\r\n            let workspaceCapabilities = capabilities.workspace;\r\n            if (workspaceCapabilities && workspaceCapabilities.workspaceFolders) {\r\n                this._onDidChangeWorkspaceFolders = new vscode_languageserver_protocol_1.Emitter();\r\n                this.connection.onNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type, (params) => {\r\n                    this._onDidChangeWorkspaceFolders.fire(params.event);\r\n                });\r\n            }\r\n        }\r\n        getWorkspaceFolders() {\r\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type);\r\n        }\r\n        get onDidChangeWorkspaceFolders() {\r\n            if (!this._onDidChangeWorkspaceFolders) {\r\n                throw new Error('Client doesn\\'t support sending workspace folder change events.');\r\n            }\r\n            if (!this._unregistration) {\r\n                this._unregistration = this.connection.client.register(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type);\r\n            }\r\n            return this._onDidChangeWorkspaceFolders.event;\r\n        }\r\n    };\r\n};\r\nexports.WorkspaceFoldersFeature = WorkspaceFoldersFeature;\r\n//# sourceMappingURL=workspaceFolders.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.resolveModulePath = exports.FileSystem = exports.resolveGlobalYarnPath = exports.resolveGlobalNodePath = exports.resolve = exports.uriToFilePath = void 0;\r\nconst url = require(\"url\");\r\nconst path = require(\"path\");\r\nconst fs = require(\"fs\");\r\nconst child_process_1 = require(\"child_process\");\r\n/**\r\n * @deprecated Use the `vscode-uri` npm module which provides a more\r\n * complete implementation of handling VS Code URIs.\r\n */\r\nfunction uriToFilePath(uri) {\r\n    let parsed = url.parse(uri);\r\n    if (parsed.protocol !== 'file:' || !parsed.path) {\r\n        return undefined;\r\n    }\r\n    let segments = parsed.path.split('/');\r\n    for (var i = 0, len = segments.length; i < len; i++) {\r\n        segments[i] = decodeURIComponent(segments[i]);\r\n    }\r\n    if (process.platform === 'win32' && segments.length > 1) {\r\n        let first = segments[0];\r\n        let second = segments[1];\r\n        // Do we have a drive letter and we started with a / which is the\r\n        // case if the first segement is empty (see split above)\r\n        if (first.length === 0 && second.length > 1 && second[1] === ':') {\r\n            // Remove first slash\r\n            segments.shift();\r\n        }\r\n    }\r\n    return path.normalize(segments.join('/'));\r\n}\r\nexports.uriToFilePath = uriToFilePath;\r\nfunction isWindows() {\r\n    return process.platform === 'win32';\r\n}\r\nfunction resolve(moduleName, nodePath, cwd, tracer) {\r\n    const nodePathKey = 'NODE_PATH';\r\n    const app = [\r\n        'var p = process;',\r\n        'p.on(\\'message\\',function(m){',\r\n        'if(m.c===\\'e\\'){',\r\n        'p.exit(0);',\r\n        '}',\r\n        'else if(m.c===\\'rs\\'){',\r\n        'try{',\r\n        'var r=require.resolve(m.a);',\r\n        'p.send({c:\\'r\\',s:true,r:r});',\r\n        '}',\r\n        'catch(err){',\r\n        'p.send({c:\\'r\\',s:false});',\r\n        '}',\r\n        '}',\r\n        '});'\r\n    ].join('');\r\n    return new Promise((resolve, reject) => {\r\n        let env = process.env;\r\n        let newEnv = Object.create(null);\r\n        Object.keys(env).forEach(key => newEnv[key] = env[key]);\r\n        if (nodePath && fs.existsSync(nodePath) /* see issue 545 */) {\r\n            if (newEnv[nodePathKey]) {\r\n                newEnv[nodePathKey] = nodePath + path.delimiter + newEnv[nodePathKey];\r\n            }\r\n            else {\r\n                newEnv[nodePathKey] = nodePath;\r\n            }\r\n            if (tracer) {\r\n                tracer(`NODE_PATH value is: ${newEnv[nodePathKey]}`);\r\n            }\r\n        }\r\n        newEnv['ELECTRON_RUN_AS_NODE'] = '1';\r\n        try {\r\n            let cp = child_process_1.fork('', [], {\r\n                cwd: cwd,\r\n                env: newEnv,\r\n                execArgv: ['-e', app]\r\n            });\r\n            if (cp.pid === void 0) {\r\n                reject(new Error(`Starting process to resolve node module  ${moduleName} failed`));\r\n                return;\r\n            }\r\n            cp.on('error', (error) => {\r\n                reject(error);\r\n            });\r\n            cp.on('message', (message) => {\r\n                if (message.c === 'r') {\r\n                    cp.send({ c: 'e' });\r\n                    if (message.s) {\r\n                        resolve(message.r);\r\n                    }\r\n                    else {\r\n                        reject(new Error(`Failed to resolve module: ${moduleName}`));\r\n                    }\r\n                }\r\n            });\r\n            let message = {\r\n                c: 'rs',\r\n                a: moduleName\r\n            };\r\n            cp.send(message);\r\n        }\r\n        catch (error) {\r\n            reject(error);\r\n        }\r\n    });\r\n}\r\nexports.resolve = resolve;\r\n/**\r\n * Resolve the global npm package path.\r\n * @deprecated Since this depends on the used package manager and their version the best is that servers\r\n * implement this themselves since they know best what kind of package managers to support.\r\n * @param tracer the tracer to use\r\n */\r\nfunction resolveGlobalNodePath(tracer) {\r\n    let npmCommand = 'npm';\r\n    const env = Object.create(null);\r\n    Object.keys(process.env).forEach(key => env[key] = process.env[key]);\r\n    env['NO_UPDATE_NOTIFIER'] = 'true';\r\n    const options = {\r\n        encoding: 'utf8',\r\n        env\r\n    };\r\n    if (isWindows()) {\r\n        npmCommand = 'npm.cmd';\r\n        options.shell = true;\r\n    }\r\n    let handler = () => { };\r\n    try {\r\n        process.on('SIGPIPE', handler);\r\n        let stdout = child_process_1.spawnSync(npmCommand, ['config', 'get', 'prefix'], options).stdout;\r\n        if (!stdout) {\r\n            if (tracer) {\r\n                tracer(`'npm config get prefix' didn't return a value.`);\r\n            }\r\n            return undefined;\r\n        }\r\n        let prefix = stdout.trim();\r\n        if (tracer) {\r\n            tracer(`'npm config get prefix' value is: ${prefix}`);\r\n        }\r\n        if (prefix.length > 0) {\r\n            if (isWindows()) {\r\n                return path.join(prefix, 'node_modules');\r\n            }\r\n            else {\r\n                return path.join(prefix, 'lib', 'node_modules');\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n    catch (err) {\r\n        return undefined;\r\n    }\r\n    finally {\r\n        process.removeListener('SIGPIPE', handler);\r\n    }\r\n}\r\nexports.resolveGlobalNodePath = resolveGlobalNodePath;\r\n/*\r\n * Resolve the global yarn pakage path.\r\n * @deprecated Since this depends on the used package manager and their version the best is that servers\r\n * implement this themselves since they know best what kind of package managers to support.\r\n * @param tracer the tracer to use\r\n */\r\nfunction resolveGlobalYarnPath(tracer) {\r\n    let yarnCommand = 'yarn';\r\n    let options = {\r\n        encoding: 'utf8'\r\n    };\r\n    if (isWindows()) {\r\n        yarnCommand = 'yarn.cmd';\r\n        options.shell = true;\r\n    }\r\n    let handler = () => { };\r\n    try {\r\n        process.on('SIGPIPE', handler);\r\n        let results = child_process_1.spawnSync(yarnCommand, ['global', 'dir', '--json'], options);\r\n        let stdout = results.stdout;\r\n        if (!stdout) {\r\n            if (tracer) {\r\n                tracer(`'yarn global dir' didn't return a value.`);\r\n                if (results.stderr) {\r\n                    tracer(results.stderr);\r\n                }\r\n            }\r\n            return undefined;\r\n        }\r\n        let lines = stdout.trim().split(/\\r?\\n/);\r\n        for (let line of lines) {\r\n            try {\r\n                let yarn = JSON.parse(line);\r\n                if (yarn.type === 'log') {\r\n                    return path.join(yarn.data, 'node_modules');\r\n                }\r\n            }\r\n            catch (e) {\r\n                // Do nothing. Ignore the line\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n    catch (err) {\r\n        return undefined;\r\n    }\r\n    finally {\r\n        process.removeListener('SIGPIPE', handler);\r\n    }\r\n}\r\nexports.resolveGlobalYarnPath = resolveGlobalYarnPath;\r\nvar FileSystem;\r\n(function (FileSystem) {\r\n    let _isCaseSensitive = undefined;\r\n    function isCaseSensitive() {\r\n        if (_isCaseSensitive !== void 0) {\r\n            return _isCaseSensitive;\r\n        }\r\n        if (process.platform === 'win32') {\r\n            _isCaseSensitive = false;\r\n        }\r\n        else {\r\n            // convert current file name to upper case / lower case and check if file exists\r\n            // (guards against cases when name is already all uppercase or lowercase)\r\n            _isCaseSensitive = !fs.existsSync(__filename.toUpperCase()) || !fs.existsSync(__filename.toLowerCase());\r\n        }\r\n        return _isCaseSensitive;\r\n    }\r\n    FileSystem.isCaseSensitive = isCaseSensitive;\r\n    function isParent(parent, child) {\r\n        if (isCaseSensitive()) {\r\n            return path.normalize(child).indexOf(path.normalize(parent)) === 0;\r\n        }\r\n        else {\r\n            return path.normalize(child).toLowerCase().indexOf(path.normalize(parent).toLowerCase()) === 0;\r\n        }\r\n    }\r\n    FileSystem.isParent = isParent;\r\n})(FileSystem = exports.FileSystem || (exports.FileSystem = {}));\r\nfunction resolveModulePath(workspaceRoot, moduleName, nodePath, tracer) {\r\n    if (nodePath) {\r\n        if (!path.isAbsolute(nodePath)) {\r\n            nodePath = path.join(workspaceRoot, nodePath);\r\n        }\r\n        return resolve(moduleName, nodePath, nodePath, tracer).then((value) => {\r\n            if (FileSystem.isParent(nodePath, value)) {\r\n                return value;\r\n            }\r\n            else {\r\n                return Promise.reject(new Error(`Failed to load ${moduleName} from node path location.`));\r\n            }\r\n        }).then(undefined, (_error) => {\r\n            return resolve(moduleName, resolveGlobalNodePath(tracer), workspaceRoot, tracer);\r\n        });\r\n    }\r\n    else {\r\n        return resolve(moduleName, resolveGlobalNodePath(tracer), workspaceRoot, tracer);\r\n    }\r\n}\r\nexports.resolveModulePath = resolveModulePath;\r\n//# sourceMappingURL=files.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n/// <reference path=\"../../typings/thenable.d.ts\" />\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.createConnection = exports.Files = void 0;\r\nconst Is = require(\"../common/utils/is\");\r\nconst server_1 = require(\"../common/server\");\r\nconst fm = require(\"./files\");\r\nconst node_1 = require(\"vscode-languageserver-protocol/node\");\r\n__exportStar(require(\"vscode-languageserver-protocol/node\"), exports);\r\n__exportStar(require(\"../common/api\"), exports);\r\nvar Files;\r\n(function (Files) {\r\n    Files.uriToFilePath = fm.uriToFilePath;\r\n    Files.resolveGlobalNodePath = fm.resolveGlobalNodePath;\r\n    Files.resolveGlobalYarnPath = fm.resolveGlobalYarnPath;\r\n    Files.resolve = fm.resolve;\r\n    Files.resolveModulePath = fm.resolveModulePath;\r\n})(Files = exports.Files || (exports.Files = {}));\r\nlet _protocolConnection;\r\nfunction endProtocolConnection() {\r\n    if (_protocolConnection === undefined) {\r\n        return;\r\n    }\r\n    try {\r\n        _protocolConnection.end();\r\n    }\r\n    catch (_err) {\r\n        // Ignore. The client process could have already\r\n        // did and we can't send an end into the connection.\r\n    }\r\n}\r\nlet _shutdownReceived = false;\r\nlet exitTimer = undefined;\r\nfunction setupExitTimer() {\r\n    const argName = '--clientProcessId';\r\n    function runTimer(value) {\r\n        try {\r\n            let processId = parseInt(value);\r\n            if (!isNaN(processId)) {\r\n                exitTimer = setInterval(() => {\r\n                    try {\r\n                        process.kill(processId, 0);\r\n                    }\r\n                    catch (ex) {\r\n                        // Parent process doesn't exist anymore. Exit the server.\r\n                        endProtocolConnection();\r\n                        process.exit(_shutdownReceived ? 0 : 1);\r\n                    }\r\n                }, 3000);\r\n            }\r\n        }\r\n        catch (e) {\r\n            // Ignore errors;\r\n        }\r\n    }\r\n    for (let i = 2; i < process.argv.length; i++) {\r\n        let arg = process.argv[i];\r\n        if (arg === argName && i + 1 < process.argv.length) {\r\n            runTimer(process.argv[i + 1]);\r\n            return;\r\n        }\r\n        else {\r\n            let args = arg.split('=');\r\n            if (args[0] === argName) {\r\n                runTimer(args[1]);\r\n            }\r\n        }\r\n    }\r\n}\r\nsetupExitTimer();\r\nconst watchDog = {\r\n    initialize: (params) => {\r\n        const processId = params.processId;\r\n        if (Is.number(processId) && exitTimer === undefined) {\r\n            // We received a parent process id. Set up a timer to periodically check\r\n            // if the parent is still alive.\r\n            setInterval(() => {\r\n                try {\r\n                    process.kill(processId, 0);\r\n                }\r\n                catch (ex) {\r\n                    // Parent process doesn't exist anymore. Exit the server.\r\n                    process.exit(_shutdownReceived ? 0 : 1);\r\n                }\r\n            }, 3000);\r\n        }\r\n    },\r\n    get shutdownReceived() {\r\n        return _shutdownReceived;\r\n    },\r\n    set shutdownReceived(value) {\r\n        _shutdownReceived = value;\r\n    },\r\n    exit: (code) => {\r\n        endProtocolConnection();\r\n        process.exit(code);\r\n    }\r\n};\r\nfunction createConnection(arg1, arg2, arg3, arg4) {\r\n    let factories;\r\n    let input;\r\n    let output;\r\n    let options;\r\n    if (arg1 !== void 0 && arg1.__brand === 'features') {\r\n        factories = arg1;\r\n        arg1 = arg2;\r\n        arg2 = arg3;\r\n        arg3 = arg4;\r\n    }\r\n    if (node_1.ConnectionStrategy.is(arg1) || node_1.ConnectionOptions.is(arg1)) {\r\n        options = arg1;\r\n    }\r\n    else {\r\n        input = arg1;\r\n        output = arg2;\r\n        options = arg3;\r\n    }\r\n    return _createConnection(input, output, options, factories);\r\n}\r\nexports.createConnection = createConnection;\r\nfunction _createConnection(input, output, options, factories) {\r\n    if (!input && !output && process.argv.length > 2) {\r\n        let port = void 0;\r\n        let pipeName = void 0;\r\n        let argv = process.argv.slice(2);\r\n        for (let i = 0; i < argv.length; i++) {\r\n            let arg = argv[i];\r\n            if (arg === '--node-ipc') {\r\n                input = new node_1.IPCMessageReader(process);\r\n                output = new node_1.IPCMessageWriter(process);\r\n                break;\r\n            }\r\n            else if (arg === '--stdio') {\r\n                input = process.stdin;\r\n                output = process.stdout;\r\n                break;\r\n            }\r\n            else if (arg === '--socket') {\r\n                port = parseInt(argv[i + 1]);\r\n                break;\r\n            }\r\n            else if (arg === '--pipe') {\r\n                pipeName = argv[i + 1];\r\n                break;\r\n            }\r\n            else {\r\n                var args = arg.split('=');\r\n                if (args[0] === '--socket') {\r\n                    port = parseInt(args[1]);\r\n                    break;\r\n                }\r\n                else if (args[0] === '--pipe') {\r\n                    pipeName = args[1];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (port) {\r\n            let transport = node_1.createServerSocketTransport(port);\r\n            input = transport[0];\r\n            output = transport[1];\r\n        }\r\n        else if (pipeName) {\r\n            let transport = node_1.createServerPipeTransport(pipeName);\r\n            input = transport[0];\r\n            output = transport[1];\r\n        }\r\n    }\r\n    var commandLineMessage = 'Use arguments of createConnection or set command line parameters: \\'--node-ipc\\', \\'--stdio\\' or \\'--socket={number}\\'';\r\n    if (!input) {\r\n        throw new Error('Connection input stream is not set. ' + commandLineMessage);\r\n    }\r\n    if (!output) {\r\n        throw new Error('Connection output stream is not set. ' + commandLineMessage);\r\n    }\r\n    // Backwards compatibility\r\n    if (Is.func(input.read) && Is.func(input.on)) {\r\n        let inputStream = input;\r\n        inputStream.on('end', () => {\r\n            endProtocolConnection();\r\n            process.exit(_shutdownReceived ? 0 : 1);\r\n        });\r\n        inputStream.on('close', () => {\r\n            endProtocolConnection();\r\n            process.exit(_shutdownReceived ? 0 : 1);\r\n        });\r\n    }\r\n    const connectionFactory = (logger) => {\r\n        const result = node_1.createProtocolConnection(input, output, logger, options);\r\n        return result;\r\n    };\r\n    return server_1.createConnection(connectionFactory, watchDog, factories);\r\n}\r\n//# sourceMappingURL=main.js.map","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ----------------------------------------------------------------------------------------- */\r\n'use strict';\r\n\r\nmodule.exports = require('./lib/node/main');","module.exports = require(\"child_process\");","module.exports = require(\"crypto\");","module.exports = require(\"fs\");","module.exports = require(\"net\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"url\");","module.exports = require(\"util\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nimport {\r\n\tcreateConnection,\r\n\tTextDocuments,\r\n\tDiagnostic,\r\n\tDiagnosticSeverity,\r\n\tProposedFeatures,\r\n\tInitializeParams,\r\n\tDidChangeConfigurationNotification,\r\n\tCompletionItem,\r\n\tCompletionItemKind,\r\n\tTextDocumentPositionParams,\r\n\tTextDocumentSyncKind,\r\n\tInitializeResult\r\n} from 'vscode-languageserver/node';\r\n\r\nimport {\r\n\tTextDocument\r\n} from 'vscode-languageserver-textdocument';\r\n\r\n// Create a connection for the server, using Node's IPC as a transport.\r\n// Also include all preview / proposed LSP features.\r\nconst connection = createConnection(ProposedFeatures.all);\r\n\r\n// Create a simple text document manager.\r\nconst documents: TextDocuments<TextDocument> = new TextDocuments(TextDocument);\r\n\r\nconst snippets = require(\"../../snippets/snippets.json\");\r\n\r\nlet hasConfigurationCapability = false;\r\nlet hasWorkspaceFolderCapability = false;\r\nlet hasDiagnosticRelatedInformationCapability = false;\r\n\r\nconnection.onInitialize((params: InitializeParams) => {\r\n\tconst capabilities = params.capabilities;\r\n\r\n\tconst result: InitializeResult = {\r\n\t\tcapabilities: {\r\n\t\t\ttextDocumentSync: TextDocumentSyncKind.Incremental,\r\n\t\t\t// Tell the client that this server supports code completion.\r\n\t\t\tcompletionProvider: {\r\n\t\t\t\tresolveProvider: true\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tif (hasWorkspaceFolderCapability) {\r\n\t\tresult.capabilities.workspace = {\r\n\t\t\tworkspaceFolders: {\r\n\t\t\t\tsupported: true\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\treturn result;\r\n});\r\n\r\nconnection.onInitialized(() => {\r\n\tif (hasConfigurationCapability) {\r\n\t\t// Register for all configuration changes.\r\n\t\tconnection.client.register(DidChangeConfigurationNotification.type, undefined);\r\n\t}\r\n\tif (hasWorkspaceFolderCapability) {\r\n\t\tconnection.workspace.onDidChangeWorkspaceFolders(_event => {\r\n\t\t\tconnection.console.log('Workspace folder change event received.');\r\n\t\t});\r\n\t}\r\n});\r\n\r\n// The example settings\r\ninterface ExampleSettings {\r\n\tmaxNumberOfProblems: number;\r\n}\r\n\r\n// The global settings, used when the `workspace/configuration` request is not supported by the client.\r\n// Please note that this is not the case when using this server with the client provided in this example\r\n// but could happen with other clients.\r\nconst defaultSettings: ExampleSettings = { maxNumberOfProblems: 1000 };\r\nlet globalSettings: ExampleSettings = defaultSettings;\r\n\r\n// Cache the settings of all open documents\r\nconst documentSettings: Map<string, Thenable<ExampleSettings>> = new Map();\r\n\r\nconnection.onDidChangeConfiguration(change => {\r\n\tif (hasConfigurationCapability) {\r\n\t\t// Reset all cached document settings\r\n\t\tdocumentSettings.clear();\r\n\t} else {\r\n\t\tglobalSettings = <ExampleSettings>(\r\n\t\t\t(change.settings.languageServerExample || defaultSettings)\r\n\t\t);\r\n\t}\r\n\r\n\t// Revalidate all open text documents\r\n\tdocuments.all().forEach(validateTextDocument);\r\n});\r\n\r\nfunction getDocumentSettings(resource: string): Thenable<ExampleSettings> {\r\n\tif (!hasConfigurationCapability) {\r\n\t\treturn Promise.resolve(globalSettings);\r\n\t}\r\n\tlet result = documentSettings.get(resource);\r\n\tif (!result) {\r\n\t\tresult = connection.workspace.getConfiguration({\r\n\t\t\tscopeUri: resource,\r\n\t\t\tsection: 'languageServerExample'\r\n\t\t});\r\n\t\tdocumentSettings.set(resource, result);\r\n\t}\r\n\treturn result;\r\n}\r\n\r\n// Only keep settings for open documents\r\ndocuments.onDidClose(e => {\r\n\tdocumentSettings.delete(e.document.uri);\r\n});\r\n\r\n// The content of a text document has changed. This event is emitted\r\n// when the text document first opened or when its content has changed.\r\ndocuments.onDidChangeContent(change => {\r\n\tvalidateTextDocument(change.document);\r\n});\r\n\r\nasync function validateTextDocument(textDocument: TextDocument): Promise<void> {\r\n\t/*\r\n\t// In this simple example we get the settings for every validate run.\r\n\t//const settings = await getDocumentSettings(textDocument.uri);\r\n\r\n\t// The validator creates diagnostics for all uppercase words length 2 and more\r\n\tconst text = textDocument.getText();\r\n\tconst pattern = /\\b[A-Z]{2,}\\b/g;\r\n\tlet m: RegExpExecArray | null;\r\n\r\n\tlet problems = 0;\r\n\tconst diagnostics: Diagnostic[] = [];\r\n\twhile ((m = pattern.exec(text)) && problems < settings.maxNumberOfProblems) {\r\n\t\tproblems++;\r\n\t\tconst diagnostic: Diagnostic = {\r\n\t\t\tseverity: DiagnosticSeverity.Warning,\r\n\t\t\trange: {\r\n\t\t\t\tstart: textDocument.positionAt(m.index),\r\n\t\t\t\tend: textDocument.positionAt(m.index + m[0].length)\r\n\t\t\t},\r\n\t\t\tmessage: `${m[0]} is all uppercase.`,\r\n\t\t\tsource: 'ex'\r\n\t\t};\r\n\t\tif (hasDiagnosticRelatedInformationCapability) {\r\n\t\t\tdiagnostic.relatedInformation = [\r\n\t\t\t\t{\r\n\t\t\t\t\tlocation: {\r\n\t\t\t\t\t\turi: textDocument.uri,\r\n\t\t\t\t\t\trange: Object.assign({}, diagnostic.range)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmessage: 'Spelling matters'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlocation: {\r\n\t\t\t\t\t\turi: textDocument.uri,\r\n\t\t\t\t\t\trange: Object.assign({}, diagnostic.range)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmessage: 'Particularly for names'\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t}\r\n\t\tdiagnostics.push(diagnostic);\r\n\t}\r\n\r\n\t// Send the computed diagnostics to VSCode.\r\n\tconnection.sendDiagnostics({ uri: textDocument.uri, diagnostics });*/\r\n}\r\n\r\nconnection.onDidChangeWatchedFiles(_change => {\r\n\t// Monitored files have change in VSCode\r\n\tconnection.console.log('We received an file change event');\r\n});\r\n\r\n// This handler provides the initial list of the completion items.\r\nconnection.onCompletion(\r\n\t(_textDocumentPosition: TextDocumentPositionParams): CompletionItem[] => {\r\n\t\t// The pass parameter contains the position of the text document in\r\n\t\t// which code complete got requested. For the example we ignore this\r\n\t\t// info and always provide the same completion items.\r\n\t\tvar items: Array<CompletionItem> = [];\r\n\r\n\t\tObject.keys(snippets).forEach(function(key) {\r\n\t\t\t\tconst snippet: { prefix: any; } = snippets[key];\r\n\t\t\t\titems.push({\r\n\t\t\t\t\tlabel: snippet.prefix,\r\n\t\t\t\t\tkind: CompletionItemKind.Method,\r\n\t\t\t\t\tdata: snippet.prefix\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\treturn items;\r\n\t}\r\n);\r\n\r\n// This handler resolves additional information for the item selected in\r\n// the completion list.\r\nconnection.onCompletionResolve(\r\n\t(item: CompletionItem): CompletionItem => {\r\n\r\n\t\tconst snippet = snippets[item.data];\r\n\r\n\t\tif (snippet.description.length) {\r\n\t\t\titem.detail = snippet.body;\r\n\t\t\titem.documentation = snippet.description;\r\n\t\t}\r\n\r\n\t\treturn item;\r\n\t}\r\n);\r\n\r\n// Make the text document manager listen on the connection\r\n// for open, change and close text document events\r\ndocuments.listen(connection);\r\n\r\n// Listen on the connection\r\nconnection.listen();\r\n"],"names":["Object","defineProperty","exports","value","CancellationSenderStrategy","CancellationReceiverStrategy","ConnectionError","ConnectionErrors","LogTraceNotification","SetTraceNotification","TraceFormat","Trace","ProgressType","createMessageConnection","NullLogger","ConnectionOptions","ConnectionStrategy","WriteableStreamMessageWriter","AbstractMessageWriter","MessageWriter","ReadableStreamMessageReader","AbstractMessageReader","MessageReader","CancellationToken","CancellationTokenSource","Emitter","Event","Disposable","ParameterStructures","NotificationType9","NotificationType8","NotificationType7","NotificationType6","NotificationType5","NotificationType4","NotificationType3","NotificationType2","NotificationType1","NotificationType0","NotificationType","ErrorCodes","ResponseError","RequestType9","RequestType8","RequestType7","RequestType6","RequestType5","RequestType4","RequestType3","RequestType2","RequestType1","RequestType0","RequestType","RAL","CancellationStrategy","messages_1","enumerable","get","disposable_1","events_1","cancellation_1","messageReader_1","messageWriter_1","connection_1","ral_1","default","Is","None","freeze","isCancellationRequested","onCancellationRequested","Cancelled","is","candidate","boolean","shortcutEvent","callback","context","handle","timer","setTimeout","bind","dispose","clearTimeout","MutableToken","constructor","this","_isCancelled","cancel","_emitter","fire","undefined","event","token","_token","linkedMap_1","CancelNotification","ProgressNotification","StarRequestHandler","ConnectionState","type","func","error","warn","info","log","fromString","string","Off","toLowerCase","Messages","Verbose","toString","JSON","Text","Error","code","message","super","setPrototypeOf","prototype","cancelUndispatched","Message","createCancellationTokenSource","_","sendCancellation","conn","id","sendNotification","cleanup","receiver","sender","cancellationStrategy","connectionStrategy","messageReader","messageWriter","_logger","options","logger","sequenceNumber","notificationSquenceNumber","unknownResponseSquenceNumber","version","starRequestHandler","requestHandlers","create","starNotificationHandler","notificationHandlers","progressHandlers","Map","tracer","messageQueue","LinkedMap","responsePromises","requestTokens","trace","traceFormat","state","New","errorEmitter","closeEmitter","unhandledNotificationEmitter","unhandledProgressEmitter","disposeEmitter","createRequestQueueKey","_message","isListening","Listening","isClosed","Closed","isDisposed","Disposed","closeHandler","triggerMessageQueue","size","setImmediate","shift","isRequestMessage","requestMessage","reply","resultOrError","method","startTime","jsonrpc","toJson","result","traceSendingResponse","write","replyError","data","params","stringify","logLSPMessage","traceReceivedRequest","element","requestHandler","handler","Date","now","tokenKey","String","cancellationSource","handlerResult","numberOfParams","InvalidParams","Array","isArray","parameterStructures","byName","byPosition","promise","then","InternalError","replySuccess","MethodNotFound","handleRequest","isNotificationMessage","notificationHandler","source","traceReceivedNotification","length","handleNotification","isResponseMessage","responseMessage","key","responsePromise","timerStart","traceReceivedResponse","reject","resolve","handleResponse","number","responseHandler","handleInvalidMessage","processMessageQueue","onClose","onError","toCancel","strategy","response","delete","queue","set","addMessageToQueue","lspMessage","isLSPMessage","timestamp","throwIfClosedOrDisposed","undefinedToNull","param","nullToUndefined","isNamedParam","computeSingleParam","auto","computeMessageParams","i","push","connection","args","messageParams","first","paramStart","paramEnd","slice","map","notificationMessage","traceSendingNotification","onNotification","onProgress","_type","has","sendProgress","onUnhandledProgress","sendRequest","throwIfNotListening","last","disposable","Promise","r","traceSendingRequest","e","MessageWriteError","onRequest","_value","_tracer","sendNotificationOrTraceOptions","_sendNotification","_traceFormat","onUnhandledNotification","onDispose","end","keys","forEach","listen","AlreadyListening","throwIfListening","inspect","console","verbose","_disposable","CallbackList","add","bucket","_callbacks","_contexts","remove","foundCallbackWithDifferentContext","len","splice","invoke","ret","callbacks","contexts","apply","isEmpty","_options","_event","listener","thisArgs","disposables","onFirstListenerAdd","_noop","onLastListenerRemove","call","array","stringArray","Number","every","elem","Touch","LRUCache","First","AsOld","Last","AsNew","Symbol","toStringTag","_map","_head","_tail","_size","_state","clear","_a","touch","item","next","previous","addItemLast","addItemFirst","removeItem","callbackfn","thisArg","current","iterator","done","values","entries","trimOld","newSize","currentSize","toJSON","fromJSON","limit","ratio","_limit","_ratio","Math","min","max","checkTrim","peek","round","AbstractMessageBuffer","encoding","_encoding","_chunks","_totalLength","append","chunk","toAppend","byteLength","tryReadHeaders","chunkIndex","offset","chunkBytesRead","row","buffer","_read","headers","split","header","index","indexOf","substr","trim","tryReadBody","numberOfBytes","byteCount","emptyBuffer","asNative","allocNative","resultOffset","chunkPart","ResolvedMessageReaderOptions","onPartialMessage","partialMessageEmitter","fireError","asError","fireClose","firePartialMessage","fromOptions","charset","contentDecoder","contentDecoders","contentTypeDecoder","contentTypeDecoders","name","decoder","applicationJson","readable","messageBuffer","_partialMessageTimeout","nextMessageLength","messageToken","partialMessageTimeout","timeout","partialMessageTimer","onData","contentLength","parseInt","isNaN","body","setPartialMessageTimer","p","clearPartialMessageTimer","decode","msg","waitingTime","semaphore_1","ResolvedMessageWriterOptions","count","_b","contentTypeEncoder","encoder","contentEncoder","writable","errorCount","writeSemaphore","Semaphore","async","lock","encode","doWrite","join","handleError","AbstractMessageSignature","ParseError","InvalidRequest","jsonrpcReservedErrorRangeStart","serverErrorStart","MessageReadError","ServerNotInitialized","UnknownErrorCode","jsonrpcReservedErrorRangeEnd","serverErrorEnd","kind","static","_parameterStructures","_ral","install","ral","capacity","_capacity","_active","_waiting","thunk","runNext","active","doRunNext","err","__createBinding","o","m","k","k2","__exportStar","hasOwnProperty","createServerSocketTransport","createClientSocketTransport","createServerPipeTransport","createClientPipeTransport","generateRandomPipeName","StreamMessageWriter","StreamMessageReader","SocketMessageWriter","SocketMessageReader","IPCMessageWriter","IPCMessageReader","ril_1","api_1","path","os","crypto_1","net_1","process","eventEmitter","on","off","send","socket","stream","asReadableStream","asWritableStream","destroy","readble","XDG_RUNTIME_DIR","env","safeIpcPathLengths","randomSuffix","randomBytes","platform","tmpdir","pipeName","connectResolve","connected","_reject","server","createServer","close","removeListener","onConnected","createConnection","port","input","output","reader","read","addListener","isReadableStream","writer","isWritableStream","util_1","messageBuffer_1","MessageBuffer","Buffer","from","TextDecoder","allocUnsafe","ReadableStreamWrapper","onEnd","WritableStreamWrapper","_ril","parse","ms","clearImmediate","RIL","module","LSPErrorCodes","createProtocolConnection","lspReservedErrorRangeStart","ContentModified","RequestCancelled","lspReservedErrorRangeEnd","vscode_jsonrpc_1","ProtocolNotificationType","ProtocolNotificationType0","ProtocolRequestType","ProtocolRequestType0","RegistrationType","CallHierarchyOutgoingCallsRequest","CallHierarchyIncomingCallsRequest","CallHierarchyPrepareRequest","ColorPresentationRequest","DocumentColorRequest","ConfigurationRequest","DeclarationRequest","WillDeleteFilesRequest","DidDeleteFilesNotification","DidRenameFilesNotification","WillRenameFilesRequest","DidCreateFilesNotification","WillCreateFilesRequest","FileOperationPatternKind","file","folder","FoldingRangeRequest","FoldingRangeKind","ImplementationRequest","DocumentLinkRequest","CodeLensRefreshRequest","CodeLensResolveRequest","CodeLensRequest","WorkspaceSymbolRequest","CodeActionResolveRequest","CodeActionRequest","DocumentSymbolRequest","DocumentHighlightRequest","ReferencesRequest","DefinitionRequest","SignatureHelpRequest","SignatureHelpTriggerKind","HoverRequest","CompletionResolveRequest","CompletionRequest","CompletionTriggerKind","PublishDiagnosticsNotification","WatchKind","FileChangeType","DidChangeWatchedFilesNotification","WillSaveTextDocumentWaitUntilRequest","WillSaveTextDocumentNotification","TextDocumentSaveReason","DidSaveTextDocumentNotification","DidCloseTextDocumentNotification","DidChangeTextDocumentNotification","TextDocumentContentChangeEvent","DidOpenTextDocumentNotification","TextDocumentSyncKind","TelemetryEventNotification","LogMessageNotification","ShowMessageRequest","ShowMessageNotification","MessageType","DidChangeConfigurationNotification","ExitNotification","ShutdownRequest","InitializedNotification","InitializeError","InitializeRequest","WorkDoneProgressOptions","TextDocumentRegistrationOptions","StaticRegistrationOptions","FailureHandlingKind","ResourceOperationKind","UnregistrationRequest","RegistrationRequest","DocumentSelector","DocumentFilter","MonikerRequest","MonikerKind","UniquenessLevel","LinkedEditingRangeRequest","ShowDocumentRequest","SemanticTokensRegistrationType","SemanticTokensRefreshRequest","SemanticTokensRangeRequest","SemanticTokensDeltaRequest","SemanticTokensRequest","TokenFormat","SemanticTokens","SemanticTokenModifiers","SemanticTokenTypes","WorkDoneProgressCancelNotification","WorkDoneProgressCreateRequest","WorkDoneProgress","SelectionRangeRequest","DidChangeWorkspaceFoldersNotification","WorkspaceFoldersRequest","TypeDefinitionRequest","ApplyWorkspaceEditRequest","ExecuteCommandRequest","PrepareRenameRequest","RenameRequest","PrepareSupportDefaultBehavior","DocumentOnTypeFormattingRequest","DocumentRangeFormattingRequest","DocumentFormattingRequest","DocumentLinkResolveRequest","protocol_implementation_1","protocol_typeDefinition_1","protocol_workspaceFolders_1","protocol_configuration_1","protocol_colorProvider_1","protocol_foldingRange_1","protocol_declaration_1","protocol_selectionRange_1","protocol_progress_1","protocol_callHierarchy_1","protocol_semanticTokens_1","protocol_showDocument_1","protocol_linkedEditingRange_1","protocol_fileOperations_1","protocol_moniker_1","language","scheme","pattern","Create","Rename","Delete","Abort","Transactional","TextOnlyTransactional","Undo","hasId","documentSelector","objectLiteral","workDoneProgress","hasWorkDoneProgress","unknownProtocolVersion","Warning","Info","Log","Full","Incremental","isIncremental","text","range","rangeLength","isFull","Manual","AfterDelay","FocusOut","Created","Changed","Deleted","Change","Invoked","TriggerCharacter","TriggerForIncompleteCompletions","ContentChange","Identifier","resultId","Relative","typedArray","check","node_1","TextDocument","FullTextDocument","uri","languageId","content","_uri","_languageId","_version","_content","_lineOffsets","configurable","getText","start","offsetAt","substring","update","changes","_i","changes_1","change","getWellformedRange","startOffset","endOffset","startLine","line","endLine","lineOffsets","addedLineOffsets","computeLineOffsets","concat","diff","getLineOffsets","positionAt","low","high","character","mid","floor","position","lineOffset","nextLineOffset","mergeSort","compare","left","right","leftIdx","rightIdx","isAtLineStart","textOffset","ch","charCodeAt","getWellformedEdit","textEdit","newText","document","applyEdits","edits","lastModifiedOffset","spans","sortedEdits_1","a","b","integer","uinteger","Position","Range","Location","LocationLink","Color","ColorInformation","ColorPresentation","FoldingRange","DiagnosticRelatedInformation","DiagnosticSeverity","DiagnosticTag","CodeDescription","Diagnostic","Command","TextEdit","ChangeAnnotation","ChangeAnnotationIdentifier","AnnotatedTextEdit","TextDocumentEdit","CreateFile","RenameFile","DeleteFile","WorkspaceEdit","MIN_VALUE","MAX_VALUE","one","two","three","four","defined","targetUri","targetRange","targetSelectionRange","originSelectionRange","red","green","blue","alpha","numberRange","color","label","additionalTextEdits","startCharacter","endCharacter","location","Information","Hint","Unnecessary","Deprecated","href","severity","relatedInformation","codeDescription","title","command","arguments","replace","insert","del","needsConfirmation","description","annotation","annotationId","textDocument","OptionalVersionedTextDocumentIdentifier","overwrite","ignoreIfExists","oldUri","newUri","recursive","ignoreIfNotExists","documentChanges","TextDocumentIdentifier","VersionedTextDocumentIdentifier","TextDocumentItem","MarkupKind","MarkupContent","CompletionItemKind","InsertTextFormat","CompletionItemTag","InsertReplaceEdit","InsertTextMode","CompletionItem","CompletionList","MarkedString","Hover","ParameterInformation","SignatureInformation","DocumentHighlightKind","DocumentHighlight","SymbolKind","SymbolTag","SymbolInformation","DocumentSymbol","CodeActionKind","CodeActionContext","CodeAction","CodeLens","FormattingOptions","DocumentLink","SelectionRange","TextEditChangeImpl","changeAnnotations","edit","assertChangeAnnotations","manage","all","ChangeAnnotations","annotations","_annotations","_counter","idOrAnnotation","nextId","WorkspaceChange","workspaceEdit","_this","_textEditChanges","_workspaceEdit","_changeAnnotations","textEditChange","initDocumentChanges","getTextEditChange","textDocumentEdit","initChanges","createFile","optionsOrAnnotation","operation","renameFile","deleteFile","PlainText","Markdown","Method","Function","Constructor","Field","Variable","Class","Interface","Module","Property","Unit","Value","Enum","Keyword","Snippet","File","Reference","Folder","EnumMember","Constant","Struct","Operator","TypeParameter","asIs","adjustIndentation","items","isIncomplete","fromPlainText","plainText","contents","documentation","parameters","Read","Write","Namespace","Package","Boolean","Key","Null","containerName","detail","selectionRange","children","deprecated","tags","Empty","QuickFix","Refactor","RefactorExtract","RefactorInline","RefactorRewrite","Source","SourceOrganizeImports","SourceFixAll","diagnostics","only","kindOrCommandOrEdit","checkKind","isPreferred","tabSize","insertSpaces","target","parent","EOL","lineCount","sortedEdits","isLineStart","charAt","ProposedFeatures","SemanticTokensBuilder","semanticTokens_1","__brand","CallHierarchyFeature","vscode_languageserver_protocol_1","Base","callHierarchy","onPrepare","attachWorkDoneProgress","onIncomingCalls","attachPartialResultProgress","onOutgoingCalls","ConfigurationFeature","getConfiguration","arg","_getConfiguration","section","FileOperationsFeature","onDidCreateFiles","onDidRenameFiles","onDidDeleteFiles","onWillCreateFiles","onWillRenameFiles","onWillDeleteFiles","LinkedEditingRangeFeature","onLinkedEditingRange","MonikerFeature","moniker","attachPartialResult","ProgressFeature","attachWorkDone","uuid_1","WorkDoneProgressReporterImpl","_connection","Instances","begin","percentage","cancellable","report","arg0","arg1","WorkDoneProgressServerReporterImpl","_source","NullProgressReporter","NullProgressServerReporter","ResultProgress","workDoneToken","_progressSupported","initialize","capabilities","window","progress","createWorkDoneProgress","generateUuid","ResultProgressReporterImpl","partialResultToken","SemanticTokensFeature","semanticTokens","onDelta","onRange","_prevData","_id","_prevLine","_prevChar","_data","_dataLen","char","tokenType","tokenModifiers","pushLine","pushChar","previousResult","build","canBuildEdits","buildEdits","prevDataLength","dataLength","startIndex","endIndex","newData","deleteCount","combineFeatures","combineLanguagesFeatures","combineWorkspaceFeatures","combineWindowFeatures","combineClientFeatures","combineTracerFeatures","combineTelemetryFeatures","combineConsoleFeatures","_LanguagesImpl","BulkUnregistration","BulkRegistration","ErrorMessageTracker","TextDocuments","UUID","progress_1","configuration_1","workspaceFolders_1","callHierarchy_1","showDocument_1","fileOperations_1","linkedEditingRange_1","moniker_1","null2Undefined","configuration","_documents","_configuration","_onDidChangeContent","_onDidOpen","_onDidClose","_onDidSave","_onWillSave","onDidChangeContent","onDidOpen","onWillSave","onWillSaveWaitUntil","_willSaveWaitUntil","onDidSave","onDidClose","__textDocumentSync","onDidOpenTextDocument","td","toFire","onDidChangeTextDocument","contentChanges","onDidCloseTextDocument","onWillSaveTextDocument","reason","onWillSaveTextDocumentWaitUntil","onDidSaveTextDocument","_messages","sendErrors","showErrorMessage","RemoteConsoleImpl","rawAttach","_rawConnection","attach","fillServerCapabilities","_capabilities","RemoteWindowImpl","ShowDocumentFeature","actions","showWarningMessage","showInformationMessage","BulkRegistrationImpl","_registrations","_registered","Set","registerOptions","asRegistrationParams","registrations","BulkUnregistrationImpl","unregistrations","_unregistrations","unregistration","isAttached","unregisterations","_error","disposeSingle","RemoteClientImpl","register","typeOrRegistrations","registerOptionsOrType","registerMany","registerSingle1","registerSingle2","_result","unregisterSingle","registration","RemoteWorkspaceImpl","WorkspaceFoldersFeature","applyEdit","paramOrEdit","TracerImpl","_trace","TelemetryImpl","logEvent","LanguagesImpl","combine","telemetry","client","workspace","connectionFactory","watchDog","factories","remoteWindow","languages","allRemotes","asPromise","thenable","resolved","shutdownHandler","initializeHandler","exitHandler","protocolConnection","onInitialize","onInitialized","onShutdown","onExit","onDidChangeConfiguration","onDidChangeWatchedFiles","sendDiagnostics","onHover","onCompletion","onCompletionResolve","onSignatureHelp","onDeclaration","onDefinition","onTypeDefinition","onImplementation","onReferences","onDocumentHighlight","onDocumentSymbol","onWorkspaceSymbol","onCodeAction","onCodeActionResolve","onCodeLens","onCodeLensResolve","onDocumentFormatting","onDocumentRangeFormatting","onDocumentOnTypeFormatting","onRenameRequest","onPrepareRename","onDocumentLinks","onDocumentLinkResolve","onDocumentColor","onColorPresentation","onFoldingRanges","onSelectionRanges","onExecuteCommand","remote","textDocumentSync","shutdownReceived","exit","showDocument","isUUID","v4","empty","ValueUUID","asHex","equals","other","V4UUID","_randomHex","_oneOf","_timeHighBits","random","_chars","_UUIDPattern","test","workspaceCapabilities","workspaceFolders","_onDidChangeWorkspaceFolders","getWorkspaceFolders","onDidChangeWorkspaceFolders","_unregistration","resolveModulePath","FileSystem","resolveGlobalYarnPath","resolveGlobalNodePath","uriToFilePath","url","fs","child_process_1","isWindows","moduleName","nodePath","cwd","app","newEnv","existsSync","delimiter","cp","fork","execArgv","pid","c","s","npmCommand","shell","stdout","spawnSync","prefix","parsed","protocol","segments","decodeURIComponent","second","normalize","yarnCommand","results","stderr","lines","yarn","_isCaseSensitive","isCaseSensitive","__filename","toUpperCase","isParent","child","workspaceRoot","isAbsolute","Files","server_1","fm","exitTimer","_shutdownReceived","argName","runTimer","processId","setInterval","kill","ex","argv","setupExitTimer","arg2","arg3","arg4","stdin","transport","commandLineMessage","inputStream","_createConnection","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","d","definition","obj","prop","documents","snippets","completionProvider","resolveProvider","defaultSettings","maxNumberOfProblems","globalSettings","documentSettings","validateTextDocument","settings","languageServerExample","_change","_textDocumentPosition","snippet"],"sourceRoot":""}