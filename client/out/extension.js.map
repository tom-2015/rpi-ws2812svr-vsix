{"version":3,"file":"extension.js","mappings":"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","sources":["webpack://ws2812svr/./node_modules/balanced-match/index.js","webpack://ws2812svr/./node_modules/brace-expansion/index.js","webpack://ws2812svr/./node_modules/concat-map/index.js","webpack://ws2812svr/./node_modules/lru-cache/index.js","webpack://ws2812svr/./node_modules/minimatch/minimatch.js","webpack://ws2812svr/./node_modules/semver/classes/comparator.js","webpack://ws2812svr/./node_modules/semver/classes/range.js","webpack://ws2812svr/./node_modules/semver/classes/semver.js","webpack://ws2812svr/./node_modules/semver/functions/clean.js","webpack://ws2812svr/./node_modules/semver/functions/cmp.js","webpack://ws2812svr/./node_modules/semver/functions/coerce.js","webpack://ws2812svr/./node_modules/semver/functions/compare-build.js","webpack://ws2812svr/./node_modules/semver/functions/compare-loose.js","webpack://ws2812svr/./node_modules/semver/functions/compare.js","webpack://ws2812svr/./node_modules/semver/functions/diff.js","webpack://ws2812svr/./node_modules/semver/functions/eq.js","webpack://ws2812svr/./node_modules/semver/functions/gt.js","webpack://ws2812svr/./node_modules/semver/functions/gte.js","webpack://ws2812svr/./node_modules/semver/functions/inc.js","webpack://ws2812svr/./node_modules/semver/functions/lt.js","webpack://ws2812svr/./node_modules/semver/functions/lte.js","webpack://ws2812svr/./node_modules/semver/functions/major.js","webpack://ws2812svr/./node_modules/semver/functions/minor.js","webpack://ws2812svr/./node_modules/semver/functions/neq.js","webpack://ws2812svr/./node_modules/semver/functions/parse.js","webpack://ws2812svr/./node_modules/semver/functions/patch.js","webpack://ws2812svr/./node_modules/semver/functions/prerelease.js","webpack://ws2812svr/./node_modules/semver/functions/rcompare.js","webpack://ws2812svr/./node_modules/semver/functions/rsort.js","webpack://ws2812svr/./node_modules/semver/functions/satisfies.js","webpack://ws2812svr/./node_modules/semver/functions/sort.js","webpack://ws2812svr/./node_modules/semver/functions/valid.js","webpack://ws2812svr/./node_modules/semver/index.js","webpack://ws2812svr/./node_modules/semver/internal/constants.js","webpack://ws2812svr/./node_modules/semver/internal/debug.js","webpack://ws2812svr/./node_modules/semver/internal/identifiers.js","webpack://ws2812svr/./node_modules/semver/internal/parse-options.js","webpack://ws2812svr/./node_modules/semver/internal/re.js","webpack://ws2812svr/./node_modules/semver/ranges/gtr.js","webpack://ws2812svr/./node_modules/semver/ranges/intersects.js","webpack://ws2812svr/./node_modules/semver/ranges/ltr.js","webpack://ws2812svr/./node_modules/semver/ranges/max-satisfying.js","webpack://ws2812svr/./node_modules/semver/ranges/min-satisfying.js","webpack://ws2812svr/./node_modules/semver/ranges/min-version.js","webpack://ws2812svr/./node_modules/semver/ranges/outside.js","webpack://ws2812svr/./node_modules/semver/ranges/simplify.js","webpack://ws2812svr/./node_modules/semver/ranges/subset.js","webpack://ws2812svr/./node_modules/semver/ranges/to-comparators.js","webpack://ws2812svr/./node_modules/semver/ranges/valid.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/common/api.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/common/cancellation.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/common/connection.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/common/disposable.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/common/events.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/common/is.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/common/linkedMap.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/common/messageBuffer.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/common/messageReader.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/common/messageWriter.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/common/messages.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/common/ral.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/common/semaphore.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/node/main.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/lib/node/ril.js","webpack://ws2812svr/./node_modules/vscode-jsonrpc/node.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/common/api.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/common/callHierarchy.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/common/client.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/common/codeConverter.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/common/colorProvider.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/common/commonClient.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/common/configuration.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/common/declaration.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/common/fileOperations.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/common/foldingRange.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/common/implementation.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/common/linkedEditingRange.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/common/progress.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/common/progressPart.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/common/protocolCallHierarchyItem.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/common/protocolCodeAction.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/common/protocolCodeLens.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/common/protocolCompletionItem.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/common/protocolConverter.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/common/protocolDiagnostic.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/common/protocolDocumentLink.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/common/selectionRange.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/common/semanticTokens.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/common/typeDefinition.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/common/utils/async.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/common/utils/is.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/common/utils/uuid.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/common/workspaceFolders.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/node/main.js","webpack://ws2812svr/./node_modules/vscode-languageclient/lib/node/processes.js","webpack://ws2812svr/./node_modules/vscode-languageclient/node.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/api.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/connection.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/messages.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.callHierarchy.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.colorProvider.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.configuration.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.declaration.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.fileOperations.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.foldingRange.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.implementation.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.linkedEditingRange.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.moniker.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.progress.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.selectionRange.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.semanticTokens.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.showDocument.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.typeDefinition.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/protocol.workspaceFolders.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/common/utils/is.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/lib/node/main.js","webpack://ws2812svr/./node_modules/vscode-languageserver-protocol/node.js","webpack://ws2812svr/./node_modules/vscode-languageserver-types/lib/esm/main.js","webpack://ws2812svr/./node_modules/yallist/iterator.js","webpack://ws2812svr/./node_modules/yallist/yallist.js","webpack://ws2812svr/./src/client.ts","webpack://ws2812svr/./src/language/hover.ts","webpack://ws2812svr/./src/language/signature.ts","webpack://ws2812svr/external commonjs \"vscode\"","webpack://ws2812svr/external node-commonjs \"child_process\"","webpack://ws2812svr/external node-commonjs \"crypto\"","webpack://ws2812svr/external node-commonjs \"fs\"","webpack://ws2812svr/external node-commonjs \"net\"","webpack://ws2812svr/external node-commonjs \"os\"","webpack://ws2812svr/external node-commonjs \"path\"","webpack://ws2812svr/external node-commonjs \"util\"","webpack://ws2812svr/webpack/bootstrap","webpack://ws2812svr/webpack/runtime/define property getters","webpack://ws2812svr/webpack/runtime/hasOwnProperty shorthand","webpack://ws2812svr/webpack/runtime/make namespace object","webpack://ws2812svr/./src/extension.ts"],"sourcesContent":["'use strict';\r\nmodule.exports = balanced;\r\nfunction balanced(a, b, str) {\r\n  if (a instanceof RegExp) a = maybeMatch(a, str);\r\n  if (b instanceof RegExp) b = maybeMatch(b, str);\r\n\r\n  var r = range(a, b, str);\r\n\r\n  return r && {\r\n    start: r[0],\r\n    end: r[1],\r\n    pre: str.slice(0, r[0]),\r\n    body: str.slice(r[0] + a.length, r[1]),\r\n    post: str.slice(r[1] + b.length)\r\n  };\r\n}\r\n\r\nfunction maybeMatch(reg, str) {\r\n  var m = str.match(reg);\r\n  return m ? m[0] : null;\r\n}\r\n\r\nbalanced.range = range;\r\nfunction range(a, b, str) {\r\n  var begs, beg, left, right, result;\r\n  var ai = str.indexOf(a);\r\n  var bi = str.indexOf(b, ai + 1);\r\n  var i = ai;\r\n\r\n  if (ai >= 0 && bi > 0) {\r\n    if(a===b) {\r\n      return [ai, bi];\r\n    }\r\n    begs = [];\r\n    left = str.length;\r\n\r\n    while (i >= 0 && !result) {\r\n      if (i == ai) {\r\n        begs.push(i);\r\n        ai = str.indexOf(a, i + 1);\r\n      } else if (begs.length == 1) {\r\n        result = [ begs.pop(), bi ];\r\n      } else {\r\n        beg = begs.pop();\r\n        if (beg < left) {\r\n          left = beg;\r\n          right = bi;\r\n        }\r\n\r\n        bi = str.indexOf(b, i + 1);\r\n      }\r\n\r\n      i = ai < bi && ai >= 0 ? ai : bi;\r\n    }\r\n\r\n    if (begs.length) {\r\n      result = [ left, right ];\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n","var concatMap = require('concat-map');\r\nvar balanced = require('balanced-match');\r\n\r\nmodule.exports = expandTop;\r\n\r\nvar escSlash = '\\0SLASH'+Math.random()+'\\0';\r\nvar escOpen = '\\0OPEN'+Math.random()+'\\0';\r\nvar escClose = '\\0CLOSE'+Math.random()+'\\0';\r\nvar escComma = '\\0COMMA'+Math.random()+'\\0';\r\nvar escPeriod = '\\0PERIOD'+Math.random()+'\\0';\r\n\r\nfunction numeric(str) {\r\n  return parseInt(str, 10) == str\r\n    ? parseInt(str, 10)\r\n    : str.charCodeAt(0);\r\n}\r\n\r\nfunction escapeBraces(str) {\r\n  return str.split('\\\\\\\\').join(escSlash)\r\n            .split('\\\\{').join(escOpen)\r\n            .split('\\\\}').join(escClose)\r\n            .split('\\\\,').join(escComma)\r\n            .split('\\\\.').join(escPeriod);\r\n}\r\n\r\nfunction unescapeBraces(str) {\r\n  return str.split(escSlash).join('\\\\')\r\n            .split(escOpen).join('{')\r\n            .split(escClose).join('}')\r\n            .split(escComma).join(',')\r\n            .split(escPeriod).join('.');\r\n}\r\n\r\n\r\n// Basically just str.split(\",\"), but handling cases\r\n// where we have nested braced sections, which should be\r\n// treated as individual members, like {a,{b,c},d}\r\nfunction parseCommaParts(str) {\r\n  if (!str)\r\n    return [''];\r\n\r\n  var parts = [];\r\n  var m = balanced('{', '}', str);\r\n\r\n  if (!m)\r\n    return str.split(',');\r\n\r\n  var pre = m.pre;\r\n  var body = m.body;\r\n  var post = m.post;\r\n  var p = pre.split(',');\r\n\r\n  p[p.length-1] += '{' + body + '}';\r\n  var postParts = parseCommaParts(post);\r\n  if (post.length) {\r\n    p[p.length-1] += postParts.shift();\r\n    p.push.apply(p, postParts);\r\n  }\r\n\r\n  parts.push.apply(parts, p);\r\n\r\n  return parts;\r\n}\r\n\r\nfunction expandTop(str) {\r\n  if (!str)\r\n    return [];\r\n\r\n  // I don't know why Bash 4.3 does this, but it does.\r\n  // Anything starting with {} will have the first two bytes preserved\r\n  // but *only* at the top level, so {},a}b will not expand to anything,\r\n  // but a{},b}c will be expanded to [a}c,abc].\r\n  // One could argue that this is a bug in Bash, but since the goal of\r\n  // this module is to match Bash's rules, we escape a leading {}\r\n  if (str.substr(0, 2) === '{}') {\r\n    str = '\\\\{\\\\}' + str.substr(2);\r\n  }\r\n\r\n  return expand(escapeBraces(str), true).map(unescapeBraces);\r\n}\r\n\r\nfunction identity(e) {\r\n  return e;\r\n}\r\n\r\nfunction embrace(str) {\r\n  return '{' + str + '}';\r\n}\r\nfunction isPadded(el) {\r\n  return /^-?0\\d/.test(el);\r\n}\r\n\r\nfunction lte(i, y) {\r\n  return i <= y;\r\n}\r\nfunction gte(i, y) {\r\n  return i >= y;\r\n}\r\n\r\nfunction expand(str, isTop) {\r\n  var expansions = [];\r\n\r\n  var m = balanced('{', '}', str);\r\n  if (!m || /\\$$/.test(m.pre)) return [str];\r\n\r\n  var isNumericSequence = /^-?\\d+\\.\\.-?\\d+(?:\\.\\.-?\\d+)?$/.test(m.body);\r\n  var isAlphaSequence = /^[a-zA-Z]\\.\\.[a-zA-Z](?:\\.\\.-?\\d+)?$/.test(m.body);\r\n  var isSequence = isNumericSequence || isAlphaSequence;\r\n  var isOptions = m.body.indexOf(',') >= 0;\r\n  if (!isSequence && !isOptions) {\r\n    // {a},b}\r\n    if (m.post.match(/,.*\\}/)) {\r\n      str = m.pre + '{' + m.body + escClose + m.post;\r\n      return expand(str);\r\n    }\r\n    return [str];\r\n  }\r\n\r\n  var n;\r\n  if (isSequence) {\r\n    n = m.body.split(/\\.\\./);\r\n  } else {\r\n    n = parseCommaParts(m.body);\r\n    if (n.length === 1) {\r\n      // x{{a,b}}y ==> x{a}y x{b}y\r\n      n = expand(n[0], false).map(embrace);\r\n      if (n.length === 1) {\r\n        var post = m.post.length\r\n          ? expand(m.post, false)\r\n          : [''];\r\n        return post.map(function(p) {\r\n          return m.pre + n[0] + p;\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  // at this point, n is the parts, and we know it's not a comma set\r\n  // with a single entry.\r\n\r\n  // no need to expand pre, since it is guaranteed to be free of brace-sets\r\n  var pre = m.pre;\r\n  var post = m.post.length\r\n    ? expand(m.post, false)\r\n    : [''];\r\n\r\n  var N;\r\n\r\n  if (isSequence) {\r\n    var x = numeric(n[0]);\r\n    var y = numeric(n[1]);\r\n    var width = Math.max(n[0].length, n[1].length)\r\n    var incr = n.length == 3\r\n      ? Math.abs(numeric(n[2]))\r\n      : 1;\r\n    var test = lte;\r\n    var reverse = y < x;\r\n    if (reverse) {\r\n      incr *= -1;\r\n      test = gte;\r\n    }\r\n    var pad = n.some(isPadded);\r\n\r\n    N = [];\r\n\r\n    for (var i = x; test(i, y); i += incr) {\r\n      var c;\r\n      if (isAlphaSequence) {\r\n        c = String.fromCharCode(i);\r\n        if (c === '\\\\')\r\n          c = '';\r\n      } else {\r\n        c = String(i);\r\n        if (pad) {\r\n          var need = width - c.length;\r\n          if (need > 0) {\r\n            var z = new Array(need + 1).join('0');\r\n            if (i < 0)\r\n              c = '-' + z + c.slice(1);\r\n            else\r\n              c = z + c;\r\n          }\r\n        }\r\n      }\r\n      N.push(c);\r\n    }\r\n  } else {\r\n    N = concatMap(n, function(el) { return expand(el, false) });\r\n  }\r\n\r\n  for (var j = 0; j < N.length; j++) {\r\n    for (var k = 0; k < post.length; k++) {\r\n      var expansion = pre + N[j] + post[k];\r\n      if (!isTop || isSequence || expansion)\r\n        expansions.push(expansion);\r\n    }\r\n  }\r\n\r\n  return expansions;\r\n}\r\n\r\n","module.exports = function (xs, fn) {\r\n    var res = [];\r\n    for (var i = 0; i < xs.length; i++) {\r\n        var x = fn(xs[i], i);\r\n        if (isArray(x)) res.push.apply(res, x);\r\n        else res.push(x);\r\n    }\r\n    return res;\r\n};\r\n\r\nvar isArray = Array.isArray || function (xs) {\r\n    return Object.prototype.toString.call(xs) === '[object Array]';\r\n};\r\n","'use strict'\r\n\r\n// A linked list to keep track of recently-used-ness\r\nconst Yallist = require('yallist')\r\n\r\nconst MAX = Symbol('max')\r\nconst LENGTH = Symbol('length')\r\nconst LENGTH_CALCULATOR = Symbol('lengthCalculator')\r\nconst ALLOW_STALE = Symbol('allowStale')\r\nconst MAX_AGE = Symbol('maxAge')\r\nconst DISPOSE = Symbol('dispose')\r\nconst NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet')\r\nconst LRU_LIST = Symbol('lruList')\r\nconst CACHE = Symbol('cache')\r\nconst UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet')\r\n\r\nconst naiveLength = () => 1\r\n\r\n// lruList is a yallist where the head is the youngest\r\n// item, and the tail is the oldest.  the list contains the Hit\r\n// objects as the entries.\r\n// Each Hit object has a reference to its Yallist.Node.  This\r\n// never changes.\r\n//\r\n// cache is a Map (or PseudoMap) that matches the keys to\r\n// the Yallist.Node object.\r\nclass LRUCache {\r\n  constructor (options) {\r\n    if (typeof options === 'number')\r\n      options = { max: options }\r\n\r\n    if (!options)\r\n      options = {}\r\n\r\n    if (options.max && (typeof options.max !== 'number' || options.max < 0))\r\n      throw new TypeError('max must be a non-negative number')\r\n    // Kind of weird to have a default max of Infinity, but oh well.\r\n    const max = this[MAX] = options.max || Infinity\r\n\r\n    const lc = options.length || naiveLength\r\n    this[LENGTH_CALCULATOR] = (typeof lc !== 'function') ? naiveLength : lc\r\n    this[ALLOW_STALE] = options.stale || false\r\n    if (options.maxAge && typeof options.maxAge !== 'number')\r\n      throw new TypeError('maxAge must be a number')\r\n    this[MAX_AGE] = options.maxAge || 0\r\n    this[DISPOSE] = options.dispose\r\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\r\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false\r\n    this.reset()\r\n  }\r\n\r\n  // resize the cache when the max changes.\r\n  set max (mL) {\r\n    if (typeof mL !== 'number' || mL < 0)\r\n      throw new TypeError('max must be a non-negative number')\r\n\r\n    this[MAX] = mL || Infinity\r\n    trim(this)\r\n  }\r\n  get max () {\r\n    return this[MAX]\r\n  }\r\n\r\n  set allowStale (allowStale) {\r\n    this[ALLOW_STALE] = !!allowStale\r\n  }\r\n  get allowStale () {\r\n    return this[ALLOW_STALE]\r\n  }\r\n\r\n  set maxAge (mA) {\r\n    if (typeof mA !== 'number')\r\n      throw new TypeError('maxAge must be a non-negative number')\r\n\r\n    this[MAX_AGE] = mA\r\n    trim(this)\r\n  }\r\n  get maxAge () {\r\n    return this[MAX_AGE]\r\n  }\r\n\r\n  // resize the cache when the lengthCalculator changes.\r\n  set lengthCalculator (lC) {\r\n    if (typeof lC !== 'function')\r\n      lC = naiveLength\r\n\r\n    if (lC !== this[LENGTH_CALCULATOR]) {\r\n      this[LENGTH_CALCULATOR] = lC\r\n      this[LENGTH] = 0\r\n      this[LRU_LIST].forEach(hit => {\r\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\r\n        this[LENGTH] += hit.length\r\n      })\r\n    }\r\n    trim(this)\r\n  }\r\n  get lengthCalculator () { return this[LENGTH_CALCULATOR] }\r\n\r\n  get length () { return this[LENGTH] }\r\n  get itemCount () { return this[LRU_LIST].length }\r\n\r\n  rforEach (fn, thisp) {\r\n    thisp = thisp || this\r\n    for (let walker = this[LRU_LIST].tail; walker !== null;) {\r\n      const prev = walker.prev\r\n      forEachStep(this, fn, walker, thisp)\r\n      walker = prev\r\n    }\r\n  }\r\n\r\n  forEach (fn, thisp) {\r\n    thisp = thisp || this\r\n    for (let walker = this[LRU_LIST].head; walker !== null;) {\r\n      const next = walker.next\r\n      forEachStep(this, fn, walker, thisp)\r\n      walker = next\r\n    }\r\n  }\r\n\r\n  keys () {\r\n    return this[LRU_LIST].toArray().map(k => k.key)\r\n  }\r\n\r\n  values () {\r\n    return this[LRU_LIST].toArray().map(k => k.value)\r\n  }\r\n\r\n  reset () {\r\n    if (this[DISPOSE] &&\r\n        this[LRU_LIST] &&\r\n        this[LRU_LIST].length) {\r\n      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value))\r\n    }\r\n\r\n    this[CACHE] = new Map() // hash of items by key\r\n    this[LRU_LIST] = new Yallist() // list of items in order of use recency\r\n    this[LENGTH] = 0 // length of items in the list\r\n  }\r\n\r\n  dump () {\r\n    return this[LRU_LIST].map(hit =>\r\n      isStale(this, hit) ? false : {\r\n        k: hit.key,\r\n        v: hit.value,\r\n        e: hit.now + (hit.maxAge || 0)\r\n      }).toArray().filter(h => h)\r\n  }\r\n\r\n  dumpLru () {\r\n    return this[LRU_LIST]\r\n  }\r\n\r\n  set (key, value, maxAge) {\r\n    maxAge = maxAge || this[MAX_AGE]\r\n\r\n    if (maxAge && typeof maxAge !== 'number')\r\n      throw new TypeError('maxAge must be a number')\r\n\r\n    const now = maxAge ? Date.now() : 0\r\n    const len = this[LENGTH_CALCULATOR](value, key)\r\n\r\n    if (this[CACHE].has(key)) {\r\n      if (len > this[MAX]) {\r\n        del(this, this[CACHE].get(key))\r\n        return false\r\n      }\r\n\r\n      const node = this[CACHE].get(key)\r\n      const item = node.value\r\n\r\n      // dispose of the old one before overwriting\r\n      // split out into 2 ifs for better coverage tracking\r\n      if (this[DISPOSE]) {\r\n        if (!this[NO_DISPOSE_ON_SET])\r\n          this[DISPOSE](key, item.value)\r\n      }\r\n\r\n      item.now = now\r\n      item.maxAge = maxAge\r\n      item.value = value\r\n      this[LENGTH] += len - item.length\r\n      item.length = len\r\n      this.get(key)\r\n      trim(this)\r\n      return true\r\n    }\r\n\r\n    const hit = new Entry(key, value, len, now, maxAge)\r\n\r\n    // oversized objects fall out of cache automatically.\r\n    if (hit.length > this[MAX]) {\r\n      if (this[DISPOSE])\r\n        this[DISPOSE](key, value)\r\n\r\n      return false\r\n    }\r\n\r\n    this[LENGTH] += hit.length\r\n    this[LRU_LIST].unshift(hit)\r\n    this[CACHE].set(key, this[LRU_LIST].head)\r\n    trim(this)\r\n    return true\r\n  }\r\n\r\n  has (key) {\r\n    if (!this[CACHE].has(key)) return false\r\n    const hit = this[CACHE].get(key).value\r\n    return !isStale(this, hit)\r\n  }\r\n\r\n  get (key) {\r\n    return get(this, key, true)\r\n  }\r\n\r\n  peek (key) {\r\n    return get(this, key, false)\r\n  }\r\n\r\n  pop () {\r\n    const node = this[LRU_LIST].tail\r\n    if (!node)\r\n      return null\r\n\r\n    del(this, node)\r\n    return node.value\r\n  }\r\n\r\n  del (key) {\r\n    del(this, this[CACHE].get(key))\r\n  }\r\n\r\n  load (arr) {\r\n    // reset the cache\r\n    this.reset()\r\n\r\n    const now = Date.now()\r\n    // A previous serialized cache has the most recent items first\r\n    for (let l = arr.length - 1; l >= 0; l--) {\r\n      const hit = arr[l]\r\n      const expiresAt = hit.e || 0\r\n      if (expiresAt === 0)\r\n        // the item was created without expiration in a non aged cache\r\n        this.set(hit.k, hit.v)\r\n      else {\r\n        const maxAge = expiresAt - now\r\n        // dont add already expired items\r\n        if (maxAge > 0) {\r\n          this.set(hit.k, hit.v, maxAge)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  prune () {\r\n    this[CACHE].forEach((value, key) => get(this, key, false))\r\n  }\r\n}\r\n\r\nconst get = (self, key, doUse) => {\r\n  const node = self[CACHE].get(key)\r\n  if (node) {\r\n    const hit = node.value\r\n    if (isStale(self, hit)) {\r\n      del(self, node)\r\n      if (!self[ALLOW_STALE])\r\n        return undefined\r\n    } else {\r\n      if (doUse) {\r\n        if (self[UPDATE_AGE_ON_GET])\r\n          node.value.now = Date.now()\r\n        self[LRU_LIST].unshiftNode(node)\r\n      }\r\n    }\r\n    return hit.value\r\n  }\r\n}\r\n\r\nconst isStale = (self, hit) => {\r\n  if (!hit || (!hit.maxAge && !self[MAX_AGE]))\r\n    return false\r\n\r\n  const diff = Date.now() - hit.now\r\n  return hit.maxAge ? diff > hit.maxAge\r\n    : self[MAX_AGE] && (diff > self[MAX_AGE])\r\n}\r\n\r\nconst trim = self => {\r\n  if (self[LENGTH] > self[MAX]) {\r\n    for (let walker = self[LRU_LIST].tail;\r\n      self[LENGTH] > self[MAX] && walker !== null;) {\r\n      // We know that we're about to delete this one, and also\r\n      // what the next least recently used key will be, so just\r\n      // go ahead and set it now.\r\n      const prev = walker.prev\r\n      del(self, walker)\r\n      walker = prev\r\n    }\r\n  }\r\n}\r\n\r\nconst del = (self, node) => {\r\n  if (node) {\r\n    const hit = node.value\r\n    if (self[DISPOSE])\r\n      self[DISPOSE](hit.key, hit.value)\r\n\r\n    self[LENGTH] -= hit.length\r\n    self[CACHE].delete(hit.key)\r\n    self[LRU_LIST].removeNode(node)\r\n  }\r\n}\r\n\r\nclass Entry {\r\n  constructor (key, value, length, now, maxAge) {\r\n    this.key = key\r\n    this.value = value\r\n    this.length = length\r\n    this.now = now\r\n    this.maxAge = maxAge || 0\r\n  }\r\n}\r\n\r\nconst forEachStep = (self, fn, node, thisp) => {\r\n  let hit = node.value\r\n  if (isStale(self, hit)) {\r\n    del(self, node)\r\n    if (!self[ALLOW_STALE])\r\n      hit = undefined\r\n  }\r\n  if (hit)\r\n    fn.call(thisp, hit.value, hit.key, self)\r\n}\r\n\r\nmodule.exports = LRUCache\r\n","module.exports = minimatch\r\nminimatch.Minimatch = Minimatch\r\n\r\nvar path = { sep: '/' }\r\ntry {\r\n  path = require('path')\r\n} catch (er) {}\r\n\r\nvar GLOBSTAR = minimatch.GLOBSTAR = Minimatch.GLOBSTAR = {}\r\nvar expand = require('brace-expansion')\r\n\r\nvar plTypes = {\r\n  '!': { open: '(?:(?!(?:', close: '))[^/]*?)'},\r\n  '?': { open: '(?:', close: ')?' },\r\n  '+': { open: '(?:', close: ')+' },\r\n  '*': { open: '(?:', close: ')*' },\r\n  '@': { open: '(?:', close: ')' }\r\n}\r\n\r\n// any single thing other than /\r\n// don't need to escape / when using new RegExp()\r\nvar qmark = '[^/]'\r\n\r\n// * => any number of characters\r\nvar star = qmark + '*?'\r\n\r\n// ** when dots are allowed.  Anything goes, except .. and .\r\n// not (^ or / followed by one or two dots followed by $ or /),\r\n// followed by anything, any number of times.\r\nvar twoStarDot = '(?:(?!(?:\\\\\\/|^)(?:\\\\.{1,2})($|\\\\\\/)).)*?'\r\n\r\n// not a ^ or / followed by a dot,\r\n// followed by anything, any number of times.\r\nvar twoStarNoDot = '(?:(?!(?:\\\\\\/|^)\\\\.).)*?'\r\n\r\n// characters that need to be escaped in RegExp.\r\nvar reSpecials = charSet('().*{}+?[]^$\\\\!')\r\n\r\n// \"abc\" -> { a:true, b:true, c:true }\r\nfunction charSet (s) {\r\n  return s.split('').reduce(function (set, c) {\r\n    set[c] = true\r\n    return set\r\n  }, {})\r\n}\r\n\r\n// normalizes slashes.\r\nvar slashSplit = /\\/+/\r\n\r\nminimatch.filter = filter\r\nfunction filter (pattern, options) {\r\n  options = options || {}\r\n  return function (p, i, list) {\r\n    return minimatch(p, pattern, options)\r\n  }\r\n}\r\n\r\nfunction ext (a, b) {\r\n  a = a || {}\r\n  b = b || {}\r\n  var t = {}\r\n  Object.keys(b).forEach(function (k) {\r\n    t[k] = b[k]\r\n  })\r\n  Object.keys(a).forEach(function (k) {\r\n    t[k] = a[k]\r\n  })\r\n  return t\r\n}\r\n\r\nminimatch.defaults = function (def) {\r\n  if (!def || !Object.keys(def).length) return minimatch\r\n\r\n  var orig = minimatch\r\n\r\n  var m = function minimatch (p, pattern, options) {\r\n    return orig.minimatch(p, pattern, ext(def, options))\r\n  }\r\n\r\n  m.Minimatch = function Minimatch (pattern, options) {\r\n    return new orig.Minimatch(pattern, ext(def, options))\r\n  }\r\n\r\n  return m\r\n}\r\n\r\nMinimatch.defaults = function (def) {\r\n  if (!def || !Object.keys(def).length) return Minimatch\r\n  return minimatch.defaults(def).Minimatch\r\n}\r\n\r\nfunction minimatch (p, pattern, options) {\r\n  if (typeof pattern !== 'string') {\r\n    throw new TypeError('glob pattern string required')\r\n  }\r\n\r\n  if (!options) options = {}\r\n\r\n  // shortcut: comments match nothing.\r\n  if (!options.nocomment && pattern.charAt(0) === '#') {\r\n    return false\r\n  }\r\n\r\n  // \"\" only matches \"\"\r\n  if (pattern.trim() === '') return p === ''\r\n\r\n  return new Minimatch(pattern, options).match(p)\r\n}\r\n\r\nfunction Minimatch (pattern, options) {\r\n  if (!(this instanceof Minimatch)) {\r\n    return new Minimatch(pattern, options)\r\n  }\r\n\r\n  if (typeof pattern !== 'string') {\r\n    throw new TypeError('glob pattern string required')\r\n  }\r\n\r\n  if (!options) options = {}\r\n  pattern = pattern.trim()\r\n\r\n  // windows support: need to use /, not \\\r\n  if (path.sep !== '/') {\r\n    pattern = pattern.split(path.sep).join('/')\r\n  }\r\n\r\n  this.options = options\r\n  this.set = []\r\n  this.pattern = pattern\r\n  this.regexp = null\r\n  this.negate = false\r\n  this.comment = false\r\n  this.empty = false\r\n\r\n  // make the set of regexps etc.\r\n  this.make()\r\n}\r\n\r\nMinimatch.prototype.debug = function () {}\r\n\r\nMinimatch.prototype.make = make\r\nfunction make () {\r\n  // don't do it more than once.\r\n  if (this._made) return\r\n\r\n  var pattern = this.pattern\r\n  var options = this.options\r\n\r\n  // empty patterns and comments match nothing.\r\n  if (!options.nocomment && pattern.charAt(0) === '#') {\r\n    this.comment = true\r\n    return\r\n  }\r\n  if (!pattern) {\r\n    this.empty = true\r\n    return\r\n  }\r\n\r\n  // step 1: figure out negation, etc.\r\n  this.parseNegate()\r\n\r\n  // step 2: expand braces\r\n  var set = this.globSet = this.braceExpand()\r\n\r\n  if (options.debug) this.debug = console.error\r\n\r\n  this.debug(this.pattern, set)\r\n\r\n  // step 3: now we have a set, so turn each one into a series of path-portion\r\n  // matching patterns.\r\n  // These will be regexps, except in the case of \"**\", which is\r\n  // set to the GLOBSTAR object for globstar behavior,\r\n  // and will not contain any / characters\r\n  set = this.globParts = set.map(function (s) {\r\n    return s.split(slashSplit)\r\n  })\r\n\r\n  this.debug(this.pattern, set)\r\n\r\n  // glob --> regexps\r\n  set = set.map(function (s, si, set) {\r\n    return s.map(this.parse, this)\r\n  }, this)\r\n\r\n  this.debug(this.pattern, set)\r\n\r\n  // filter out everything that didn't compile properly.\r\n  set = set.filter(function (s) {\r\n    return s.indexOf(false) === -1\r\n  })\r\n\r\n  this.debug(this.pattern, set)\r\n\r\n  this.set = set\r\n}\r\n\r\nMinimatch.prototype.parseNegate = parseNegate\r\nfunction parseNegate () {\r\n  var pattern = this.pattern\r\n  var negate = false\r\n  var options = this.options\r\n  var negateOffset = 0\r\n\r\n  if (options.nonegate) return\r\n\r\n  for (var i = 0, l = pattern.length\r\n    ; i < l && pattern.charAt(i) === '!'\r\n    ; i++) {\r\n    negate = !negate\r\n    negateOffset++\r\n  }\r\n\r\n  if (negateOffset) this.pattern = pattern.substr(negateOffset)\r\n  this.negate = negate\r\n}\r\n\r\n// Brace expansion:\r\n// a{b,c}d -> abd acd\r\n// a{b,}c -> abc ac\r\n// a{0..3}d -> a0d a1d a2d a3d\r\n// a{b,c{d,e}f}g -> abg acdfg acefg\r\n// a{b,c}d{e,f}g -> abdeg acdeg abdeg abdfg\r\n//\r\n// Invalid sets are not expanded.\r\n// a{2..}b -> a{2..}b\r\n// a{b}c -> a{b}c\r\nminimatch.braceExpand = function (pattern, options) {\r\n  return braceExpand(pattern, options)\r\n}\r\n\r\nMinimatch.prototype.braceExpand = braceExpand\r\n\r\nfunction braceExpand (pattern, options) {\r\n  if (!options) {\r\n    if (this instanceof Minimatch) {\r\n      options = this.options\r\n    } else {\r\n      options = {}\r\n    }\r\n  }\r\n\r\n  pattern = typeof pattern === 'undefined'\r\n    ? this.pattern : pattern\r\n\r\n  if (typeof pattern === 'undefined') {\r\n    throw new TypeError('undefined pattern')\r\n  }\r\n\r\n  if (options.nobrace ||\r\n    !pattern.match(/\\{.*\\}/)) {\r\n    // shortcut. no need to expand.\r\n    return [pattern]\r\n  }\r\n\r\n  return expand(pattern)\r\n}\r\n\r\n// parse a component of the expanded set.\r\n// At this point, no pattern may contain \"/\" in it\r\n// so we're going to return a 2d array, where each entry is the full\r\n// pattern, split on '/', and then turned into a regular expression.\r\n// A regexp is made at the end which joins each array with an\r\n// escaped /, and another full one which joins each regexp with |.\r\n//\r\n// Following the lead of Bash 4.1, note that \"**\" only has special meaning\r\n// when it is the *only* thing in a path portion.  Otherwise, any series\r\n// of * is equivalent to a single *.  Globstar behavior is enabled by\r\n// default, and can be disabled by setting options.noglobstar.\r\nMinimatch.prototype.parse = parse\r\nvar SUBPARSE = {}\r\nfunction parse (pattern, isSub) {\r\n  if (pattern.length > 1024 * 64) {\r\n    throw new TypeError('pattern is too long')\r\n  }\r\n\r\n  var options = this.options\r\n\r\n  // shortcuts\r\n  if (!options.noglobstar && pattern === '**') return GLOBSTAR\r\n  if (pattern === '') return ''\r\n\r\n  var re = ''\r\n  var hasMagic = !!options.nocase\r\n  var escaping = false\r\n  // ? => one single character\r\n  var patternListStack = []\r\n  var negativeLists = []\r\n  var stateChar\r\n  var inClass = false\r\n  var reClassStart = -1\r\n  var classStart = -1\r\n  // . and .. never match anything that doesn't start with .,\r\n  // even when options.dot is set.\r\n  var patternStart = pattern.charAt(0) === '.' ? '' // anything\r\n  // not (start or / followed by . or .. followed by / or end)\r\n  : options.dot ? '(?!(?:^|\\\\\\/)\\\\.{1,2}(?:$|\\\\\\/))'\r\n  : '(?!\\\\.)'\r\n  var self = this\r\n\r\n  function clearStateChar () {\r\n    if (stateChar) {\r\n      // we had some state-tracking character\r\n      // that wasn't consumed by this pass.\r\n      switch (stateChar) {\r\n        case '*':\r\n          re += star\r\n          hasMagic = true\r\n        break\r\n        case '?':\r\n          re += qmark\r\n          hasMagic = true\r\n        break\r\n        default:\r\n          re += '\\\\' + stateChar\r\n        break\r\n      }\r\n      self.debug('clearStateChar %j %j', stateChar, re)\r\n      stateChar = false\r\n    }\r\n  }\r\n\r\n  for (var i = 0, len = pattern.length, c\r\n    ; (i < len) && (c = pattern.charAt(i))\r\n    ; i++) {\r\n    this.debug('%s\\t%s %s %j', pattern, i, re, c)\r\n\r\n    // skip over any that are escaped.\r\n    if (escaping && reSpecials[c]) {\r\n      re += '\\\\' + c\r\n      escaping = false\r\n      continue\r\n    }\r\n\r\n    switch (c) {\r\n      case '/':\r\n        // completely not allowed, even escaped.\r\n        // Should already be path-split by now.\r\n        return false\r\n\r\n      case '\\\\':\r\n        clearStateChar()\r\n        escaping = true\r\n      continue\r\n\r\n      // the various stateChar values\r\n      // for the \"extglob\" stuff.\r\n      case '?':\r\n      case '*':\r\n      case '+':\r\n      case '@':\r\n      case '!':\r\n        this.debug('%s\\t%s %s %j <-- stateChar', pattern, i, re, c)\r\n\r\n        // all of those are literals inside a class, except that\r\n        // the glob [!a] means [^a] in regexp\r\n        if (inClass) {\r\n          this.debug('  in class')\r\n          if (c === '!' && i === classStart + 1) c = '^'\r\n          re += c\r\n          continue\r\n        }\r\n\r\n        // if we already have a stateChar, then it means\r\n        // that there was something like ** or +? in there.\r\n        // Handle the stateChar, then proceed with this one.\r\n        self.debug('call clearStateChar %j', stateChar)\r\n        clearStateChar()\r\n        stateChar = c\r\n        // if extglob is disabled, then +(asdf|foo) isn't a thing.\r\n        // just clear the statechar *now*, rather than even diving into\r\n        // the patternList stuff.\r\n        if (options.noext) clearStateChar()\r\n      continue\r\n\r\n      case '(':\r\n        if (inClass) {\r\n          re += '('\r\n          continue\r\n        }\r\n\r\n        if (!stateChar) {\r\n          re += '\\\\('\r\n          continue\r\n        }\r\n\r\n        patternListStack.push({\r\n          type: stateChar,\r\n          start: i - 1,\r\n          reStart: re.length,\r\n          open: plTypes[stateChar].open,\r\n          close: plTypes[stateChar].close\r\n        })\r\n        // negation is (?:(?!js)[^/]*)\r\n        re += stateChar === '!' ? '(?:(?!(?:' : '(?:'\r\n        this.debug('plType %j %j', stateChar, re)\r\n        stateChar = false\r\n      continue\r\n\r\n      case ')':\r\n        if (inClass || !patternListStack.length) {\r\n          re += '\\\\)'\r\n          continue\r\n        }\r\n\r\n        clearStateChar()\r\n        hasMagic = true\r\n        var pl = patternListStack.pop()\r\n        // negation is (?:(?!js)[^/]*)\r\n        // The others are (?:<pattern>)<type>\r\n        re += pl.close\r\n        if (pl.type === '!') {\r\n          negativeLists.push(pl)\r\n        }\r\n        pl.reEnd = re.length\r\n      continue\r\n\r\n      case '|':\r\n        if (inClass || !patternListStack.length || escaping) {\r\n          re += '\\\\|'\r\n          escaping = false\r\n          continue\r\n        }\r\n\r\n        clearStateChar()\r\n        re += '|'\r\n      continue\r\n\r\n      // these are mostly the same in regexp and glob\r\n      case '[':\r\n        // swallow any state-tracking char before the [\r\n        clearStateChar()\r\n\r\n        if (inClass) {\r\n          re += '\\\\' + c\r\n          continue\r\n        }\r\n\r\n        inClass = true\r\n        classStart = i\r\n        reClassStart = re.length\r\n        re += c\r\n      continue\r\n\r\n      case ']':\r\n        //  a right bracket shall lose its special\r\n        //  meaning and represent itself in\r\n        //  a bracket expression if it occurs\r\n        //  first in the list.  -- POSIX.2 2.8.3.2\r\n        if (i === classStart + 1 || !inClass) {\r\n          re += '\\\\' + c\r\n          escaping = false\r\n          continue\r\n        }\r\n\r\n        // handle the case where we left a class open.\r\n        // \"[z-a]\" is valid, equivalent to \"\\[z-a\\]\"\r\n        if (inClass) {\r\n          // split where the last [ was, make sure we don't have\r\n          // an invalid re. if so, re-walk the contents of the\r\n          // would-be class to re-translate any characters that\r\n          // were passed through as-is\r\n          // TODO: It would probably be faster to determine this\r\n          // without a try/catch and a new RegExp, but it's tricky\r\n          // to do safely.  For now, this is safe and works.\r\n          var cs = pattern.substring(classStart + 1, i)\r\n          try {\r\n            RegExp('[' + cs + ']')\r\n          } catch (er) {\r\n            // not a valid class!\r\n            var sp = this.parse(cs, SUBPARSE)\r\n            re = re.substr(0, reClassStart) + '\\\\[' + sp[0] + '\\\\]'\r\n            hasMagic = hasMagic || sp[1]\r\n            inClass = false\r\n            continue\r\n          }\r\n        }\r\n\r\n        // finish up the class.\r\n        hasMagic = true\r\n        inClass = false\r\n        re += c\r\n      continue\r\n\r\n      default:\r\n        // swallow any state char that wasn't consumed\r\n        clearStateChar()\r\n\r\n        if (escaping) {\r\n          // no need\r\n          escaping = false\r\n        } else if (reSpecials[c]\r\n          && !(c === '^' && inClass)) {\r\n          re += '\\\\'\r\n        }\r\n\r\n        re += c\r\n\r\n    } // switch\r\n  } // for\r\n\r\n  // handle the case where we left a class open.\r\n  // \"[abc\" is valid, equivalent to \"\\[abc\"\r\n  if (inClass) {\r\n    // split where the last [ was, and escape it\r\n    // this is a huge pita.  We now have to re-walk\r\n    // the contents of the would-be class to re-translate\r\n    // any characters that were passed through as-is\r\n    cs = pattern.substr(classStart + 1)\r\n    sp = this.parse(cs, SUBPARSE)\r\n    re = re.substr(0, reClassStart) + '\\\\[' + sp[0]\r\n    hasMagic = hasMagic || sp[1]\r\n  }\r\n\r\n  // handle the case where we had a +( thing at the *end*\r\n  // of the pattern.\r\n  // each pattern list stack adds 3 chars, and we need to go through\r\n  // and escape any | chars that were passed through as-is for the regexp.\r\n  // Go through and escape them, taking care not to double-escape any\r\n  // | chars that were already escaped.\r\n  for (pl = patternListStack.pop(); pl; pl = patternListStack.pop()) {\r\n    var tail = re.slice(pl.reStart + pl.open.length)\r\n    this.debug('setting tail', re, pl)\r\n    // maybe some even number of \\, then maybe 1 \\, followed by a |\r\n    tail = tail.replace(/((?:\\\\{2}){0,64})(\\\\?)\\|/g, function (_, $1, $2) {\r\n      if (!$2) {\r\n        // the | isn't already escaped, so escape it.\r\n        $2 = '\\\\'\r\n      }\r\n\r\n      // need to escape all those slashes *again*, without escaping the\r\n      // one that we need for escaping the | character.  As it works out,\r\n      // escaping an even number of slashes can be done by simply repeating\r\n      // it exactly after itself.  That's why this trick works.\r\n      //\r\n      // I am sorry that you have to see this.\r\n      return $1 + $1 + $2 + '|'\r\n    })\r\n\r\n    this.debug('tail=%j\\n   %s', tail, tail, pl, re)\r\n    var t = pl.type === '*' ? star\r\n      : pl.type === '?' ? qmark\r\n      : '\\\\' + pl.type\r\n\r\n    hasMagic = true\r\n    re = re.slice(0, pl.reStart) + t + '\\\\(' + tail\r\n  }\r\n\r\n  // handle trailing things that only matter at the very end.\r\n  clearStateChar()\r\n  if (escaping) {\r\n    // trailing \\\\\r\n    re += '\\\\\\\\'\r\n  }\r\n\r\n  // only need to apply the nodot start if the re starts with\r\n  // something that could conceivably capture a dot\r\n  var addPatternStart = false\r\n  switch (re.charAt(0)) {\r\n    case '.':\r\n    case '[':\r\n    case '(': addPatternStart = true\r\n  }\r\n\r\n  // Hack to work around lack of negative lookbehind in JS\r\n  // A pattern like: *.!(x).!(y|z) needs to ensure that a name\r\n  // like 'a.xyz.yz' doesn't match.  So, the first negative\r\n  // lookahead, has to look ALL the way ahead, to the end of\r\n  // the pattern.\r\n  for (var n = negativeLists.length - 1; n > -1; n--) {\r\n    var nl = negativeLists[n]\r\n\r\n    var nlBefore = re.slice(0, nl.reStart)\r\n    var nlFirst = re.slice(nl.reStart, nl.reEnd - 8)\r\n    var nlLast = re.slice(nl.reEnd - 8, nl.reEnd)\r\n    var nlAfter = re.slice(nl.reEnd)\r\n\r\n    nlLast += nlAfter\r\n\r\n    // Handle nested stuff like *(*.js|!(*.json)), where open parens\r\n    // mean that we should *not* include the ) in the bit that is considered\r\n    // \"after\" the negated section.\r\n    var openParensBefore = nlBefore.split('(').length - 1\r\n    var cleanAfter = nlAfter\r\n    for (i = 0; i < openParensBefore; i++) {\r\n      cleanAfter = cleanAfter.replace(/\\)[+*?]?/, '')\r\n    }\r\n    nlAfter = cleanAfter\r\n\r\n    var dollar = ''\r\n    if (nlAfter === '' && isSub !== SUBPARSE) {\r\n      dollar = '$'\r\n    }\r\n    var newRe = nlBefore + nlFirst + nlAfter + dollar + nlLast\r\n    re = newRe\r\n  }\r\n\r\n  // if the re is not \"\" at this point, then we need to make sure\r\n  // it doesn't match against an empty path part.\r\n  // Otherwise a/* will match a/, which it should not.\r\n  if (re !== '' && hasMagic) {\r\n    re = '(?=.)' + re\r\n  }\r\n\r\n  if (addPatternStart) {\r\n    re = patternStart + re\r\n  }\r\n\r\n  // parsing just a piece of a larger pattern.\r\n  if (isSub === SUBPARSE) {\r\n    return [re, hasMagic]\r\n  }\r\n\r\n  // skip the regexp for non-magical patterns\r\n  // unescape anything in it, though, so that it'll be\r\n  // an exact match against a file etc.\r\n  if (!hasMagic) {\r\n    return globUnescape(pattern)\r\n  }\r\n\r\n  var flags = options.nocase ? 'i' : ''\r\n  try {\r\n    var regExp = new RegExp('^' + re + '$', flags)\r\n  } catch (er) {\r\n    // If it was an invalid regular expression, then it can't match\r\n    // anything.  This trick looks for a character after the end of\r\n    // the string, which is of course impossible, except in multi-line\r\n    // mode, but it's not a /m regex.\r\n    return new RegExp('$.')\r\n  }\r\n\r\n  regExp._glob = pattern\r\n  regExp._src = re\r\n\r\n  return regExp\r\n}\r\n\r\nminimatch.makeRe = function (pattern, options) {\r\n  return new Minimatch(pattern, options || {}).makeRe()\r\n}\r\n\r\nMinimatch.prototype.makeRe = makeRe\r\nfunction makeRe () {\r\n  if (this.regexp || this.regexp === false) return this.regexp\r\n\r\n  // at this point, this.set is a 2d array of partial\r\n  // pattern strings, or \"**\".\r\n  //\r\n  // It's better to use .match().  This function shouldn't\r\n  // be used, really, but it's pretty convenient sometimes,\r\n  // when you just want to work with a regex.\r\n  var set = this.set\r\n\r\n  if (!set.length) {\r\n    this.regexp = false\r\n    return this.regexp\r\n  }\r\n  var options = this.options\r\n\r\n  var twoStar = options.noglobstar ? star\r\n    : options.dot ? twoStarDot\r\n    : twoStarNoDot\r\n  var flags = options.nocase ? 'i' : ''\r\n\r\n  var re = set.map(function (pattern) {\r\n    return pattern.map(function (p) {\r\n      return (p === GLOBSTAR) ? twoStar\r\n      : (typeof p === 'string') ? regExpEscape(p)\r\n      : p._src\r\n    }).join('\\\\\\/')\r\n  }).join('|')\r\n\r\n  // must match entire pattern\r\n  // ending in a * or ** will make it less strict.\r\n  re = '^(?:' + re + ')$'\r\n\r\n  // can match anything, as long as it's not this.\r\n  if (this.negate) re = '^(?!' + re + ').*$'\r\n\r\n  try {\r\n    this.regexp = new RegExp(re, flags)\r\n  } catch (ex) {\r\n    this.regexp = false\r\n  }\r\n  return this.regexp\r\n}\r\n\r\nminimatch.match = function (list, pattern, options) {\r\n  options = options || {}\r\n  var mm = new Minimatch(pattern, options)\r\n  list = list.filter(function (f) {\r\n    return mm.match(f)\r\n  })\r\n  if (mm.options.nonull && !list.length) {\r\n    list.push(pattern)\r\n  }\r\n  return list\r\n}\r\n\r\nMinimatch.prototype.match = match\r\nfunction match (f, partial) {\r\n  this.debug('match', f, this.pattern)\r\n  // short-circuit in the case of busted things.\r\n  // comments, etc.\r\n  if (this.comment) return false\r\n  if (this.empty) return f === ''\r\n\r\n  if (f === '/' && partial) return true\r\n\r\n  var options = this.options\r\n\r\n  // windows: need to use /, not \\\r\n  if (path.sep !== '/') {\r\n    f = f.split(path.sep).join('/')\r\n  }\r\n\r\n  // treat the test path as a set of pathparts.\r\n  f = f.split(slashSplit)\r\n  this.debug(this.pattern, 'split', f)\r\n\r\n  // just ONE of the pattern sets in this.set needs to match\r\n  // in order for it to be valid.  If negating, then just one\r\n  // match means that we have failed.\r\n  // Either way, return on the first hit.\r\n\r\n  var set = this.set\r\n  this.debug(this.pattern, 'set', set)\r\n\r\n  // Find the basename of the path by looking for the last non-empty segment\r\n  var filename\r\n  var i\r\n  for (i = f.length - 1; i >= 0; i--) {\r\n    filename = f[i]\r\n    if (filename) break\r\n  }\r\n\r\n  for (i = 0; i < set.length; i++) {\r\n    var pattern = set[i]\r\n    var file = f\r\n    if (options.matchBase && pattern.length === 1) {\r\n      file = [filename]\r\n    }\r\n    var hit = this.matchOne(file, pattern, partial)\r\n    if (hit) {\r\n      if (options.flipNegate) return true\r\n      return !this.negate\r\n    }\r\n  }\r\n\r\n  // didn't get any hits.  this is success if it's a negative\r\n  // pattern, failure otherwise.\r\n  if (options.flipNegate) return false\r\n  return this.negate\r\n}\r\n\r\n// set partial to true to test if, for example,\r\n// \"/a/b\" matches the start of \"/*/b/*/d\"\r\n// Partial means, if you run out of file before you run\r\n// out of pattern, then that's fine, as long as all\r\n// the parts match.\r\nMinimatch.prototype.matchOne = function (file, pattern, partial) {\r\n  var options = this.options\r\n\r\n  this.debug('matchOne',\r\n    { 'this': this, file: file, pattern: pattern })\r\n\r\n  this.debug('matchOne', file.length, pattern.length)\r\n\r\n  for (var fi = 0,\r\n      pi = 0,\r\n      fl = file.length,\r\n      pl = pattern.length\r\n      ; (fi < fl) && (pi < pl)\r\n      ; fi++, pi++) {\r\n    this.debug('matchOne loop')\r\n    var p = pattern[pi]\r\n    var f = file[fi]\r\n\r\n    this.debug(pattern, p, f)\r\n\r\n    // should be impossible.\r\n    // some invalid regexp stuff in the set.\r\n    if (p === false) return false\r\n\r\n    if (p === GLOBSTAR) {\r\n      this.debug('GLOBSTAR', [pattern, p, f])\r\n\r\n      // \"**\"\r\n      // a/**/b/**/c would match the following:\r\n      // a/b/x/y/z/c\r\n      // a/x/y/z/b/c\r\n      // a/b/x/b/x/c\r\n      // a/b/c\r\n      // To do this, take the rest of the pattern after\r\n      // the **, and see if it would match the file remainder.\r\n      // If so, return success.\r\n      // If not, the ** \"swallows\" a segment, and try again.\r\n      // This is recursively awful.\r\n      //\r\n      // a/**/b/**/c matching a/b/x/y/z/c\r\n      // - a matches a\r\n      // - doublestar\r\n      //   - matchOne(b/x/y/z/c, b/**/c)\r\n      //     - b matches b\r\n      //     - doublestar\r\n      //       - matchOne(x/y/z/c, c) -> no\r\n      //       - matchOne(y/z/c, c) -> no\r\n      //       - matchOne(z/c, c) -> no\r\n      //       - matchOne(c, c) yes, hit\r\n      var fr = fi\r\n      var pr = pi + 1\r\n      if (pr === pl) {\r\n        this.debug('** at the end')\r\n        // a ** at the end will just swallow the rest.\r\n        // We have found a match.\r\n        // however, it will not swallow /.x, unless\r\n        // options.dot is set.\r\n        // . and .. are *never* matched by **, for explosively\r\n        // exponential reasons.\r\n        for (; fi < fl; fi++) {\r\n          if (file[fi] === '.' || file[fi] === '..' ||\r\n            (!options.dot && file[fi].charAt(0) === '.')) return false\r\n        }\r\n        return true\r\n      }\r\n\r\n      // ok, let's see if we can swallow whatever we can.\r\n      while (fr < fl) {\r\n        var swallowee = file[fr]\r\n\r\n        this.debug('\\nglobstar while', file, fr, pattern, pr, swallowee)\r\n\r\n        // XXX remove this slice.  Just pass the start index.\r\n        if (this.matchOne(file.slice(fr), pattern.slice(pr), partial)) {\r\n          this.debug('globstar found match!', fr, fl, swallowee)\r\n          // found a match.\r\n          return true\r\n        } else {\r\n          // can't swallow \".\" or \"..\" ever.\r\n          // can only swallow \".foo\" when explicitly asked.\r\n          if (swallowee === '.' || swallowee === '..' ||\r\n            (!options.dot && swallowee.charAt(0) === '.')) {\r\n            this.debug('dot detected!', file, fr, pattern, pr)\r\n            break\r\n          }\r\n\r\n          // ** swallows a segment, and continue.\r\n          this.debug('globstar swallow a segment, and continue')\r\n          fr++\r\n        }\r\n      }\r\n\r\n      // no match was found.\r\n      // However, in partial mode, we can't say this is necessarily over.\r\n      // If there's more *pattern* left, then\r\n      if (partial) {\r\n        // ran out of file\r\n        this.debug('\\n>>> no match, partial?', file, fr, pattern, pr)\r\n        if (fr === fl) return true\r\n      }\r\n      return false\r\n    }\r\n\r\n    // something other than **\r\n    // non-magic patterns just have to match exactly\r\n    // patterns with magic have been turned into regexps.\r\n    var hit\r\n    if (typeof p === 'string') {\r\n      if (options.nocase) {\r\n        hit = f.toLowerCase() === p.toLowerCase()\r\n      } else {\r\n        hit = f === p\r\n      }\r\n      this.debug('string match', p, f, hit)\r\n    } else {\r\n      hit = f.match(p)\r\n      this.debug('pattern match', p, f, hit)\r\n    }\r\n\r\n    if (!hit) return false\r\n  }\r\n\r\n  // Note: ending in / means that we'll get a final \"\"\r\n  // at the end of the pattern.  This can only match a\r\n  // corresponding \"\" at the end of the file.\r\n  // If the file ends in /, then it can only match a\r\n  // a pattern that ends in /, unless the pattern just\r\n  // doesn't have any more for it. But, a/b/ should *not*\r\n  // match \"a/b/*\", even though \"\" matches against the\r\n  // [^/]*? pattern, except in partial mode, where it might\r\n  // simply not be reached yet.\r\n  // However, a/b/ should still satisfy a/*\r\n\r\n  // now either we fell off the end of the pattern, or we're done.\r\n  if (fi === fl && pi === pl) {\r\n    // ran out of pattern and filename at the same time.\r\n    // an exact hit!\r\n    return true\r\n  } else if (fi === fl) {\r\n    // ran out of file, but still had pattern left.\r\n    // this is ok if we're doing the match as part of\r\n    // a glob fs traversal.\r\n    return partial\r\n  } else if (pi === pl) {\r\n    // ran out of pattern, still have file left.\r\n    // this is only acceptable if we're on the very last\r\n    // empty segment of a file with a trailing slash.\r\n    // a/* should match a/b/\r\n    var emptyFileEnd = (fi === fl - 1) && (file[fi] === '')\r\n    return emptyFileEnd\r\n  }\r\n\r\n  // should be unreachable.\r\n  throw new Error('wtf?')\r\n}\r\n\r\n// replace stuff like \\* with *\r\nfunction globUnescape (s) {\r\n  return s.replace(/\\\\(.)/g, '$1')\r\n}\r\n\r\nfunction regExpEscape (s) {\r\n  return s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&')\r\n}\r\n","const ANY = Symbol('SemVer ANY')\r\n// hoisted class for cyclic dependency\r\nclass Comparator {\r\n  static get ANY () {\r\n    return ANY\r\n  }\r\n  constructor (comp, options) {\r\n    options = parseOptions(options)\r\n\r\n    if (comp instanceof Comparator) {\r\n      if (comp.loose === !!options.loose) {\r\n        return comp\r\n      } else {\r\n        comp = comp.value\r\n      }\r\n    }\r\n\r\n    debug('comparator', comp, options)\r\n    this.options = options\r\n    this.loose = !!options.loose\r\n    this.parse(comp)\r\n\r\n    if (this.semver === ANY) {\r\n      this.value = ''\r\n    } else {\r\n      this.value = this.operator + this.semver.version\r\n    }\r\n\r\n    debug('comp', this)\r\n  }\r\n\r\n  parse (comp) {\r\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\r\n    const m = comp.match(r)\r\n\r\n    if (!m) {\r\n      throw new TypeError(`Invalid comparator: ${comp}`)\r\n    }\r\n\r\n    this.operator = m[1] !== undefined ? m[1] : ''\r\n    if (this.operator === '=') {\r\n      this.operator = ''\r\n    }\r\n\r\n    // if it literally is just '>' or '' then allow anything.\r\n    if (!m[2]) {\r\n      this.semver = ANY\r\n    } else {\r\n      this.semver = new SemVer(m[2], this.options.loose)\r\n    }\r\n  }\r\n\r\n  toString () {\r\n    return this.value\r\n  }\r\n\r\n  test (version) {\r\n    debug('Comparator.test', version, this.options.loose)\r\n\r\n    if (this.semver === ANY || version === ANY) {\r\n      return true\r\n    }\r\n\r\n    if (typeof version === 'string') {\r\n      try {\r\n        version = new SemVer(version, this.options)\r\n      } catch (er) {\r\n        return false\r\n      }\r\n    }\r\n\r\n    return cmp(version, this.operator, this.semver, this.options)\r\n  }\r\n\r\n  intersects (comp, options) {\r\n    if (!(comp instanceof Comparator)) {\r\n      throw new TypeError('a Comparator is required')\r\n    }\r\n\r\n    if (!options || typeof options !== 'object') {\r\n      options = {\r\n        loose: !!options,\r\n        includePrerelease: false\r\n      }\r\n    }\r\n\r\n    if (this.operator === '') {\r\n      if (this.value === '') {\r\n        return true\r\n      }\r\n      return new Range(comp.value, options).test(this.value)\r\n    } else if (comp.operator === '') {\r\n      if (comp.value === '') {\r\n        return true\r\n      }\r\n      return new Range(this.value, options).test(comp.semver)\r\n    }\r\n\r\n    const sameDirectionIncreasing =\r\n      (this.operator === '>=' || this.operator === '>') &&\r\n      (comp.operator === '>=' || comp.operator === '>')\r\n    const sameDirectionDecreasing =\r\n      (this.operator === '<=' || this.operator === '<') &&\r\n      (comp.operator === '<=' || comp.operator === '<')\r\n    const sameSemVer = this.semver.version === comp.semver.version\r\n    const differentDirectionsInclusive =\r\n      (this.operator === '>=' || this.operator === '<=') &&\r\n      (comp.operator === '>=' || comp.operator === '<=')\r\n    const oppositeDirectionsLessThan =\r\n      cmp(this.semver, '<', comp.semver, options) &&\r\n      (this.operator === '>=' || this.operator === '>') &&\r\n        (comp.operator === '<=' || comp.operator === '<')\r\n    const oppositeDirectionsGreaterThan =\r\n      cmp(this.semver, '>', comp.semver, options) &&\r\n      (this.operator === '<=' || this.operator === '<') &&\r\n        (comp.operator === '>=' || comp.operator === '>')\r\n\r\n    return (\r\n      sameDirectionIncreasing ||\r\n      sameDirectionDecreasing ||\r\n      (sameSemVer && differentDirectionsInclusive) ||\r\n      oppositeDirectionsLessThan ||\r\n      oppositeDirectionsGreaterThan\r\n    )\r\n  }\r\n}\r\n\r\nmodule.exports = Comparator\r\n\r\nconst parseOptions = require('../internal/parse-options')\r\nconst {re, t} = require('../internal/re')\r\nconst cmp = require('../functions/cmp')\r\nconst debug = require('../internal/debug')\r\nconst SemVer = require('./semver')\r\nconst Range = require('./range')\r\n","// hoisted class for cyclic dependency\r\nclass Range {\r\n  constructor (range, options) {\r\n    options = parseOptions(options)\r\n\r\n    if (range instanceof Range) {\r\n      if (\r\n        range.loose === !!options.loose &&\r\n        range.includePrerelease === !!options.includePrerelease\r\n      ) {\r\n        return range\r\n      } else {\r\n        return new Range(range.raw, options)\r\n      }\r\n    }\r\n\r\n    if (range instanceof Comparator) {\r\n      // just put it in the set and return\r\n      this.raw = range.value\r\n      this.set = [[range]]\r\n      this.format()\r\n      return this\r\n    }\r\n\r\n    this.options = options\r\n    this.loose = !!options.loose\r\n    this.includePrerelease = !!options.includePrerelease\r\n\r\n    // First, split based on boolean or ||\r\n    this.raw = range\r\n    this.set = range\r\n      .split(/\\s*\\|\\|\\s*/)\r\n      // map the range to a 2d array of comparators\r\n      .map(range => this.parseRange(range.trim()))\r\n      // throw out any comparator lists that are empty\r\n      // this generally means that it was not a valid range, which is allowed\r\n      // in loose mode, but will still throw if the WHOLE range is invalid.\r\n      .filter(c => c.length)\r\n\r\n    if (!this.set.length) {\r\n      throw new TypeError(`Invalid SemVer Range: ${range}`)\r\n    }\r\n\r\n    // if we have any that are not the null set, throw out null sets.\r\n    if (this.set.length > 1) {\r\n      // keep the first one, in case they're all null sets\r\n      const first = this.set[0]\r\n      this.set = this.set.filter(c => !isNullSet(c[0]))\r\n      if (this.set.length === 0)\r\n        this.set = [first]\r\n      else if (this.set.length > 1) {\r\n        // if we have any that are *, then the range is just *\r\n        for (const c of this.set) {\r\n          if (c.length === 1 && isAny(c[0])) {\r\n            this.set = [c]\r\n            break\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    this.format()\r\n  }\r\n\r\n  format () {\r\n    this.range = this.set\r\n      .map((comps) => {\r\n        return comps.join(' ').trim()\r\n      })\r\n      .join('||')\r\n      .trim()\r\n    return this.range\r\n  }\r\n\r\n  toString () {\r\n    return this.range\r\n  }\r\n\r\n  parseRange (range) {\r\n    range = range.trim()\r\n\r\n    // memoize range parsing for performance.\r\n    // this is a very hot path, and fully deterministic.\r\n    const memoOpts = Object.keys(this.options).join(',')\r\n    const memoKey = `parseRange:${memoOpts}:${range}`\r\n    const cached = cache.get(memoKey)\r\n    if (cached)\r\n      return cached\r\n\r\n    const loose = this.options.loose\r\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\r\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\r\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\r\n    debug('hyphen replace', range)\r\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\r\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\r\n    debug('comparator trim', range, re[t.COMPARATORTRIM])\r\n\r\n    // `~ 1.2.3` => `~1.2.3`\r\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\r\n\r\n    // `^ 1.2.3` => `^1.2.3`\r\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\r\n\r\n    // normalize spaces\r\n    range = range.split(/\\s+/).join(' ')\r\n\r\n    // At this point, the range is completely trimmed and\r\n    // ready to be split into comparators.\r\n\r\n    const compRe = loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\r\n    const rangeList = range\r\n      .split(' ')\r\n      .map(comp => parseComparator(comp, this.options))\r\n      .join(' ')\r\n      .split(/\\s+/)\r\n      // >=0.0.0 is equivalent to *\r\n      .map(comp => replaceGTE0(comp, this.options))\r\n      // in loose mode, throw out any that are not valid comparators\r\n      .filter(this.options.loose ? comp => !!comp.match(compRe) : () => true)\r\n      .map(comp => new Comparator(comp, this.options))\r\n\r\n    // if any comparators are the null set, then replace with JUST null set\r\n    // if more than one comparator, remove any * comparators\r\n    // also, don't include the same comparator more than once\r\n    const l = rangeList.length\r\n    const rangeMap = new Map()\r\n    for (const comp of rangeList) {\r\n      if (isNullSet(comp))\r\n        return [comp]\r\n      rangeMap.set(comp.value, comp)\r\n    }\r\n    if (rangeMap.size > 1 && rangeMap.has(''))\r\n      rangeMap.delete('')\r\n\r\n    const result = [...rangeMap.values()]\r\n    cache.set(memoKey, result)\r\n    return result\r\n  }\r\n\r\n  intersects (range, options) {\r\n    if (!(range instanceof Range)) {\r\n      throw new TypeError('a Range is required')\r\n    }\r\n\r\n    return this.set.some((thisComparators) => {\r\n      return (\r\n        isSatisfiable(thisComparators, options) &&\r\n        range.set.some((rangeComparators) => {\r\n          return (\r\n            isSatisfiable(rangeComparators, options) &&\r\n            thisComparators.every((thisComparator) => {\r\n              return rangeComparators.every((rangeComparator) => {\r\n                return thisComparator.intersects(rangeComparator, options)\r\n              })\r\n            })\r\n          )\r\n        })\r\n      )\r\n    })\r\n  }\r\n\r\n  // if ANY of the sets match ALL of its comparators, then pass\r\n  test (version) {\r\n    if (!version) {\r\n      return false\r\n    }\r\n\r\n    if (typeof version === 'string') {\r\n      try {\r\n        version = new SemVer(version, this.options)\r\n      } catch (er) {\r\n        return false\r\n      }\r\n    }\r\n\r\n    for (let i = 0; i < this.set.length; i++) {\r\n      if (testSet(this.set[i], version, this.options)) {\r\n        return true\r\n      }\r\n    }\r\n    return false\r\n  }\r\n}\r\nmodule.exports = Range\r\n\r\nconst LRU = require('lru-cache')\r\nconst cache = new LRU({ max: 1000 })\r\n\r\nconst parseOptions = require('../internal/parse-options')\r\nconst Comparator = require('./comparator')\r\nconst debug = require('../internal/debug')\r\nconst SemVer = require('./semver')\r\nconst {\r\n  re,\r\n  t,\r\n  comparatorTrimReplace,\r\n  tildeTrimReplace,\r\n  caretTrimReplace\r\n} = require('../internal/re')\r\n\r\nconst isNullSet = c => c.value === '<0.0.0-0'\r\nconst isAny = c => c.value === ''\r\n\r\n// take a set of comparators and determine whether there\r\n// exists a version which can satisfy it\r\nconst isSatisfiable = (comparators, options) => {\r\n  let result = true\r\n  const remainingComparators = comparators.slice()\r\n  let testComparator = remainingComparators.pop()\r\n\r\n  while (result && remainingComparators.length) {\r\n    result = remainingComparators.every((otherComparator) => {\r\n      return testComparator.intersects(otherComparator, options)\r\n    })\r\n\r\n    testComparator = remainingComparators.pop()\r\n  }\r\n\r\n  return result\r\n}\r\n\r\n// comprised of xranges, tildes, stars, and gtlt's at this point.\r\n// already replaced the hyphen ranges\r\n// turn into a set of JUST comparators.\r\nconst parseComparator = (comp, options) => {\r\n  debug('comp', comp, options)\r\n  comp = replaceCarets(comp, options)\r\n  debug('caret', comp)\r\n  comp = replaceTildes(comp, options)\r\n  debug('tildes', comp)\r\n  comp = replaceXRanges(comp, options)\r\n  debug('xrange', comp)\r\n  comp = replaceStars(comp, options)\r\n  debug('stars', comp)\r\n  return comp\r\n}\r\n\r\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\r\n\r\n// ~, ~> --> * (any, kinda silly)\r\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\r\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\r\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\r\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\r\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\r\nconst replaceTildes = (comp, options) =>\r\n  comp.trim().split(/\\s+/).map((comp) => {\r\n    return replaceTilde(comp, options)\r\n  }).join(' ')\r\n\r\nconst replaceTilde = (comp, options) => {\r\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\r\n  return comp.replace(r, (_, M, m, p, pr) => {\r\n    debug('tilde', comp, _, M, m, p, pr)\r\n    let ret\r\n\r\n    if (isX(M)) {\r\n      ret = ''\r\n    } else if (isX(m)) {\r\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\r\n    } else if (isX(p)) {\r\n      // ~1.2 == >=1.2.0 <1.3.0-0\r\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\r\n    } else if (pr) {\r\n      debug('replaceTilde pr', pr)\r\n      ret = `>=${M}.${m}.${p}-${pr\r\n      } <${M}.${+m + 1}.0-0`\r\n    } else {\r\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\r\n      ret = `>=${M}.${m}.${p\r\n      } <${M}.${+m + 1}.0-0`\r\n    }\r\n\r\n    debug('tilde return', ret)\r\n    return ret\r\n  })\r\n}\r\n\r\n// ^ --> * (any, kinda silly)\r\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\r\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\r\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\r\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\r\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\r\nconst replaceCarets = (comp, options) =>\r\n  comp.trim().split(/\\s+/).map((comp) => {\r\n    return replaceCaret(comp, options)\r\n  }).join(' ')\r\n\r\nconst replaceCaret = (comp, options) => {\r\n  debug('caret', comp, options)\r\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\r\n  const z = options.includePrerelease ? '-0' : ''\r\n  return comp.replace(r, (_, M, m, p, pr) => {\r\n    debug('caret', comp, _, M, m, p, pr)\r\n    let ret\r\n\r\n    if (isX(M)) {\r\n      ret = ''\r\n    } else if (isX(m)) {\r\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\r\n    } else if (isX(p)) {\r\n      if (M === '0') {\r\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\r\n      } else {\r\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\r\n      }\r\n    } else if (pr) {\r\n      debug('replaceCaret pr', pr)\r\n      if (M === '0') {\r\n        if (m === '0') {\r\n          ret = `>=${M}.${m}.${p}-${pr\r\n          } <${M}.${m}.${+p + 1}-0`\r\n        } else {\r\n          ret = `>=${M}.${m}.${p}-${pr\r\n          } <${M}.${+m + 1}.0-0`\r\n        }\r\n      } else {\r\n        ret = `>=${M}.${m}.${p}-${pr\r\n        } <${+M + 1}.0.0-0`\r\n      }\r\n    } else {\r\n      debug('no pr')\r\n      if (M === '0') {\r\n        if (m === '0') {\r\n          ret = `>=${M}.${m}.${p\r\n          }${z} <${M}.${m}.${+p + 1}-0`\r\n        } else {\r\n          ret = `>=${M}.${m}.${p\r\n          }${z} <${M}.${+m + 1}.0-0`\r\n        }\r\n      } else {\r\n        ret = `>=${M}.${m}.${p\r\n        } <${+M + 1}.0.0-0`\r\n      }\r\n    }\r\n\r\n    debug('caret return', ret)\r\n    return ret\r\n  })\r\n}\r\n\r\nconst replaceXRanges = (comp, options) => {\r\n  debug('replaceXRanges', comp, options)\r\n  return comp.split(/\\s+/).map((comp) => {\r\n    return replaceXRange(comp, options)\r\n  }).join(' ')\r\n}\r\n\r\nconst replaceXRange = (comp, options) => {\r\n  comp = comp.trim()\r\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\r\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\r\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\r\n    const xM = isX(M)\r\n    const xm = xM || isX(m)\r\n    const xp = xm || isX(p)\r\n    const anyX = xp\r\n\r\n    if (gtlt === '=' && anyX) {\r\n      gtlt = ''\r\n    }\r\n\r\n    // if we're including prereleases in the match, then we need\r\n    // to fix this to -0, the lowest possible prerelease value\r\n    pr = options.includePrerelease ? '-0' : ''\r\n\r\n    if (xM) {\r\n      if (gtlt === '>' || gtlt === '<') {\r\n        // nothing is allowed\r\n        ret = '<0.0.0-0'\r\n      } else {\r\n        // nothing is forbidden\r\n        ret = '*'\r\n      }\r\n    } else if (gtlt && anyX) {\r\n      // we know patch is an x, because we have any x at all.\r\n      // replace X with 0\r\n      if (xm) {\r\n        m = 0\r\n      }\r\n      p = 0\r\n\r\n      if (gtlt === '>') {\r\n        // >1 => >=2.0.0\r\n        // >1.2 => >=1.3.0\r\n        gtlt = '>='\r\n        if (xm) {\r\n          M = +M + 1\r\n          m = 0\r\n          p = 0\r\n        } else {\r\n          m = +m + 1\r\n          p = 0\r\n        }\r\n      } else if (gtlt === '<=') {\r\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\r\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\r\n        gtlt = '<'\r\n        if (xm) {\r\n          M = +M + 1\r\n        } else {\r\n          m = +m + 1\r\n        }\r\n      }\r\n\r\n      if (gtlt === '<')\r\n        pr = '-0'\r\n\r\n      ret = `${gtlt + M}.${m}.${p}${pr}`\r\n    } else if (xm) {\r\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\r\n    } else if (xp) {\r\n      ret = `>=${M}.${m}.0${pr\r\n      } <${M}.${+m + 1}.0-0`\r\n    }\r\n\r\n    debug('xRange return', ret)\r\n\r\n    return ret\r\n  })\r\n}\r\n\r\n// Because * is AND-ed with everything else in the comparator,\r\n// and '' means \"any version\", just remove the *s entirely.\r\nconst replaceStars = (comp, options) => {\r\n  debug('replaceStars', comp, options)\r\n  // Looseness is ignored here.  star is always as loose as it gets!\r\n  return comp.trim().replace(re[t.STAR], '')\r\n}\r\n\r\nconst replaceGTE0 = (comp, options) => {\r\n  debug('replaceGTE0', comp, options)\r\n  return comp.trim()\r\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\r\n}\r\n\r\n// This function is passed to string.replace(re[t.HYPHENRANGE])\r\n// M, m, patch, prerelease, build\r\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\r\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\r\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\r\nconst hyphenReplace = incPr => ($0,\r\n  from, fM, fm, fp, fpr, fb,\r\n  to, tM, tm, tp, tpr, tb) => {\r\n  if (isX(fM)) {\r\n    from = ''\r\n  } else if (isX(fm)) {\r\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\r\n  } else if (isX(fp)) {\r\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\r\n  } else if (fpr) {\r\n    from = `>=${from}`\r\n  } else {\r\n    from = `>=${from}${incPr ? '-0' : ''}`\r\n  }\r\n\r\n  if (isX(tM)) {\r\n    to = ''\r\n  } else if (isX(tm)) {\r\n    to = `<${+tM + 1}.0.0-0`\r\n  } else if (isX(tp)) {\r\n    to = `<${tM}.${+tm + 1}.0-0`\r\n  } else if (tpr) {\r\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\r\n  } else if (incPr) {\r\n    to = `<${tM}.${tm}.${+tp + 1}-0`\r\n  } else {\r\n    to = `<=${to}`\r\n  }\r\n\r\n  return (`${from} ${to}`).trim()\r\n}\r\n\r\nconst testSet = (set, version, options) => {\r\n  for (let i = 0; i < set.length; i++) {\r\n    if (!set[i].test(version)) {\r\n      return false\r\n    }\r\n  }\r\n\r\n  if (version.prerelease.length && !options.includePrerelease) {\r\n    // Find the set of versions that are allowed to have prereleases\r\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\r\n    // That should allow `1.2.3-pr.2` to pass.\r\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\r\n    // even though it's within the range set by the comparators.\r\n    for (let i = 0; i < set.length; i++) {\r\n      debug(set[i].semver)\r\n      if (set[i].semver === Comparator.ANY) {\r\n        continue\r\n      }\r\n\r\n      if (set[i].semver.prerelease.length > 0) {\r\n        const allowed = set[i].semver\r\n        if (allowed.major === version.major &&\r\n            allowed.minor === version.minor &&\r\n            allowed.patch === version.patch) {\r\n          return true\r\n        }\r\n      }\r\n    }\r\n\r\n    // Version has a -pre, but it's not one of the ones we like.\r\n    return false\r\n  }\r\n\r\n  return true\r\n}\r\n","const debug = require('../internal/debug')\r\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\r\nconst { re, t } = require('../internal/re')\r\n\r\nconst parseOptions = require('../internal/parse-options')\r\nconst { compareIdentifiers } = require('../internal/identifiers')\r\nclass SemVer {\r\n  constructor (version, options) {\r\n    options = parseOptions(options)\r\n\r\n    if (version instanceof SemVer) {\r\n      if (version.loose === !!options.loose &&\r\n          version.includePrerelease === !!options.includePrerelease) {\r\n        return version\r\n      } else {\r\n        version = version.version\r\n      }\r\n    } else if (typeof version !== 'string') {\r\n      throw new TypeError(`Invalid Version: ${version}`)\r\n    }\r\n\r\n    if (version.length > MAX_LENGTH) {\r\n      throw new TypeError(\r\n        `version is longer than ${MAX_LENGTH} characters`\r\n      )\r\n    }\r\n\r\n    debug('SemVer', version, options)\r\n    this.options = options\r\n    this.loose = !!options.loose\r\n    // this isn't actually relevant for versions, but keep it so that we\r\n    // don't run into trouble passing this.options around.\r\n    this.includePrerelease = !!options.includePrerelease\r\n\r\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\r\n\r\n    if (!m) {\r\n      throw new TypeError(`Invalid Version: ${version}`)\r\n    }\r\n\r\n    this.raw = version\r\n\r\n    // these are actually numbers\r\n    this.major = +m[1]\r\n    this.minor = +m[2]\r\n    this.patch = +m[3]\r\n\r\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\r\n      throw new TypeError('Invalid major version')\r\n    }\r\n\r\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\r\n      throw new TypeError('Invalid minor version')\r\n    }\r\n\r\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\r\n      throw new TypeError('Invalid patch version')\r\n    }\r\n\r\n    // numberify any prerelease numeric ids\r\n    if (!m[4]) {\r\n      this.prerelease = []\r\n    } else {\r\n      this.prerelease = m[4].split('.').map((id) => {\r\n        if (/^[0-9]+$/.test(id)) {\r\n          const num = +id\r\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\r\n            return num\r\n          }\r\n        }\r\n        return id\r\n      })\r\n    }\r\n\r\n    this.build = m[5] ? m[5].split('.') : []\r\n    this.format()\r\n  }\r\n\r\n  format () {\r\n    this.version = `${this.major}.${this.minor}.${this.patch}`\r\n    if (this.prerelease.length) {\r\n      this.version += `-${this.prerelease.join('.')}`\r\n    }\r\n    return this.version\r\n  }\r\n\r\n  toString () {\r\n    return this.version\r\n  }\r\n\r\n  compare (other) {\r\n    debug('SemVer.compare', this.version, this.options, other)\r\n    if (!(other instanceof SemVer)) {\r\n      if (typeof other === 'string' && other === this.version) {\r\n        return 0\r\n      }\r\n      other = new SemVer(other, this.options)\r\n    }\r\n\r\n    if (other.version === this.version) {\r\n      return 0\r\n    }\r\n\r\n    return this.compareMain(other) || this.comparePre(other)\r\n  }\r\n\r\n  compareMain (other) {\r\n    if (!(other instanceof SemVer)) {\r\n      other = new SemVer(other, this.options)\r\n    }\r\n\r\n    return (\r\n      compareIdentifiers(this.major, other.major) ||\r\n      compareIdentifiers(this.minor, other.minor) ||\r\n      compareIdentifiers(this.patch, other.patch)\r\n    )\r\n  }\r\n\r\n  comparePre (other) {\r\n    if (!(other instanceof SemVer)) {\r\n      other = new SemVer(other, this.options)\r\n    }\r\n\r\n    // NOT having a prerelease is > having one\r\n    if (this.prerelease.length && !other.prerelease.length) {\r\n      return -1\r\n    } else if (!this.prerelease.length && other.prerelease.length) {\r\n      return 1\r\n    } else if (!this.prerelease.length && !other.prerelease.length) {\r\n      return 0\r\n    }\r\n\r\n    let i = 0\r\n    do {\r\n      const a = this.prerelease[i]\r\n      const b = other.prerelease[i]\r\n      debug('prerelease compare', i, a, b)\r\n      if (a === undefined && b === undefined) {\r\n        return 0\r\n      } else if (b === undefined) {\r\n        return 1\r\n      } else if (a === undefined) {\r\n        return -1\r\n      } else if (a === b) {\r\n        continue\r\n      } else {\r\n        return compareIdentifiers(a, b)\r\n      }\r\n    } while (++i)\r\n  }\r\n\r\n  compareBuild (other) {\r\n    if (!(other instanceof SemVer)) {\r\n      other = new SemVer(other, this.options)\r\n    }\r\n\r\n    let i = 0\r\n    do {\r\n      const a = this.build[i]\r\n      const b = other.build[i]\r\n      debug('prerelease compare', i, a, b)\r\n      if (a === undefined && b === undefined) {\r\n        return 0\r\n      } else if (b === undefined) {\r\n        return 1\r\n      } else if (a === undefined) {\r\n        return -1\r\n      } else if (a === b) {\r\n        continue\r\n      } else {\r\n        return compareIdentifiers(a, b)\r\n      }\r\n    } while (++i)\r\n  }\r\n\r\n  // preminor will bump the version up to the next minor release, and immediately\r\n  // down to pre-release. premajor and prepatch work the same way.\r\n  inc (release, identifier) {\r\n    switch (release) {\r\n      case 'premajor':\r\n        this.prerelease.length = 0\r\n        this.patch = 0\r\n        this.minor = 0\r\n        this.major++\r\n        this.inc('pre', identifier)\r\n        break\r\n      case 'preminor':\r\n        this.prerelease.length = 0\r\n        this.patch = 0\r\n        this.minor++\r\n        this.inc('pre', identifier)\r\n        break\r\n      case 'prepatch':\r\n        // If this is already a prerelease, it will bump to the next version\r\n        // drop any prereleases that might already exist, since they are not\r\n        // relevant at this point.\r\n        this.prerelease.length = 0\r\n        this.inc('patch', identifier)\r\n        this.inc('pre', identifier)\r\n        break\r\n      // If the input is a non-prerelease version, this acts the same as\r\n      // prepatch.\r\n      case 'prerelease':\r\n        if (this.prerelease.length === 0) {\r\n          this.inc('patch', identifier)\r\n        }\r\n        this.inc('pre', identifier)\r\n        break\r\n\r\n      case 'major':\r\n        // If this is a pre-major version, bump up to the same major version.\r\n        // Otherwise increment major.\r\n        // 1.0.0-5 bumps to 1.0.0\r\n        // 1.1.0 bumps to 2.0.0\r\n        if (\r\n          this.minor !== 0 ||\r\n          this.patch !== 0 ||\r\n          this.prerelease.length === 0\r\n        ) {\r\n          this.major++\r\n        }\r\n        this.minor = 0\r\n        this.patch = 0\r\n        this.prerelease = []\r\n        break\r\n      case 'minor':\r\n        // If this is a pre-minor version, bump up to the same minor version.\r\n        // Otherwise increment minor.\r\n        // 1.2.0-5 bumps to 1.2.0\r\n        // 1.2.1 bumps to 1.3.0\r\n        if (this.patch !== 0 || this.prerelease.length === 0) {\r\n          this.minor++\r\n        }\r\n        this.patch = 0\r\n        this.prerelease = []\r\n        break\r\n      case 'patch':\r\n        // If this is not a pre-release version, it will increment the patch.\r\n        // If it is a pre-release it will bump up to the same patch version.\r\n        // 1.2.0-5 patches to 1.2.0\r\n        // 1.2.0 patches to 1.2.1\r\n        if (this.prerelease.length === 0) {\r\n          this.patch++\r\n        }\r\n        this.prerelease = []\r\n        break\r\n      // This probably shouldn't be used publicly.\r\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\r\n      case 'pre':\r\n        if (this.prerelease.length === 0) {\r\n          this.prerelease = [0]\r\n        } else {\r\n          let i = this.prerelease.length\r\n          while (--i >= 0) {\r\n            if (typeof this.prerelease[i] === 'number') {\r\n              this.prerelease[i]++\r\n              i = -2\r\n            }\r\n          }\r\n          if (i === -1) {\r\n            // didn't increment anything\r\n            this.prerelease.push(0)\r\n          }\r\n        }\r\n        if (identifier) {\r\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\r\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\r\n          if (this.prerelease[0] === identifier) {\r\n            if (isNaN(this.prerelease[1])) {\r\n              this.prerelease = [identifier, 0]\r\n            }\r\n          } else {\r\n            this.prerelease = [identifier, 0]\r\n          }\r\n        }\r\n        break\r\n\r\n      default:\r\n        throw new Error(`invalid increment argument: ${release}`)\r\n    }\r\n    this.format()\r\n    this.raw = this.version\r\n    return this\r\n  }\r\n}\r\n\r\nmodule.exports = SemVer\r\n","const parse = require('./parse')\r\nconst clean = (version, options) => {\r\n  const s = parse(version.trim().replace(/^[=v]+/, ''), options)\r\n  return s ? s.version : null\r\n}\r\nmodule.exports = clean\r\n","const eq = require('./eq')\r\nconst neq = require('./neq')\r\nconst gt = require('./gt')\r\nconst gte = require('./gte')\r\nconst lt = require('./lt')\r\nconst lte = require('./lte')\r\n\r\nconst cmp = (a, op, b, loose) => {\r\n  switch (op) {\r\n    case '===':\r\n      if (typeof a === 'object')\r\n        a = a.version\r\n      if (typeof b === 'object')\r\n        b = b.version\r\n      return a === b\r\n\r\n    case '!==':\r\n      if (typeof a === 'object')\r\n        a = a.version\r\n      if (typeof b === 'object')\r\n        b = b.version\r\n      return a !== b\r\n\r\n    case '':\r\n    case '=':\r\n    case '==':\r\n      return eq(a, b, loose)\r\n\r\n    case '!=':\r\n      return neq(a, b, loose)\r\n\r\n    case '>':\r\n      return gt(a, b, loose)\r\n\r\n    case '>=':\r\n      return gte(a, b, loose)\r\n\r\n    case '<':\r\n      return lt(a, b, loose)\r\n\r\n    case '<=':\r\n      return lte(a, b, loose)\r\n\r\n    default:\r\n      throw new TypeError(`Invalid operator: ${op}`)\r\n  }\r\n}\r\nmodule.exports = cmp\r\n","const SemVer = require('../classes/semver')\r\nconst parse = require('./parse')\r\nconst {re, t} = require('../internal/re')\r\n\r\nconst coerce = (version, options) => {\r\n  if (version instanceof SemVer) {\r\n    return version\r\n  }\r\n\r\n  if (typeof version === 'number') {\r\n    version = String(version)\r\n  }\r\n\r\n  if (typeof version !== 'string') {\r\n    return null\r\n  }\r\n\r\n  options = options || {}\r\n\r\n  let match = null\r\n  if (!options.rtl) {\r\n    match = version.match(re[t.COERCE])\r\n  } else {\r\n    // Find the right-most coercible string that does not share\r\n    // a terminus with a more left-ward coercible string.\r\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\r\n    //\r\n    // Walk through the string checking with a /g regexp\r\n    // Manually set the index so as to pick up overlapping matches.\r\n    // Stop when we get a match that ends at the string end, since no\r\n    // coercible string can be more right-ward without the same terminus.\r\n    let next\r\n    while ((next = re[t.COERCERTL].exec(version)) &&\r\n        (!match || match.index + match[0].length !== version.length)\r\n    ) {\r\n      if (!match ||\r\n            next.index + next[0].length !== match.index + match[0].length) {\r\n        match = next\r\n      }\r\n      re[t.COERCERTL].lastIndex = next.index + next[1].length + next[2].length\r\n    }\r\n    // leave it in a clean state\r\n    re[t.COERCERTL].lastIndex = -1\r\n  }\r\n\r\n  if (match === null)\r\n    return null\r\n\r\n  return parse(`${match[2]}.${match[3] || '0'}.${match[4] || '0'}`, options)\r\n}\r\nmodule.exports = coerce\r\n","const SemVer = require('../classes/semver')\r\nconst compareBuild = (a, b, loose) => {\r\n  const versionA = new SemVer(a, loose)\r\n  const versionB = new SemVer(b, loose)\r\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\r\n}\r\nmodule.exports = compareBuild\r\n","const compare = require('./compare')\r\nconst compareLoose = (a, b) => compare(a, b, true)\r\nmodule.exports = compareLoose\r\n","const SemVer = require('../classes/semver')\r\nconst compare = (a, b, loose) =>\r\n  new SemVer(a, loose).compare(new SemVer(b, loose))\r\n\r\nmodule.exports = compare\r\n","const parse = require('./parse')\r\nconst eq = require('./eq')\r\n\r\nconst diff = (version1, version2) => {\r\n  if (eq(version1, version2)) {\r\n    return null\r\n  } else {\r\n    const v1 = parse(version1)\r\n    const v2 = parse(version2)\r\n    const hasPre = v1.prerelease.length || v2.prerelease.length\r\n    const prefix = hasPre ? 'pre' : ''\r\n    const defaultResult = hasPre ? 'prerelease' : ''\r\n    for (const key in v1) {\r\n      if (key === 'major' || key === 'minor' || key === 'patch') {\r\n        if (v1[key] !== v2[key]) {\r\n          return prefix + key\r\n        }\r\n      }\r\n    }\r\n    return defaultResult // may be undefined\r\n  }\r\n}\r\nmodule.exports = diff\r\n","const compare = require('./compare')\r\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\r\nmodule.exports = eq\r\n","const compare = require('./compare')\r\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\r\nmodule.exports = gt\r\n","const compare = require('./compare')\r\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\r\nmodule.exports = gte\r\n","const SemVer = require('../classes/semver')\r\n\r\nconst inc = (version, release, options, identifier) => {\r\n  if (typeof (options) === 'string') {\r\n    identifier = options\r\n    options = undefined\r\n  }\r\n\r\n  try {\r\n    return new SemVer(version, options).inc(release, identifier).version\r\n  } catch (er) {\r\n    return null\r\n  }\r\n}\r\nmodule.exports = inc\r\n","const compare = require('./compare')\r\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\r\nmodule.exports = lt\r\n","const compare = require('./compare')\r\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\r\nmodule.exports = lte\r\n","const SemVer = require('../classes/semver')\r\nconst major = (a, loose) => new SemVer(a, loose).major\r\nmodule.exports = major\r\n","const SemVer = require('../classes/semver')\r\nconst minor = (a, loose) => new SemVer(a, loose).minor\r\nmodule.exports = minor\r\n","const compare = require('./compare')\r\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\r\nmodule.exports = neq\r\n","const {MAX_LENGTH} = require('../internal/constants')\r\nconst { re, t } = require('../internal/re')\r\nconst SemVer = require('../classes/semver')\r\n\r\nconst parseOptions = require('../internal/parse-options')\r\nconst parse = (version, options) => {\r\n  options = parseOptions(options)\r\n\r\n  if (version instanceof SemVer) {\r\n    return version\r\n  }\r\n\r\n  if (typeof version !== 'string') {\r\n    return null\r\n  }\r\n\r\n  if (version.length > MAX_LENGTH) {\r\n    return null\r\n  }\r\n\r\n  const r = options.loose ? re[t.LOOSE] : re[t.FULL]\r\n  if (!r.test(version)) {\r\n    return null\r\n  }\r\n\r\n  try {\r\n    return new SemVer(version, options)\r\n  } catch (er) {\r\n    return null\r\n  }\r\n}\r\n\r\nmodule.exports = parse\r\n","const SemVer = require('../classes/semver')\r\nconst patch = (a, loose) => new SemVer(a, loose).patch\r\nmodule.exports = patch\r\n","const parse = require('./parse')\r\nconst prerelease = (version, options) => {\r\n  const parsed = parse(version, options)\r\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\r\n}\r\nmodule.exports = prerelease\r\n","const compare = require('./compare')\r\nconst rcompare = (a, b, loose) => compare(b, a, loose)\r\nmodule.exports = rcompare\r\n","const compareBuild = require('./compare-build')\r\nconst rsort = (list, loose) => list.sort((a, b) => compareBuild(b, a, loose))\r\nmodule.exports = rsort\r\n","const Range = require('../classes/range')\r\nconst satisfies = (version, range, options) => {\r\n  try {\r\n    range = new Range(range, options)\r\n  } catch (er) {\r\n    return false\r\n  }\r\n  return range.test(version)\r\n}\r\nmodule.exports = satisfies\r\n","const compareBuild = require('./compare-build')\r\nconst sort = (list, loose) => list.sort((a, b) => compareBuild(a, b, loose))\r\nmodule.exports = sort\r\n","const parse = require('./parse')\r\nconst valid = (version, options) => {\r\n  const v = parse(version, options)\r\n  return v ? v.version : null\r\n}\r\nmodule.exports = valid\r\n","// just pre-load all the stuff that index.js lazily exports\r\nconst internalRe = require('./internal/re')\r\nmodule.exports = {\r\n  re: internalRe.re,\r\n  src: internalRe.src,\r\n  tokens: internalRe.t,\r\n  SEMVER_SPEC_VERSION: require('./internal/constants').SEMVER_SPEC_VERSION,\r\n  SemVer: require('./classes/semver'),\r\n  compareIdentifiers: require('./internal/identifiers').compareIdentifiers,\r\n  rcompareIdentifiers: require('./internal/identifiers').rcompareIdentifiers,\r\n  parse: require('./functions/parse'),\r\n  valid: require('./functions/valid'),\r\n  clean: require('./functions/clean'),\r\n  inc: require('./functions/inc'),\r\n  diff: require('./functions/diff'),\r\n  major: require('./functions/major'),\r\n  minor: require('./functions/minor'),\r\n  patch: require('./functions/patch'),\r\n  prerelease: require('./functions/prerelease'),\r\n  compare: require('./functions/compare'),\r\n  rcompare: require('./functions/rcompare'),\r\n  compareLoose: require('./functions/compare-loose'),\r\n  compareBuild: require('./functions/compare-build'),\r\n  sort: require('./functions/sort'),\r\n  rsort: require('./functions/rsort'),\r\n  gt: require('./functions/gt'),\r\n  lt: require('./functions/lt'),\r\n  eq: require('./functions/eq'),\r\n  neq: require('./functions/neq'),\r\n  gte: require('./functions/gte'),\r\n  lte: require('./functions/lte'),\r\n  cmp: require('./functions/cmp'),\r\n  coerce: require('./functions/coerce'),\r\n  Comparator: require('./classes/comparator'),\r\n  Range: require('./classes/range'),\r\n  satisfies: require('./functions/satisfies'),\r\n  toComparators: require('./ranges/to-comparators'),\r\n  maxSatisfying: require('./ranges/max-satisfying'),\r\n  minSatisfying: require('./ranges/min-satisfying'),\r\n  minVersion: require('./ranges/min-version'),\r\n  validRange: require('./ranges/valid'),\r\n  outside: require('./ranges/outside'),\r\n  gtr: require('./ranges/gtr'),\r\n  ltr: require('./ranges/ltr'),\r\n  intersects: require('./ranges/intersects'),\r\n  simplifyRange: require('./ranges/simplify'),\r\n  subset: require('./ranges/subset'),\r\n}\r\n","// Note: this is the semver.org version of the spec that it implements\r\n// Not necessarily the package version of this code.\r\nconst SEMVER_SPEC_VERSION = '2.0.0'\r\n\r\nconst MAX_LENGTH = 256\r\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\r\n  /* istanbul ignore next */ 9007199254740991\r\n\r\n// Max safe segment length for coercion.\r\nconst MAX_SAFE_COMPONENT_LENGTH = 16\r\n\r\nmodule.exports = {\r\n  SEMVER_SPEC_VERSION,\r\n  MAX_LENGTH,\r\n  MAX_SAFE_INTEGER,\r\n  MAX_SAFE_COMPONENT_LENGTH\r\n}\r\n","const debug = (\r\n  typeof process === 'object' &&\r\n  process.env &&\r\n  process.env.NODE_DEBUG &&\r\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\r\n) ? (...args) => console.error('SEMVER', ...args)\r\n  : () => {}\r\n\r\nmodule.exports = debug\r\n","const numeric = /^[0-9]+$/\r\nconst compareIdentifiers = (a, b) => {\r\n  const anum = numeric.test(a)\r\n  const bnum = numeric.test(b)\r\n\r\n  if (anum && bnum) {\r\n    a = +a\r\n    b = +b\r\n  }\r\n\r\n  return a === b ? 0\r\n    : (anum && !bnum) ? -1\r\n    : (bnum && !anum) ? 1\r\n    : a < b ? -1\r\n    : 1\r\n}\r\n\r\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\r\n\r\nmodule.exports = {\r\n  compareIdentifiers,\r\n  rcompareIdentifiers\r\n}\r\n","// parse out just the options we care about so we always get a consistent\r\n// obj with keys in a consistent order.\r\nconst opts = ['includePrerelease', 'loose', 'rtl']\r\nconst parseOptions = options =>\r\n  !options ? {}\r\n  : typeof options !== 'object' ? { loose: true }\r\n  : opts.filter(k => options[k]).reduce((options, k) => {\r\n    options[k] = true\r\n    return options\r\n  }, {})\r\nmodule.exports = parseOptions\r\n","const { MAX_SAFE_COMPONENT_LENGTH } = require('./constants')\r\nconst debug = require('./debug')\r\nexports = module.exports = {}\r\n\r\n// The actual regexps go on exports.re\r\nconst re = exports.re = []\r\nconst src = exports.src = []\r\nconst t = exports.t = {}\r\nlet R = 0\r\n\r\nconst createToken = (name, value, isGlobal) => {\r\n  const index = R++\r\n  debug(index, value)\r\n  t[name] = index\r\n  src[index] = value\r\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\r\n}\r\n\r\n// The following Regular Expressions can be used for tokenizing,\r\n// validating, and parsing SemVer version strings.\r\n\r\n// ## Numeric Identifier\r\n// A single `0`, or a non-zero digit followed by zero or more digits.\r\n\r\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\r\ncreateToken('NUMERICIDENTIFIERLOOSE', '[0-9]+')\r\n\r\n// ## Non-numeric Identifier\r\n// Zero or more digits, followed by a letter or hyphen, and then zero or\r\n// more letters, digits, or hyphens.\r\n\r\ncreateToken('NONNUMERICIDENTIFIER', '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*')\r\n\r\n// ## Main Version\r\n// Three dot-separated numeric identifiers.\r\n\r\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\r\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\r\n                   `(${src[t.NUMERICIDENTIFIER]})`)\r\n\r\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\r\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\r\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\r\n\r\n// ## Pre-release Version Identifier\r\n// A numeric identifier, or a non-numeric identifier.\r\n\r\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\r\n}|${src[t.NONNUMERICIDENTIFIER]})`)\r\n\r\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\r\n}|${src[t.NONNUMERICIDENTIFIER]})`)\r\n\r\n// ## Pre-release Version\r\n// Hyphen, followed by one or more dot-separated pre-release version\r\n// identifiers.\r\n\r\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\r\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\r\n\r\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\r\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\r\n\r\n// ## Build Metadata Identifier\r\n// Any combination of digits, letters, or hyphens.\r\n\r\ncreateToken('BUILDIDENTIFIER', '[0-9A-Za-z-]+')\r\n\r\n// ## Build Metadata\r\n// Plus sign, followed by one or more period-separated build metadata\r\n// identifiers.\r\n\r\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\r\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\r\n\r\n// ## Full Version String\r\n// A main version, followed optionally by a pre-release version and\r\n// build metadata.\r\n\r\n// Note that the only major, minor, patch, and pre-release sections of\r\n// the version string are capturing groups.  The build metadata is not a\r\n// capturing group, because it should not ever be used in version\r\n// comparison.\r\n\r\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\r\n}${src[t.PRERELEASE]}?${\r\n  src[t.BUILD]}?`)\r\n\r\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\r\n\r\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\r\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\r\n// common in the npm registry.\r\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\r\n}${src[t.PRERELEASELOOSE]}?${\r\n  src[t.BUILD]}?`)\r\n\r\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\r\n\r\ncreateToken('GTLT', '((?:<|>)?=?)')\r\n\r\n// Something like \"2.*\" or \"1.2.x\".\r\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\r\n// Only the first item is strictly required.\r\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\r\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\r\n\r\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\r\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\r\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\r\n                   `(?:${src[t.PRERELEASE]})?${\r\n                     src[t.BUILD]}?` +\r\n                   `)?)?`)\r\n\r\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\r\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\r\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\r\n                        `(?:${src[t.PRERELEASELOOSE]})?${\r\n                          src[t.BUILD]}?` +\r\n                        `)?)?`)\r\n\r\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\r\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\r\n\r\n// Coercion.\r\n// Extract anything that could conceivably be a part of a valid semver\r\ncreateToken('COERCE', `${'(^|[^\\\\d])' +\r\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\r\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\r\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\r\n              `(?:$|[^\\\\d])`)\r\ncreateToken('COERCERTL', src[t.COERCE], true)\r\n\r\n// Tilde ranges.\r\n// Meaning is \"reasonably at or greater than\"\r\ncreateToken('LONETILDE', '(?:~>?)')\r\n\r\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\r\nexports.tildeTrimReplace = '$1~'\r\n\r\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\r\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\r\n\r\n// Caret ranges.\r\n// Meaning is \"at least and backwards compatible with\"\r\ncreateToken('LONECARET', '(?:\\\\^)')\r\n\r\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\r\nexports.caretTrimReplace = '$1^'\r\n\r\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\r\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\r\n\r\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\r\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\r\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\r\n\r\n// An expression to strip any whitespace between the gtlt and the thing\r\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\r\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\r\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\r\nexports.comparatorTrimReplace = '$1$2$3'\r\n\r\n// Something like `1.2.3 - 1.2.4`\r\n// Note that these all use the loose form, because they'll be\r\n// checked against either the strict or loose comparator form\r\n// later.\r\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\r\n                   `\\\\s+-\\\\s+` +\r\n                   `(${src[t.XRANGEPLAIN]})` +\r\n                   `\\\\s*$`)\r\n\r\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\r\n                        `\\\\s+-\\\\s+` +\r\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\r\n                        `\\\\s*$`)\r\n\r\n// Star ranges basically just allow anything at all.\r\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\r\n// >=0.0.0 is like a star\r\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\.0\\.0\\\\s*$')\r\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\.0\\.0-0\\\\s*$')\r\n","// Determine if version is greater than all the versions possible in the range.\r\nconst outside = require('./outside')\r\nconst gtr = (version, range, options) => outside(version, range, '>', options)\r\nmodule.exports = gtr\r\n","const Range = require('../classes/range')\r\nconst intersects = (r1, r2, options) => {\r\n  r1 = new Range(r1, options)\r\n  r2 = new Range(r2, options)\r\n  return r1.intersects(r2)\r\n}\r\nmodule.exports = intersects\r\n","const outside = require('./outside')\r\n// Determine if version is less than all the versions possible in the range\r\nconst ltr = (version, range, options) => outside(version, range, '<', options)\r\nmodule.exports = ltr\r\n","const SemVer = require('../classes/semver')\r\nconst Range = require('../classes/range')\r\n\r\nconst maxSatisfying = (versions, range, options) => {\r\n  let max = null\r\n  let maxSV = null\r\n  let rangeObj = null\r\n  try {\r\n    rangeObj = new Range(range, options)\r\n  } catch (er) {\r\n    return null\r\n  }\r\n  versions.forEach((v) => {\r\n    if (rangeObj.test(v)) {\r\n      // satisfies(v, range, options)\r\n      if (!max || maxSV.compare(v) === -1) {\r\n        // compare(max, v, true)\r\n        max = v\r\n        maxSV = new SemVer(max, options)\r\n      }\r\n    }\r\n  })\r\n  return max\r\n}\r\nmodule.exports = maxSatisfying\r\n","const SemVer = require('../classes/semver')\r\nconst Range = require('../classes/range')\r\nconst minSatisfying = (versions, range, options) => {\r\n  let min = null\r\n  let minSV = null\r\n  let rangeObj = null\r\n  try {\r\n    rangeObj = new Range(range, options)\r\n  } catch (er) {\r\n    return null\r\n  }\r\n  versions.forEach((v) => {\r\n    if (rangeObj.test(v)) {\r\n      // satisfies(v, range, options)\r\n      if (!min || minSV.compare(v) === 1) {\r\n        // compare(min, v, true)\r\n        min = v\r\n        minSV = new SemVer(min, options)\r\n      }\r\n    }\r\n  })\r\n  return min\r\n}\r\nmodule.exports = minSatisfying\r\n","const SemVer = require('../classes/semver')\r\nconst Range = require('../classes/range')\r\nconst gt = require('../functions/gt')\r\n\r\nconst minVersion = (range, loose) => {\r\n  range = new Range(range, loose)\r\n\r\n  let minver = new SemVer('0.0.0')\r\n  if (range.test(minver)) {\r\n    return minver\r\n  }\r\n\r\n  minver = new SemVer('0.0.0-0')\r\n  if (range.test(minver)) {\r\n    return minver\r\n  }\r\n\r\n  minver = null\r\n  for (let i = 0; i < range.set.length; ++i) {\r\n    const comparators = range.set[i]\r\n\r\n    let setMin = null\r\n    comparators.forEach((comparator) => {\r\n      // Clone to avoid manipulating the comparator's semver object.\r\n      const compver = new SemVer(comparator.semver.version)\r\n      switch (comparator.operator) {\r\n        case '>':\r\n          if (compver.prerelease.length === 0) {\r\n            compver.patch++\r\n          } else {\r\n            compver.prerelease.push(0)\r\n          }\r\n          compver.raw = compver.format()\r\n          /* fallthrough */\r\n        case '':\r\n        case '>=':\r\n          if (!setMin || gt(compver, setMin)) {\r\n            setMin = compver\r\n          }\r\n          break\r\n        case '<':\r\n        case '<=':\r\n          /* Ignore maximum versions */\r\n          break\r\n        /* istanbul ignore next */\r\n        default:\r\n          throw new Error(`Unexpected operation: ${comparator.operator}`)\r\n      }\r\n    })\r\n    if (setMin && (!minver || gt(minver, setMin)))\r\n      minver = setMin\r\n  }\r\n\r\n  if (minver && range.test(minver)) {\r\n    return minver\r\n  }\r\n\r\n  return null\r\n}\r\nmodule.exports = minVersion\r\n","const SemVer = require('../classes/semver')\r\nconst Comparator = require('../classes/comparator')\r\nconst {ANY} = Comparator\r\nconst Range = require('../classes/range')\r\nconst satisfies = require('../functions/satisfies')\r\nconst gt = require('../functions/gt')\r\nconst lt = require('../functions/lt')\r\nconst lte = require('../functions/lte')\r\nconst gte = require('../functions/gte')\r\n\r\nconst outside = (version, range, hilo, options) => {\r\n  version = new SemVer(version, options)\r\n  range = new Range(range, options)\r\n\r\n  let gtfn, ltefn, ltfn, comp, ecomp\r\n  switch (hilo) {\r\n    case '>':\r\n      gtfn = gt\r\n      ltefn = lte\r\n      ltfn = lt\r\n      comp = '>'\r\n      ecomp = '>='\r\n      break\r\n    case '<':\r\n      gtfn = lt\r\n      ltefn = gte\r\n      ltfn = gt\r\n      comp = '<'\r\n      ecomp = '<='\r\n      break\r\n    default:\r\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\r\n  }\r\n\r\n  // If it satisfies the range it is not outside\r\n  if (satisfies(version, range, options)) {\r\n    return false\r\n  }\r\n\r\n  // From now on, variable terms are as if we're in \"gtr\" mode.\r\n  // but note that everything is flipped for the \"ltr\" function.\r\n\r\n  for (let i = 0; i < range.set.length; ++i) {\r\n    const comparators = range.set[i]\r\n\r\n    let high = null\r\n    let low = null\r\n\r\n    comparators.forEach((comparator) => {\r\n      if (comparator.semver === ANY) {\r\n        comparator = new Comparator('>=0.0.0')\r\n      }\r\n      high = high || comparator\r\n      low = low || comparator\r\n      if (gtfn(comparator.semver, high.semver, options)) {\r\n        high = comparator\r\n      } else if (ltfn(comparator.semver, low.semver, options)) {\r\n        low = comparator\r\n      }\r\n    })\r\n\r\n    // If the edge version comparator has a operator then our version\r\n    // isn't outside it\r\n    if (high.operator === comp || high.operator === ecomp) {\r\n      return false\r\n    }\r\n\r\n    // If the lowest version comparator has an operator and our version\r\n    // is less than it then it isn't higher than the range\r\n    if ((!low.operator || low.operator === comp) &&\r\n        ltefn(version, low.semver)) {\r\n      return false\r\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\r\n      return false\r\n    }\r\n  }\r\n  return true\r\n}\r\n\r\nmodule.exports = outside\r\n","// given a set of versions and a range, create a \"simplified\" range\r\n// that includes the same versions that the original range does\r\n// If the original range is shorter than the simplified one, return that.\r\nconst satisfies = require('../functions/satisfies.js')\r\nconst compare = require('../functions/compare.js')\r\nmodule.exports = (versions, range, options) => {\r\n  const set = []\r\n  let min = null\r\n  let prev = null\r\n  const v = versions.sort((a, b) => compare(a, b, options))\r\n  for (const version of v) {\r\n    const included = satisfies(version, range, options)\r\n    if (included) {\r\n      prev = version\r\n      if (!min)\r\n        min = version\r\n    } else {\r\n      if (prev) {\r\n        set.push([min, prev])\r\n      }\r\n      prev = null\r\n      min = null\r\n    }\r\n  }\r\n  if (min)\r\n    set.push([min, null])\r\n\r\n  const ranges = []\r\n  for (const [min, max] of set) {\r\n    if (min === max)\r\n      ranges.push(min)\r\n    else if (!max && min === v[0])\r\n      ranges.push('*')\r\n    else if (!max)\r\n      ranges.push(`>=${min}`)\r\n    else if (min === v[0])\r\n      ranges.push(`<=${max}`)\r\n    else\r\n      ranges.push(`${min} - ${max}`)\r\n  }\r\n  const simplified = ranges.join(' || ')\r\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\r\n  return simplified.length < original.length ? simplified : range\r\n}\r\n","const Range = require('../classes/range.js')\r\nconst Comparator = require('../classes/comparator.js')\r\nconst { ANY } = Comparator\r\nconst satisfies = require('../functions/satisfies.js')\r\nconst compare = require('../functions/compare.js')\r\n\r\n// Complex range `r1 || r2 || ...` is a subset of `R1 || R2 || ...` iff:\r\n// - Every simple range `r1, r2, ...` is a null set, OR\r\n// - Every simple range `r1, r2, ...` which is not a null set is a subset of\r\n//   some `R1, R2, ...`\r\n//\r\n// Simple range `c1 c2 ...` is a subset of simple range `C1 C2 ...` iff:\r\n// - If c is only the ANY comparator\r\n//   - If C is only the ANY comparator, return true\r\n//   - Else if in prerelease mode, return false\r\n//   - else replace c with `[>=0.0.0]`\r\n// - If C is only the ANY comparator\r\n//   - if in prerelease mode, return true\r\n//   - else replace C with `[>=0.0.0]`\r\n// - Let EQ be the set of = comparators in c\r\n// - If EQ is more than one, return true (null set)\r\n// - Let GT be the highest > or >= comparator in c\r\n// - Let LT be the lowest < or <= comparator in c\r\n// - If GT and LT, and GT.semver > LT.semver, return true (null set)\r\n// - If any C is a = range, and GT or LT are set, return false\r\n// - If EQ\r\n//   - If GT, and EQ does not satisfy GT, return true (null set)\r\n//   - If LT, and EQ does not satisfy LT, return true (null set)\r\n//   - If EQ satisfies every C, return true\r\n//   - Else return false\r\n// - If GT\r\n//   - If GT.semver is lower than any > or >= comp in C, return false\r\n//   - If GT is >=, and GT.semver does not satisfy every C, return false\r\n//   - If GT.semver has a prerelease, and not in prerelease mode\r\n//     - If no C has a prerelease and the GT.semver tuple, return false\r\n// - If LT\r\n//   - If LT.semver is greater than any < or <= comp in C, return false\r\n//   - If LT is <=, and LT.semver does not satisfy every C, return false\r\n//   - If GT.semver has a prerelease, and not in prerelease mode\r\n//     - If no C has a prerelease and the LT.semver tuple, return false\r\n// - Else return true\r\n\r\nconst subset = (sub, dom, options = {}) => {\r\n  if (sub === dom)\r\n    return true\r\n\r\n  sub = new Range(sub, options)\r\n  dom = new Range(dom, options)\r\n  let sawNonNull = false\r\n\r\n  OUTER: for (const simpleSub of sub.set) {\r\n    for (const simpleDom of dom.set) {\r\n      const isSub = simpleSubset(simpleSub, simpleDom, options)\r\n      sawNonNull = sawNonNull || isSub !== null\r\n      if (isSub)\r\n        continue OUTER\r\n    }\r\n    // the null set is a subset of everything, but null simple ranges in\r\n    // a complex range should be ignored.  so if we saw a non-null range,\r\n    // then we know this isn't a subset, but if EVERY simple range was null,\r\n    // then it is a subset.\r\n    if (sawNonNull)\r\n      return false\r\n  }\r\n  return true\r\n}\r\n\r\nconst simpleSubset = (sub, dom, options) => {\r\n  if (sub === dom)\r\n    return true\r\n\r\n  if (sub.length === 1 && sub[0].semver === ANY) {\r\n    if (dom.length === 1 && dom[0].semver === ANY)\r\n      return true\r\n    else if (options.includePrerelease)\r\n      sub = [ new Comparator('>=0.0.0-0') ]\r\n    else\r\n      sub = [ new Comparator('>=0.0.0') ]\r\n  }\r\n\r\n  if (dom.length === 1 && dom[0].semver === ANY) {\r\n    if (options.includePrerelease)\r\n      return true\r\n    else\r\n      dom = [ new Comparator('>=0.0.0') ]\r\n  }\r\n\r\n  const eqSet = new Set()\r\n  let gt, lt\r\n  for (const c of sub) {\r\n    if (c.operator === '>' || c.operator === '>=')\r\n      gt = higherGT(gt, c, options)\r\n    else if (c.operator === '<' || c.operator === '<=')\r\n      lt = lowerLT(lt, c, options)\r\n    else\r\n      eqSet.add(c.semver)\r\n  }\r\n\r\n  if (eqSet.size > 1)\r\n    return null\r\n\r\n  let gtltComp\r\n  if (gt && lt) {\r\n    gtltComp = compare(gt.semver, lt.semver, options)\r\n    if (gtltComp > 0)\r\n      return null\r\n    else if (gtltComp === 0 && (gt.operator !== '>=' || lt.operator !== '<='))\r\n      return null\r\n  }\r\n\r\n  // will iterate one or zero times\r\n  for (const eq of eqSet) {\r\n    if (gt && !satisfies(eq, String(gt), options))\r\n      return null\r\n\r\n    if (lt && !satisfies(eq, String(lt), options))\r\n      return null\r\n\r\n    for (const c of dom) {\r\n      if (!satisfies(eq, String(c), options))\r\n        return false\r\n    }\r\n\r\n    return true\r\n  }\r\n\r\n  let higher, lower\r\n  let hasDomLT, hasDomGT\r\n  // if the subset has a prerelease, we need a comparator in the superset\r\n  // with the same tuple and a prerelease, or it's not a subset\r\n  let needDomLTPre = lt &&\r\n    !options.includePrerelease &&\r\n    lt.semver.prerelease.length ? lt.semver : false\r\n  let needDomGTPre = gt &&\r\n    !options.includePrerelease &&\r\n    gt.semver.prerelease.length ? gt.semver : false\r\n  // exception: <1.2.3-0 is the same as <1.2.3\r\n  if (needDomLTPre && needDomLTPre.prerelease.length === 1 &&\r\n      lt.operator === '<' && needDomLTPre.prerelease[0] === 0) {\r\n    needDomLTPre = false\r\n  }\r\n\r\n  for (const c of dom) {\r\n    hasDomGT = hasDomGT || c.operator === '>' || c.operator === '>='\r\n    hasDomLT = hasDomLT || c.operator === '<' || c.operator === '<='\r\n    if (gt) {\r\n      if (needDomGTPre) {\r\n        if (c.semver.prerelease && c.semver.prerelease.length &&\r\n            c.semver.major === needDomGTPre.major &&\r\n            c.semver.minor === needDomGTPre.minor &&\r\n            c.semver.patch === needDomGTPre.patch) {\r\n          needDomGTPre = false\r\n        }\r\n      }\r\n      if (c.operator === '>' || c.operator === '>=') {\r\n        higher = higherGT(gt, c, options)\r\n        if (higher === c && higher !== gt)\r\n          return false\r\n      } else if (gt.operator === '>=' && !satisfies(gt.semver, String(c), options))\r\n        return false\r\n    }\r\n    if (lt) {\r\n      if (needDomLTPre) {\r\n        if (c.semver.prerelease && c.semver.prerelease.length &&\r\n            c.semver.major === needDomLTPre.major &&\r\n            c.semver.minor === needDomLTPre.minor &&\r\n            c.semver.patch === needDomLTPre.patch) {\r\n          needDomLTPre = false\r\n        }\r\n      }\r\n      if (c.operator === '<' || c.operator === '<=') {\r\n        lower = lowerLT(lt, c, options)\r\n        if (lower === c && lower !== lt)\r\n          return false\r\n      } else if (lt.operator === '<=' && !satisfies(lt.semver, String(c), options))\r\n        return false\r\n    }\r\n    if (!c.operator && (lt || gt) && gtltComp !== 0)\r\n      return false\r\n  }\r\n\r\n  // if there was a < or >, and nothing in the dom, then must be false\r\n  // UNLESS it was limited by another range in the other direction.\r\n  // Eg, >1.0.0 <1.0.1 is still a subset of <2.0.0\r\n  if (gt && hasDomLT && !lt && gtltComp !== 0)\r\n    return false\r\n\r\n  if (lt && hasDomGT && !gt && gtltComp !== 0)\r\n    return false\r\n\r\n  // we needed a prerelease range in a specific tuple, but didn't get one\r\n  // then this isn't a subset.  eg >=1.2.3-pre is not a subset of >=1.0.0,\r\n  // because it includes prereleases in the 1.2.3 tuple\r\n  if (needDomGTPre || needDomLTPre)\r\n    return false\r\n\r\n  return true\r\n}\r\n\r\n// >=1.2.3 is lower than >1.2.3\r\nconst higherGT = (a, b, options) => {\r\n  if (!a)\r\n    return b\r\n  const comp = compare(a.semver, b.semver, options)\r\n  return comp > 0 ? a\r\n    : comp < 0 ? b\r\n    : b.operator === '>' && a.operator === '>=' ? b\r\n    : a\r\n}\r\n\r\n// <=1.2.3 is higher than <1.2.3\r\nconst lowerLT = (a, b, options) => {\r\n  if (!a)\r\n    return b\r\n  const comp = compare(a.semver, b.semver, options)\r\n  return comp < 0 ? a\r\n    : comp > 0 ? b\r\n    : b.operator === '<' && a.operator === '<=' ? b\r\n    : a\r\n}\r\n\r\nmodule.exports = subset\r\n","const Range = require('../classes/range')\r\n\r\n// Mostly just for testing and legacy API reasons\r\nconst toComparators = (range, options) =>\r\n  new Range(range, options).set\r\n    .map(comp => comp.map(c => c.value).join(' ').trim().split(' '))\r\n\r\nmodule.exports = toComparators\r\n","const Range = require('../classes/range')\r\nconst validRange = (range, options) => {\r\n  try {\r\n    // Return '*' instead of '' so that truthiness works.\r\n    // This will throw if it's invalid anyway\r\n    return new Range(range, options).range || '*'\r\n  } catch (er) {\r\n    return null\r\n  }\r\n}\r\nmodule.exports = validRange\r\n","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n/// <reference path=\"../../typings/thenable.d.ts\" />\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.Trace = exports.ProgressType = exports.createMessageConnection = exports.NullLogger = exports.ConnectionOptions = exports.ConnectionStrategy = exports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = exports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = exports.CancellationToken = exports.CancellationTokenSource = exports.Emitter = exports.Event = exports.Disposable = exports.ParameterStructures = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.ErrorCodes = exports.ResponseError = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType0 = exports.RequestType = exports.RAL = void 0;\r\nexports.CancellationStrategy = void 0;\r\nconst messages_1 = require(\"../common/messages\");\r\nObject.defineProperty(exports, \"RequestType\", { enumerable: true, get: function () { return messages_1.RequestType; } });\r\nObject.defineProperty(exports, \"RequestType0\", { enumerable: true, get: function () { return messages_1.RequestType0; } });\r\nObject.defineProperty(exports, \"RequestType1\", { enumerable: true, get: function () { return messages_1.RequestType1; } });\r\nObject.defineProperty(exports, \"RequestType2\", { enumerable: true, get: function () { return messages_1.RequestType2; } });\r\nObject.defineProperty(exports, \"RequestType3\", { enumerable: true, get: function () { return messages_1.RequestType3; } });\r\nObject.defineProperty(exports, \"RequestType4\", { enumerable: true, get: function () { return messages_1.RequestType4; } });\r\nObject.defineProperty(exports, \"RequestType5\", { enumerable: true, get: function () { return messages_1.RequestType5; } });\r\nObject.defineProperty(exports, \"RequestType6\", { enumerable: true, get: function () { return messages_1.RequestType6; } });\r\nObject.defineProperty(exports, \"RequestType7\", { enumerable: true, get: function () { return messages_1.RequestType7; } });\r\nObject.defineProperty(exports, \"RequestType8\", { enumerable: true, get: function () { return messages_1.RequestType8; } });\r\nObject.defineProperty(exports, \"RequestType9\", { enumerable: true, get: function () { return messages_1.RequestType9; } });\r\nObject.defineProperty(exports, \"ResponseError\", { enumerable: true, get: function () { return messages_1.ResponseError; } });\r\nObject.defineProperty(exports, \"ErrorCodes\", { enumerable: true, get: function () { return messages_1.ErrorCodes; } });\r\nObject.defineProperty(exports, \"NotificationType\", { enumerable: true, get: function () { return messages_1.NotificationType; } });\r\nObject.defineProperty(exports, \"NotificationType0\", { enumerable: true, get: function () { return messages_1.NotificationType0; } });\r\nObject.defineProperty(exports, \"NotificationType1\", { enumerable: true, get: function () { return messages_1.NotificationType1; } });\r\nObject.defineProperty(exports, \"NotificationType2\", { enumerable: true, get: function () { return messages_1.NotificationType2; } });\r\nObject.defineProperty(exports, \"NotificationType3\", { enumerable: true, get: function () { return messages_1.NotificationType3; } });\r\nObject.defineProperty(exports, \"NotificationType4\", { enumerable: true, get: function () { return messages_1.NotificationType4; } });\r\nObject.defineProperty(exports, \"NotificationType5\", { enumerable: true, get: function () { return messages_1.NotificationType5; } });\r\nObject.defineProperty(exports, \"NotificationType6\", { enumerable: true, get: function () { return messages_1.NotificationType6; } });\r\nObject.defineProperty(exports, \"NotificationType7\", { enumerable: true, get: function () { return messages_1.NotificationType7; } });\r\nObject.defineProperty(exports, \"NotificationType8\", { enumerable: true, get: function () { return messages_1.NotificationType8; } });\r\nObject.defineProperty(exports, \"NotificationType9\", { enumerable: true, get: function () { return messages_1.NotificationType9; } });\r\nObject.defineProperty(exports, \"ParameterStructures\", { enumerable: true, get: function () { return messages_1.ParameterStructures; } });\r\nconst disposable_1 = require(\"../common/disposable\");\r\nObject.defineProperty(exports, \"Disposable\", { enumerable: true, get: function () { return disposable_1.Disposable; } });\r\nconst events_1 = require(\"../common/events\");\r\nObject.defineProperty(exports, \"Event\", { enumerable: true, get: function () { return events_1.Event; } });\r\nObject.defineProperty(exports, \"Emitter\", { enumerable: true, get: function () { return events_1.Emitter; } });\r\nconst cancellation_1 = require(\"../common/cancellation\");\r\nObject.defineProperty(exports, \"CancellationTokenSource\", { enumerable: true, get: function () { return cancellation_1.CancellationTokenSource; } });\r\nObject.defineProperty(exports, \"CancellationToken\", { enumerable: true, get: function () { return cancellation_1.CancellationToken; } });\r\nconst messageReader_1 = require(\"../common/messageReader\");\r\nObject.defineProperty(exports, \"MessageReader\", { enumerable: true, get: function () { return messageReader_1.MessageReader; } });\r\nObject.defineProperty(exports, \"AbstractMessageReader\", { enumerable: true, get: function () { return messageReader_1.AbstractMessageReader; } });\r\nObject.defineProperty(exports, \"ReadableStreamMessageReader\", { enumerable: true, get: function () { return messageReader_1.ReadableStreamMessageReader; } });\r\nconst messageWriter_1 = require(\"../common/messageWriter\");\r\nObject.defineProperty(exports, \"MessageWriter\", { enumerable: true, get: function () { return messageWriter_1.MessageWriter; } });\r\nObject.defineProperty(exports, \"AbstractMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.AbstractMessageWriter; } });\r\nObject.defineProperty(exports, \"WriteableStreamMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.WriteableStreamMessageWriter; } });\r\nconst connection_1 = require(\"../common/connection\");\r\nObject.defineProperty(exports, \"ConnectionStrategy\", { enumerable: true, get: function () { return connection_1.ConnectionStrategy; } });\r\nObject.defineProperty(exports, \"ConnectionOptions\", { enumerable: true, get: function () { return connection_1.ConnectionOptions; } });\r\nObject.defineProperty(exports, \"NullLogger\", { enumerable: true, get: function () { return connection_1.NullLogger; } });\r\nObject.defineProperty(exports, \"createMessageConnection\", { enumerable: true, get: function () { return connection_1.createMessageConnection; } });\r\nObject.defineProperty(exports, \"ProgressType\", { enumerable: true, get: function () { return connection_1.ProgressType; } });\r\nObject.defineProperty(exports, \"Trace\", { enumerable: true, get: function () { return connection_1.Trace; } });\r\nObject.defineProperty(exports, \"TraceFormat\", { enumerable: true, get: function () { return connection_1.TraceFormat; } });\r\nObject.defineProperty(exports, \"SetTraceNotification\", { enumerable: true, get: function () { return connection_1.SetTraceNotification; } });\r\nObject.defineProperty(exports, \"LogTraceNotification\", { enumerable: true, get: function () { return connection_1.LogTraceNotification; } });\r\nObject.defineProperty(exports, \"ConnectionErrors\", { enumerable: true, get: function () { return connection_1.ConnectionErrors; } });\r\nObject.defineProperty(exports, \"ConnectionError\", { enumerable: true, get: function () { return connection_1.ConnectionError; } });\r\nObject.defineProperty(exports, \"CancellationReceiverStrategy\", { enumerable: true, get: function () { return connection_1.CancellationReceiverStrategy; } });\r\nObject.defineProperty(exports, \"CancellationSenderStrategy\", { enumerable: true, get: function () { return connection_1.CancellationSenderStrategy; } });\r\nObject.defineProperty(exports, \"CancellationStrategy\", { enumerable: true, get: function () { return connection_1.CancellationStrategy; } });\r\nconst ral_1 = require(\"./ral\");\r\nexports.RAL = ral_1.default;\r\n//# sourceMappingURL=api.js.map","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CancellationTokenSource = exports.CancellationToken = void 0;\r\nconst ral_1 = require(\"./ral\");\r\nconst Is = require(\"./is\");\r\nconst events_1 = require(\"./events\");\r\nvar CancellationToken;\r\n(function (CancellationToken) {\r\n    CancellationToken.None = Object.freeze({\r\n        isCancellationRequested: false,\r\n        onCancellationRequested: events_1.Event.None\r\n    });\r\n    CancellationToken.Cancelled = Object.freeze({\r\n        isCancellationRequested: true,\r\n        onCancellationRequested: events_1.Event.None\r\n    });\r\n    function is(value) {\r\n        const candidate = value;\r\n        return candidate && (candidate === CancellationToken.None\r\n            || candidate === CancellationToken.Cancelled\r\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\r\n    }\r\n    CancellationToken.is = is;\r\n})(CancellationToken = exports.CancellationToken || (exports.CancellationToken = {}));\r\nconst shortcutEvent = Object.freeze(function (callback, context) {\r\n    const handle = ral_1.default().timer.setTimeout(callback.bind(context), 0);\r\n    return { dispose() { ral_1.default().timer.clearTimeout(handle); } };\r\n});\r\nclass MutableToken {\r\n    constructor() {\r\n        this._isCancelled = false;\r\n    }\r\n    cancel() {\r\n        if (!this._isCancelled) {\r\n            this._isCancelled = true;\r\n            if (this._emitter) {\r\n                this._emitter.fire(undefined);\r\n                this.dispose();\r\n            }\r\n        }\r\n    }\r\n    get isCancellationRequested() {\r\n        return this._isCancelled;\r\n    }\r\n    get onCancellationRequested() {\r\n        if (this._isCancelled) {\r\n            return shortcutEvent;\r\n        }\r\n        if (!this._emitter) {\r\n            this._emitter = new events_1.Emitter();\r\n        }\r\n        return this._emitter.event;\r\n    }\r\n    dispose() {\r\n        if (this._emitter) {\r\n            this._emitter.dispose();\r\n            this._emitter = undefined;\r\n        }\r\n    }\r\n}\r\nclass CancellationTokenSource {\r\n    get token() {\r\n        if (!this._token) {\r\n            // be lazy and create the token only when\r\n            // actually needed\r\n            this._token = new MutableToken();\r\n        }\r\n        return this._token;\r\n    }\r\n    cancel() {\r\n        if (!this._token) {\r\n            // save an object by returning the default\r\n            // cancelled token when cancellation happens\r\n            // before someone asks for the token\r\n            this._token = CancellationToken.Cancelled;\r\n        }\r\n        else {\r\n            this._token.cancel();\r\n        }\r\n    }\r\n    dispose() {\r\n        if (!this._token) {\r\n            // ensure to initialize with an empty token if we had none\r\n            this._token = CancellationToken.None;\r\n        }\r\n        else if (this._token instanceof MutableToken) {\r\n            // actually dispose\r\n            this._token.dispose();\r\n        }\r\n    }\r\n}\r\nexports.CancellationTokenSource = CancellationTokenSource;\r\n//# sourceMappingURL=cancellation.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.createMessageConnection = exports.ConnectionOptions = exports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.Trace = exports.NullLogger = exports.ProgressType = void 0;\r\nconst ral_1 = require(\"./ral\");\r\nconst Is = require(\"./is\");\r\nconst messages_1 = require(\"./messages\");\r\nconst linkedMap_1 = require(\"./linkedMap\");\r\nconst events_1 = require(\"./events\");\r\nconst cancellation_1 = require(\"./cancellation\");\r\nvar CancelNotification;\r\n(function (CancelNotification) {\r\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\r\n})(CancelNotification || (CancelNotification = {}));\r\nvar ProgressNotification;\r\n(function (ProgressNotification) {\r\n    ProgressNotification.type = new messages_1.NotificationType('$/progress');\r\n})(ProgressNotification || (ProgressNotification = {}));\r\nclass ProgressType {\r\n    constructor() {\r\n    }\r\n}\r\nexports.ProgressType = ProgressType;\r\nvar StarRequestHandler;\r\n(function (StarRequestHandler) {\r\n    function is(value) {\r\n        return Is.func(value);\r\n    }\r\n    StarRequestHandler.is = is;\r\n})(StarRequestHandler || (StarRequestHandler = {}));\r\nexports.NullLogger = Object.freeze({\r\n    error: () => { },\r\n    warn: () => { },\r\n    info: () => { },\r\n    log: () => { }\r\n});\r\nvar Trace;\r\n(function (Trace) {\r\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\r\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\r\n    Trace[Trace[\"Verbose\"] = 2] = \"Verbose\";\r\n})(Trace = exports.Trace || (exports.Trace = {}));\r\n(function (Trace) {\r\n    function fromString(value) {\r\n        if (!Is.string(value)) {\r\n            return Trace.Off;\r\n        }\r\n        value = value.toLowerCase();\r\n        switch (value) {\r\n            case 'off':\r\n                return Trace.Off;\r\n            case 'messages':\r\n                return Trace.Messages;\r\n            case 'verbose':\r\n                return Trace.Verbose;\r\n            default:\r\n                return Trace.Off;\r\n        }\r\n    }\r\n    Trace.fromString = fromString;\r\n    function toString(value) {\r\n        switch (value) {\r\n            case Trace.Off:\r\n                return 'off';\r\n            case Trace.Messages:\r\n                return 'messages';\r\n            case Trace.Verbose:\r\n                return 'verbose';\r\n            default:\r\n                return 'off';\r\n        }\r\n    }\r\n    Trace.toString = toString;\r\n})(Trace = exports.Trace || (exports.Trace = {}));\r\nvar TraceFormat;\r\n(function (TraceFormat) {\r\n    TraceFormat[\"Text\"] = \"text\";\r\n    TraceFormat[\"JSON\"] = \"json\";\r\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\r\n(function (TraceFormat) {\r\n    function fromString(value) {\r\n        value = value.toLowerCase();\r\n        if (value === 'json') {\r\n            return TraceFormat.JSON;\r\n        }\r\n        else {\r\n            return TraceFormat.Text;\r\n        }\r\n    }\r\n    TraceFormat.fromString = fromString;\r\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\r\nvar SetTraceNotification;\r\n(function (SetTraceNotification) {\r\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTrace');\r\n})(SetTraceNotification = exports.SetTraceNotification || (exports.SetTraceNotification = {}));\r\nvar LogTraceNotification;\r\n(function (LogTraceNotification) {\r\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTrace');\r\n})(LogTraceNotification = exports.LogTraceNotification || (exports.LogTraceNotification = {}));\r\nvar ConnectionErrors;\r\n(function (ConnectionErrors) {\r\n    /**\r\n     * The connection is closed.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\r\n    /**\r\n     * The connection got disposed.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\r\n    /**\r\n     * The connection is already in listening mode.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\r\n})(ConnectionErrors = exports.ConnectionErrors || (exports.ConnectionErrors = {}));\r\nclass ConnectionError extends Error {\r\n    constructor(code, message) {\r\n        super(message);\r\n        this.code = code;\r\n        Object.setPrototypeOf(this, ConnectionError.prototype);\r\n    }\r\n}\r\nexports.ConnectionError = ConnectionError;\r\nvar ConnectionStrategy;\r\n(function (ConnectionStrategy) {\r\n    function is(value) {\r\n        const candidate = value;\r\n        return candidate && Is.func(candidate.cancelUndispatched);\r\n    }\r\n    ConnectionStrategy.is = is;\r\n})(ConnectionStrategy = exports.ConnectionStrategy || (exports.ConnectionStrategy = {}));\r\nvar CancellationReceiverStrategy;\r\n(function (CancellationReceiverStrategy) {\r\n    CancellationReceiverStrategy.Message = Object.freeze({\r\n        createCancellationTokenSource(_) {\r\n            return new cancellation_1.CancellationTokenSource();\r\n        }\r\n    });\r\n    function is(value) {\r\n        const candidate = value;\r\n        return candidate && Is.func(candidate.createCancellationTokenSource);\r\n    }\r\n    CancellationReceiverStrategy.is = is;\r\n})(CancellationReceiverStrategy = exports.CancellationReceiverStrategy || (exports.CancellationReceiverStrategy = {}));\r\nvar CancellationSenderStrategy;\r\n(function (CancellationSenderStrategy) {\r\n    CancellationSenderStrategy.Message = Object.freeze({\r\n        sendCancellation(conn, id) {\r\n            conn.sendNotification(CancelNotification.type, { id });\r\n        },\r\n        cleanup(_) { }\r\n    });\r\n    function is(value) {\r\n        const candidate = value;\r\n        return candidate && Is.func(candidate.sendCancellation) && Is.func(candidate.cleanup);\r\n    }\r\n    CancellationSenderStrategy.is = is;\r\n})(CancellationSenderStrategy = exports.CancellationSenderStrategy || (exports.CancellationSenderStrategy = {}));\r\nvar CancellationStrategy;\r\n(function (CancellationStrategy) {\r\n    CancellationStrategy.Message = Object.freeze({\r\n        receiver: CancellationReceiverStrategy.Message,\r\n        sender: CancellationSenderStrategy.Message\r\n    });\r\n    function is(value) {\r\n        const candidate = value;\r\n        return candidate && CancellationReceiverStrategy.is(candidate.receiver) && CancellationSenderStrategy.is(candidate.sender);\r\n    }\r\n    CancellationStrategy.is = is;\r\n})(CancellationStrategy = exports.CancellationStrategy || (exports.CancellationStrategy = {}));\r\nvar ConnectionOptions;\r\n(function (ConnectionOptions) {\r\n    function is(value) {\r\n        const candidate = value;\r\n        return candidate && (CancellationStrategy.is(candidate.cancellationStrategy) || ConnectionStrategy.is(candidate.connectionStrategy));\r\n    }\r\n    ConnectionOptions.is = is;\r\n})(ConnectionOptions = exports.ConnectionOptions || (exports.ConnectionOptions = {}));\r\nvar ConnectionState;\r\n(function (ConnectionState) {\r\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\r\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\r\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\r\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\r\n})(ConnectionState || (ConnectionState = {}));\r\nfunction createMessageConnection(messageReader, messageWriter, _logger, options) {\r\n    const logger = _logger !== undefined ? _logger : exports.NullLogger;\r\n    let sequenceNumber = 0;\r\n    let notificationSquenceNumber = 0;\r\n    let unknownResponseSquenceNumber = 0;\r\n    const version = '2.0';\r\n    let starRequestHandler = undefined;\r\n    const requestHandlers = Object.create(null);\r\n    let starNotificationHandler = undefined;\r\n    const notificationHandlers = Object.create(null);\r\n    const progressHandlers = new Map();\r\n    let timer;\r\n    let messageQueue = new linkedMap_1.LinkedMap();\r\n    let responsePromises = Object.create(null);\r\n    let requestTokens = Object.create(null);\r\n    let trace = Trace.Off;\r\n    let traceFormat = TraceFormat.Text;\r\n    let tracer;\r\n    let state = ConnectionState.New;\r\n    const errorEmitter = new events_1.Emitter();\r\n    const closeEmitter = new events_1.Emitter();\r\n    const unhandledNotificationEmitter = new events_1.Emitter();\r\n    const unhandledProgressEmitter = new events_1.Emitter();\r\n    const disposeEmitter = new events_1.Emitter();\r\n    const cancellationStrategy = (options && options.cancellationStrategy) ? options.cancellationStrategy : CancellationStrategy.Message;\r\n    function createRequestQueueKey(id) {\r\n        if (id === null) {\r\n            throw new Error(`Can't send requests with id null since the response can't be correlated.`);\r\n        }\r\n        return 'req-' + id.toString();\r\n    }\r\n    function createResponseQueueKey(id) {\r\n        if (id === null) {\r\n            return 'res-unknown-' + (++unknownResponseSquenceNumber).toString();\r\n        }\r\n        else {\r\n            return 'res-' + id.toString();\r\n        }\r\n    }\r\n    function createNotificationQueueKey() {\r\n        return 'not-' + (++notificationSquenceNumber).toString();\r\n    }\r\n    function addMessageToQueue(queue, message) {\r\n        if (messages_1.isRequestMessage(message)) {\r\n            queue.set(createRequestQueueKey(message.id), message);\r\n        }\r\n        else if (messages_1.isResponseMessage(message)) {\r\n            queue.set(createResponseQueueKey(message.id), message);\r\n        }\r\n        else {\r\n            queue.set(createNotificationQueueKey(), message);\r\n        }\r\n    }\r\n    function cancelUndispatched(_message) {\r\n        return undefined;\r\n    }\r\n    function isListening() {\r\n        return state === ConnectionState.Listening;\r\n    }\r\n    function isClosed() {\r\n        return state === ConnectionState.Closed;\r\n    }\r\n    function isDisposed() {\r\n        return state === ConnectionState.Disposed;\r\n    }\r\n    function closeHandler() {\r\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\r\n            state = ConnectionState.Closed;\r\n            closeEmitter.fire(undefined);\r\n        }\r\n        // If the connection is disposed don't sent close events.\r\n    }\r\n    function readErrorHandler(error) {\r\n        errorEmitter.fire([error, undefined, undefined]);\r\n    }\r\n    function writeErrorHandler(data) {\r\n        errorEmitter.fire(data);\r\n    }\r\n    messageReader.onClose(closeHandler);\r\n    messageReader.onError(readErrorHandler);\r\n    messageWriter.onClose(closeHandler);\r\n    messageWriter.onError(writeErrorHandler);\r\n    function triggerMessageQueue() {\r\n        if (timer || messageQueue.size === 0) {\r\n            return;\r\n        }\r\n        timer = ral_1.default().timer.setImmediate(() => {\r\n            timer = undefined;\r\n            processMessageQueue();\r\n        });\r\n    }\r\n    function processMessageQueue() {\r\n        if (messageQueue.size === 0) {\r\n            return;\r\n        }\r\n        const message = messageQueue.shift();\r\n        try {\r\n            if (messages_1.isRequestMessage(message)) {\r\n                handleRequest(message);\r\n            }\r\n            else if (messages_1.isNotificationMessage(message)) {\r\n                handleNotification(message);\r\n            }\r\n            else if (messages_1.isResponseMessage(message)) {\r\n                handleResponse(message);\r\n            }\r\n            else {\r\n                handleInvalidMessage(message);\r\n            }\r\n        }\r\n        finally {\r\n            triggerMessageQueue();\r\n        }\r\n    }\r\n    const callback = (message) => {\r\n        try {\r\n            // We have received a cancellation message. Check if the message is still in the queue\r\n            // and cancel it if allowed to do so.\r\n            if (messages_1.isNotificationMessage(message) && message.method === CancelNotification.type.method) {\r\n                const key = createRequestQueueKey(message.params.id);\r\n                const toCancel = messageQueue.get(key);\r\n                if (messages_1.isRequestMessage(toCancel)) {\r\n                    const strategy = options === null || options === void 0 ? void 0 : options.connectionStrategy;\r\n                    const response = (strategy && strategy.cancelUndispatched) ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\r\n                    if (response && (response.error !== undefined || response.result !== undefined)) {\r\n                        messageQueue.delete(key);\r\n                        response.id = toCancel.id;\r\n                        traceSendingResponse(response, message.method, Date.now());\r\n                        messageWriter.write(response);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            addMessageToQueue(messageQueue, message);\r\n        }\r\n        finally {\r\n            triggerMessageQueue();\r\n        }\r\n    };\r\n    function handleRequest(requestMessage) {\r\n        if (isDisposed()) {\r\n            // we return here silently since we fired an event when the\r\n            // connection got disposed.\r\n            return;\r\n        }\r\n        function reply(resultOrError, method, startTime) {\r\n            const message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id\r\n            };\r\n            if (resultOrError instanceof messages_1.ResponseError) {\r\n                message.error = resultOrError.toJson();\r\n            }\r\n            else {\r\n                message.result = resultOrError === undefined ? null : resultOrError;\r\n            }\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        function replyError(error, method, startTime) {\r\n            const message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id,\r\n                error: error.toJson()\r\n            };\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        function replySuccess(result, method, startTime) {\r\n            // The JSON RPC defines that a response must either have a result or an error\r\n            // So we can't treat undefined as a valid response result.\r\n            if (result === undefined) {\r\n                result = null;\r\n            }\r\n            const message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id,\r\n                result: result\r\n            };\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        traceReceivedRequest(requestMessage);\r\n        const element = requestHandlers[requestMessage.method];\r\n        let type;\r\n        let requestHandler;\r\n        if (element) {\r\n            type = element.type;\r\n            requestHandler = element.handler;\r\n        }\r\n        const startTime = Date.now();\r\n        if (requestHandler || starRequestHandler) {\r\n            const tokenKey = String(requestMessage.id);\r\n            const cancellationSource = cancellationStrategy.receiver.createCancellationTokenSource(tokenKey);\r\n            requestTokens[tokenKey] = cancellationSource;\r\n            try {\r\n                let handlerResult;\r\n                if (requestHandler) {\r\n                    if (requestMessage.params === undefined) {\r\n                        if (type !== undefined && type.numberOfParams !== 0) {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines ${type.numberOfParams} params but recevied none.`), requestMessage.method, startTime);\r\n                            return;\r\n                        }\r\n                        handlerResult = requestHandler(cancellationSource.token);\r\n                    }\r\n                    else if (Array.isArray(requestMessage.params)) {\r\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byName) {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by name but received parameters by position`), requestMessage.method, startTime);\r\n                            return;\r\n                        }\r\n                        handlerResult = requestHandler(...requestMessage.params, cancellationSource.token);\r\n                    }\r\n                    else {\r\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by position but received parameters by name`), requestMessage.method, startTime);\r\n                            return;\r\n                        }\r\n                        handlerResult = requestHandler(requestMessage.params, cancellationSource.token);\r\n                    }\r\n                }\r\n                else if (starRequestHandler) {\r\n                    handlerResult = starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\r\n                }\r\n                const promise = handlerResult;\r\n                if (!handlerResult) {\r\n                    delete requestTokens[tokenKey];\r\n                    replySuccess(handlerResult, requestMessage.method, startTime);\r\n                }\r\n                else if (promise.then) {\r\n                    promise.then((resultOrError) => {\r\n                        delete requestTokens[tokenKey];\r\n                        reply(resultOrError, requestMessage.method, startTime);\r\n                    }, error => {\r\n                        delete requestTokens[tokenKey];\r\n                        if (error instanceof messages_1.ResponseError) {\r\n                            replyError(error, requestMessage.method, startTime);\r\n                        }\r\n                        else if (error && Is.string(error.message)) {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\r\n                        }\r\n                        else {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    delete requestTokens[tokenKey];\r\n                    reply(handlerResult, requestMessage.method, startTime);\r\n                }\r\n            }\r\n            catch (error) {\r\n                delete requestTokens[tokenKey];\r\n                if (error instanceof messages_1.ResponseError) {\r\n                    reply(error, requestMessage.method, startTime);\r\n                }\r\n                else if (error && Is.string(error.message)) {\r\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\r\n                }\r\n                else {\r\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\r\n        }\r\n    }\r\n    function handleResponse(responseMessage) {\r\n        if (isDisposed()) {\r\n            // See handle request.\r\n            return;\r\n        }\r\n        if (responseMessage.id === null) {\r\n            if (responseMessage.error) {\r\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\r\n            }\r\n            else {\r\n                logger.error(`Received response message without id. No further error information provided.`);\r\n            }\r\n        }\r\n        else {\r\n            const key = String(responseMessage.id);\r\n            const responsePromise = responsePromises[key];\r\n            traceReceivedResponse(responseMessage, responsePromise);\r\n            if (responsePromise) {\r\n                delete responsePromises[key];\r\n                try {\r\n                    if (responseMessage.error) {\r\n                        const error = responseMessage.error;\r\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\r\n                    }\r\n                    else if (responseMessage.result !== undefined) {\r\n                        responsePromise.resolve(responseMessage.result);\r\n                    }\r\n                    else {\r\n                        throw new Error('Should never happen.');\r\n                    }\r\n                }\r\n                catch (error) {\r\n                    if (error.message) {\r\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\r\n                    }\r\n                    else {\r\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    function handleNotification(message) {\r\n        if (isDisposed()) {\r\n            // See handle request.\r\n            return;\r\n        }\r\n        let type = undefined;\r\n        let notificationHandler;\r\n        if (message.method === CancelNotification.type.method) {\r\n            notificationHandler = (params) => {\r\n                const id = params.id;\r\n                const source = requestTokens[String(id)];\r\n                if (source) {\r\n                    source.cancel();\r\n                }\r\n            };\r\n        }\r\n        else {\r\n            const element = notificationHandlers[message.method];\r\n            if (element) {\r\n                notificationHandler = element.handler;\r\n                type = element.type;\r\n            }\r\n        }\r\n        if (notificationHandler || starNotificationHandler) {\r\n            try {\r\n                traceReceivedNotification(message);\r\n                if (notificationHandler) {\r\n                    if (message.params === undefined) {\r\n                        if (type !== undefined) {\r\n                            if (type.numberOfParams !== 0 && type.parameterStructures !== messages_1.ParameterStructures.byName) {\r\n                                logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but recevied none.`);\r\n                            }\r\n                        }\r\n                        notificationHandler();\r\n                    }\r\n                    else if (Array.isArray(message.params)) {\r\n                        if (type !== undefined) {\r\n                            if (type.parameterStructures === messages_1.ParameterStructures.byName) {\r\n                                logger.error(`Notification ${message.method} defines parameters by name but received parameters by position`);\r\n                            }\r\n                            if (type.numberOfParams !== message.params.length) {\r\n                                logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received ${message.params.length} argumennts`);\r\n                            }\r\n                        }\r\n                        notificationHandler(...message.params);\r\n                    }\r\n                    else {\r\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\r\n                            logger.error(`Notification ${message.method} defines parameters by position but received parameters by name`);\r\n                        }\r\n                        notificationHandler(message.params);\r\n                    }\r\n                }\r\n                else if (starNotificationHandler) {\r\n                    starNotificationHandler(message.method, message.params);\r\n                }\r\n            }\r\n            catch (error) {\r\n                if (error.message) {\r\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\r\n                }\r\n                else {\r\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            unhandledNotificationEmitter.fire(message);\r\n        }\r\n    }\r\n    function handleInvalidMessage(message) {\r\n        if (!message) {\r\n            logger.error('Received empty message.');\r\n            return;\r\n        }\r\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\r\n        // Test whether we find an id to reject the promise\r\n        const responseMessage = message;\r\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\r\n            const key = String(responseMessage.id);\r\n            const responseHandler = responsePromises[key];\r\n            if (responseHandler) {\r\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\r\n            }\r\n        }\r\n    }\r\n    function traceSendingRequest(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose && message.params) {\r\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n            }\r\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-request', message);\r\n        }\r\n    }\r\n    function traceSendingNotification(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.params) {\r\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    data = 'No parameters provided.\\n\\n';\r\n                }\r\n            }\r\n            tracer.log(`Sending notification '${message.method}'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-notification', message);\r\n        }\r\n    }\r\n    function traceSendingResponse(message, method, startTime) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.error && message.error.data) {\r\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    if (message.result) {\r\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\r\n                    }\r\n                    else if (message.error === undefined) {\r\n                        data = 'No result returned.\\n\\n';\r\n                    }\r\n                }\r\n            }\r\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-response', message);\r\n        }\r\n    }\r\n    function traceReceivedRequest(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose && message.params) {\r\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n            }\r\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('receive-request', message);\r\n        }\r\n    }\r\n    function traceReceivedNotification(message) {\r\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.params) {\r\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    data = 'No parameters provided.\\n\\n';\r\n                }\r\n            }\r\n            tracer.log(`Received notification '${message.method}'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('receive-notification', message);\r\n        }\r\n    }\r\n    function traceReceivedResponse(message, responsePromise) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.error && message.error.data) {\r\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    if (message.result) {\r\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\r\n                    }\r\n                    else if (message.error === undefined) {\r\n                        data = 'No result returned.\\n\\n';\r\n                    }\r\n                }\r\n            }\r\n            if (responsePromise) {\r\n                const error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\r\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\r\n            }\r\n            else {\r\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\r\n            }\r\n        }\r\n        else {\r\n            logLSPMessage('receive-response', message);\r\n        }\r\n    }\r\n    function logLSPMessage(type, message) {\r\n        if (!tracer || trace === Trace.Off) {\r\n            return;\r\n        }\r\n        const lspMessage = {\r\n            isLSPMessage: true,\r\n            type,\r\n            message,\r\n            timestamp: Date.now()\r\n        };\r\n        tracer.log(lspMessage);\r\n    }\r\n    function throwIfClosedOrDisposed() {\r\n        if (isClosed()) {\r\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\r\n        }\r\n        if (isDisposed()) {\r\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\r\n        }\r\n    }\r\n    function throwIfListening() {\r\n        if (isListening()) {\r\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\r\n        }\r\n    }\r\n    function throwIfNotListening() {\r\n        if (!isListening()) {\r\n            throw new Error('Call listen() first.');\r\n        }\r\n    }\r\n    function undefinedToNull(param) {\r\n        if (param === undefined) {\r\n            return null;\r\n        }\r\n        else {\r\n            return param;\r\n        }\r\n    }\r\n    function nullToUndefined(param) {\r\n        if (param === null) {\r\n            return undefined;\r\n        }\r\n        else {\r\n            return param;\r\n        }\r\n    }\r\n    function isNamedParam(param) {\r\n        return param !== undefined && param !== null && !Array.isArray(param) && typeof param === 'object';\r\n    }\r\n    function computeSingleParam(parameterStructures, param) {\r\n        switch (parameterStructures) {\r\n            case messages_1.ParameterStructures.auto:\r\n                if (isNamedParam(param)) {\r\n                    return nullToUndefined(param);\r\n                }\r\n                else {\r\n                    return [undefinedToNull(param)];\r\n                }\r\n                break;\r\n            case messages_1.ParameterStructures.byName:\r\n                if (!isNamedParam(param)) {\r\n                    throw new Error(`Recevied parameters by name but param is not an object literal.`);\r\n                }\r\n                return nullToUndefined(param);\r\n            case messages_1.ParameterStructures.byPosition:\r\n                return [undefinedToNull(param)];\r\n            default:\r\n                throw new Error(`Unknown parameter structure ${parameterStructures.toString()}`);\r\n        }\r\n    }\r\n    function computeMessageParams(type, params) {\r\n        let result;\r\n        const numberOfParams = type.numberOfParams;\r\n        switch (numberOfParams) {\r\n            case 0:\r\n                result = undefined;\r\n                break;\r\n            case 1:\r\n                result = computeSingleParam(type.parameterStructures, params[0]);\r\n                break;\r\n            default:\r\n                result = [];\r\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\r\n                    result.push(undefinedToNull(params[i]));\r\n                }\r\n                if (params.length < numberOfParams) {\r\n                    for (let i = params.length; i < numberOfParams; i++) {\r\n                        result.push(null);\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n    const connection = {\r\n        sendNotification: (type, ...args) => {\r\n            throwIfClosedOrDisposed();\r\n            let method;\r\n            let messageParams;\r\n            if (Is.string(type)) {\r\n                method = type;\r\n                const first = args[0];\r\n                let paramStart = 0;\r\n                let parameterStructures = messages_1.ParameterStructures.auto;\r\n                if (messages_1.ParameterStructures.is(first)) {\r\n                    paramStart = 1;\r\n                    parameterStructures = first;\r\n                }\r\n                let paramEnd = args.length;\r\n                const numberOfParams = paramEnd - paramStart;\r\n                switch (numberOfParams) {\r\n                    case 0:\r\n                        messageParams = undefined;\r\n                        break;\r\n                    case 1:\r\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\r\n                        break;\r\n                    default:\r\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\r\n                            throw new Error(`Recevied ${numberOfParams} parameters for 'by Name' notification parameter structure.`);\r\n                        }\r\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                const params = args;\r\n                method = type.method;\r\n                messageParams = computeMessageParams(type, params);\r\n            }\r\n            const notificationMessage = {\r\n                jsonrpc: version,\r\n                method: method,\r\n                params: messageParams\r\n            };\r\n            traceSendingNotification(notificationMessage);\r\n            messageWriter.write(notificationMessage);\r\n        },\r\n        onNotification: (type, handler) => {\r\n            throwIfClosedOrDisposed();\r\n            let method;\r\n            if (Is.func(type)) {\r\n                starNotificationHandler = type;\r\n            }\r\n            else if (handler) {\r\n                if (Is.string(type)) {\r\n                    method = type;\r\n                    notificationHandlers[type] = { type: undefined, handler };\r\n                }\r\n                else {\r\n                    method = type.method;\r\n                    notificationHandlers[type.method] = { type, handler };\r\n                }\r\n            }\r\n            return {\r\n                dispose: () => {\r\n                    if (method !== undefined) {\r\n                        delete notificationHandlers[method];\r\n                    }\r\n                    else {\r\n                        starNotificationHandler = undefined;\r\n                    }\r\n                }\r\n            };\r\n        },\r\n        onProgress: (_type, token, handler) => {\r\n            if (progressHandlers.has(token)) {\r\n                throw new Error(`Progress handler for token ${token} already registered`);\r\n            }\r\n            progressHandlers.set(token, handler);\r\n            return {\r\n                dispose: () => {\r\n                    progressHandlers.delete(token);\r\n                }\r\n            };\r\n        },\r\n        sendProgress: (_type, token, value) => {\r\n            connection.sendNotification(ProgressNotification.type, { token, value });\r\n        },\r\n        onUnhandledProgress: unhandledProgressEmitter.event,\r\n        sendRequest: (type, ...args) => {\r\n            throwIfClosedOrDisposed();\r\n            throwIfNotListening();\r\n            let method;\r\n            let messageParams;\r\n            let token = undefined;\r\n            if (Is.string(type)) {\r\n                method = type;\r\n                const first = args[0];\r\n                const last = args[args.length - 1];\r\n                let paramStart = 0;\r\n                let parameterStructures = messages_1.ParameterStructures.auto;\r\n                if (messages_1.ParameterStructures.is(first)) {\r\n                    paramStart = 1;\r\n                    parameterStructures = first;\r\n                }\r\n                let paramEnd = args.length;\r\n                if (cancellation_1.CancellationToken.is(last)) {\r\n                    paramEnd = paramEnd - 1;\r\n                    token = last;\r\n                }\r\n                const numberOfParams = paramEnd - paramStart;\r\n                switch (numberOfParams) {\r\n                    case 0:\r\n                        messageParams = undefined;\r\n                        break;\r\n                    case 1:\r\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\r\n                        break;\r\n                    default:\r\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\r\n                            throw new Error(`Recevied ${numberOfParams} parameters for 'by Name' request parameter structure.`);\r\n                        }\r\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                const params = args;\r\n                method = type.method;\r\n                messageParams = computeMessageParams(type, params);\r\n                const numberOfParams = type.numberOfParams;\r\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\r\n            }\r\n            const id = sequenceNumber++;\r\n            let disposable;\r\n            if (token) {\r\n                disposable = token.onCancellationRequested(() => {\r\n                    cancellationStrategy.sender.sendCancellation(connection, id);\r\n                });\r\n            }\r\n            const result = new Promise((resolve, reject) => {\r\n                const requestMessage = {\r\n                    jsonrpc: version,\r\n                    id: id,\r\n                    method: method,\r\n                    params: messageParams\r\n                };\r\n                const resolveWithCleanup = (r) => {\r\n                    resolve(r);\r\n                    cancellationStrategy.sender.cleanup(id);\r\n                    disposable === null || disposable === void 0 ? void 0 : disposable.dispose();\r\n                };\r\n                const rejectWithCleanup = (r) => {\r\n                    reject(r);\r\n                    cancellationStrategy.sender.cleanup(id);\r\n                    disposable === null || disposable === void 0 ? void 0 : disposable.dispose();\r\n                };\r\n                let responsePromise = { method: method, timerStart: Date.now(), resolve: resolveWithCleanup, reject: rejectWithCleanup };\r\n                traceSendingRequest(requestMessage);\r\n                try {\r\n                    messageWriter.write(requestMessage);\r\n                }\r\n                catch (e) {\r\n                    // Writing the message failed. So we need to reject the promise.\r\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, e.message ? e.message : 'Unknown reason'));\r\n                    responsePromise = null;\r\n                }\r\n                if (responsePromise) {\r\n                    responsePromises[String(id)] = responsePromise;\r\n                }\r\n            });\r\n            return result;\r\n        },\r\n        onRequest: (type, handler) => {\r\n            throwIfClosedOrDisposed();\r\n            let method = null;\r\n            if (StarRequestHandler.is(type)) {\r\n                method = undefined;\r\n                starRequestHandler = type;\r\n            }\r\n            else if (Is.string(type)) {\r\n                method = null;\r\n                if (handler !== undefined) {\r\n                    method = type;\r\n                    requestHandlers[type] = { handler: handler, type: undefined };\r\n                }\r\n            }\r\n            else {\r\n                if (handler !== undefined) {\r\n                    method = type.method;\r\n                    requestHandlers[type.method] = { type, handler };\r\n                }\r\n            }\r\n            return {\r\n                dispose: () => {\r\n                    if (method === null) {\r\n                        return;\r\n                    }\r\n                    if (method !== undefined) {\r\n                        delete requestHandlers[method];\r\n                    }\r\n                    else {\r\n                        starRequestHandler = undefined;\r\n                    }\r\n                }\r\n            };\r\n        },\r\n        trace: (_value, _tracer, sendNotificationOrTraceOptions) => {\r\n            let _sendNotification = false;\r\n            let _traceFormat = TraceFormat.Text;\r\n            if (sendNotificationOrTraceOptions !== undefined) {\r\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\r\n                    _sendNotification = sendNotificationOrTraceOptions;\r\n                }\r\n                else {\r\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\r\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\r\n                }\r\n            }\r\n            trace = _value;\r\n            traceFormat = _traceFormat;\r\n            if (trace === Trace.Off) {\r\n                tracer = undefined;\r\n            }\r\n            else {\r\n                tracer = _tracer;\r\n            }\r\n            if (_sendNotification && !isClosed() && !isDisposed()) {\r\n                connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\r\n            }\r\n        },\r\n        onError: errorEmitter.event,\r\n        onClose: closeEmitter.event,\r\n        onUnhandledNotification: unhandledNotificationEmitter.event,\r\n        onDispose: disposeEmitter.event,\r\n        end: () => {\r\n            messageWriter.end();\r\n        },\r\n        dispose: () => {\r\n            if (isDisposed()) {\r\n                return;\r\n            }\r\n            state = ConnectionState.Disposed;\r\n            disposeEmitter.fire(undefined);\r\n            const error = new Error('Connection got disposed.');\r\n            Object.keys(responsePromises).forEach((key) => {\r\n                responsePromises[key].reject(error);\r\n            });\r\n            responsePromises = Object.create(null);\r\n            requestTokens = Object.create(null);\r\n            messageQueue = new linkedMap_1.LinkedMap();\r\n            // Test for backwards compatibility\r\n            if (Is.func(messageWriter.dispose)) {\r\n                messageWriter.dispose();\r\n            }\r\n            if (Is.func(messageReader.dispose)) {\r\n                messageReader.dispose();\r\n            }\r\n        },\r\n        listen: () => {\r\n            throwIfClosedOrDisposed();\r\n            throwIfListening();\r\n            state = ConnectionState.Listening;\r\n            messageReader.listen(callback);\r\n        },\r\n        inspect: () => {\r\n            // eslint-disable-next-line no-console\r\n            ral_1.default().console.log('inspect');\r\n        }\r\n    };\r\n    connection.onNotification(LogTraceNotification.type, (params) => {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        tracer.log(params.message, trace === Trace.Verbose ? params.verbose : undefined);\r\n    });\r\n    connection.onNotification(ProgressNotification.type, (params) => {\r\n        const handler = progressHandlers.get(params.token);\r\n        if (handler) {\r\n            handler(params.value);\r\n        }\r\n        else {\r\n            unhandledProgressEmitter.fire(params);\r\n        }\r\n    });\r\n    return connection;\r\n}\r\nexports.createMessageConnection = createMessageConnection;\r\n//# sourceMappingURL=connection.js.map","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Disposable = void 0;\r\nvar Disposable;\r\n(function (Disposable) {\r\n    function create(func) {\r\n        return {\r\n            dispose: func\r\n        };\r\n    }\r\n    Disposable.create = create;\r\n})(Disposable = exports.Disposable || (exports.Disposable = {}));\r\n//# sourceMappingURL=disposable.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Emitter = exports.Event = void 0;\r\nconst ral_1 = require(\"./ral\");\r\nvar Event;\r\n(function (Event) {\r\n    const _disposable = { dispose() { } };\r\n    Event.None = function () { return _disposable; };\r\n})(Event = exports.Event || (exports.Event = {}));\r\nclass CallbackList {\r\n    add(callback, context = null, bucket) {\r\n        if (!this._callbacks) {\r\n            this._callbacks = [];\r\n            this._contexts = [];\r\n        }\r\n        this._callbacks.push(callback);\r\n        this._contexts.push(context);\r\n        if (Array.isArray(bucket)) {\r\n            bucket.push({ dispose: () => this.remove(callback, context) });\r\n        }\r\n    }\r\n    remove(callback, context = null) {\r\n        if (!this._callbacks) {\r\n            return;\r\n        }\r\n        let foundCallbackWithDifferentContext = false;\r\n        for (let i = 0, len = this._callbacks.length; i < len; i++) {\r\n            if (this._callbacks[i] === callback) {\r\n                if (this._contexts[i] === context) {\r\n                    // callback & context match => remove it\r\n                    this._callbacks.splice(i, 1);\r\n                    this._contexts.splice(i, 1);\r\n                    return;\r\n                }\r\n                else {\r\n                    foundCallbackWithDifferentContext = true;\r\n                }\r\n            }\r\n        }\r\n        if (foundCallbackWithDifferentContext) {\r\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\r\n        }\r\n    }\r\n    invoke(...args) {\r\n        if (!this._callbacks) {\r\n            return [];\r\n        }\r\n        const ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\r\n        for (let i = 0, len = callbacks.length; i < len; i++) {\r\n            try {\r\n                ret.push(callbacks[i].apply(contexts[i], args));\r\n            }\r\n            catch (e) {\r\n                // eslint-disable-next-line no-console\r\n                ral_1.default().console.error(e);\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n    isEmpty() {\r\n        return !this._callbacks || this._callbacks.length === 0;\r\n    }\r\n    dispose() {\r\n        this._callbacks = undefined;\r\n        this._contexts = undefined;\r\n    }\r\n}\r\nclass Emitter {\r\n    constructor(_options) {\r\n        this._options = _options;\r\n    }\r\n    /**\r\n     * For the public to allow to subscribe\r\n     * to events from this Emitter\r\n     */\r\n    get event() {\r\n        if (!this._event) {\r\n            this._event = (listener, thisArgs, disposables) => {\r\n                if (!this._callbacks) {\r\n                    this._callbacks = new CallbackList();\r\n                }\r\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\r\n                    this._options.onFirstListenerAdd(this);\r\n                }\r\n                this._callbacks.add(listener, thisArgs);\r\n                const result = {\r\n                    dispose: () => {\r\n                        if (!this._callbacks) {\r\n                            // disposable is disposed after emitter is disposed.\r\n                            return;\r\n                        }\r\n                        this._callbacks.remove(listener, thisArgs);\r\n                        result.dispose = Emitter._noop;\r\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\r\n                            this._options.onLastListenerRemove(this);\r\n                        }\r\n                    }\r\n                };\r\n                if (Array.isArray(disposables)) {\r\n                    disposables.push(result);\r\n                }\r\n                return result;\r\n            };\r\n        }\r\n        return this._event;\r\n    }\r\n    /**\r\n     * To be kept private to fire an event to\r\n     * subscribers\r\n     */\r\n    fire(event) {\r\n        if (this._callbacks) {\r\n            this._callbacks.invoke.call(this._callbacks, event);\r\n        }\r\n    }\r\n    dispose() {\r\n        if (this._callbacks) {\r\n            this._callbacks.dispose();\r\n            this._callbacks = undefined;\r\n        }\r\n    }\r\n}\r\nexports.Emitter = Emitter;\r\nEmitter._noop = function () { };\r\n//# sourceMappingURL=events.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\r\nfunction boolean(value) {\r\n    return value === true || value === false;\r\n}\r\nexports.boolean = boolean;\r\nfunction string(value) {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\nexports.string = string;\r\nfunction number(value) {\r\n    return typeof value === 'number' || value instanceof Number;\r\n}\r\nexports.number = number;\r\nfunction error(value) {\r\n    return value instanceof Error;\r\n}\r\nexports.error = error;\r\nfunction func(value) {\r\n    return typeof value === 'function';\r\n}\r\nexports.func = func;\r\nfunction array(value) {\r\n    return Array.isArray(value);\r\n}\r\nexports.array = array;\r\nfunction stringArray(value) {\r\n    return array(value) && value.every(elem => string(elem));\r\n}\r\nexports.stringArray = stringArray;\r\n//# sourceMappingURL=is.js.map","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LRUCache = exports.LinkedMap = exports.Touch = void 0;\r\nvar Touch;\r\n(function (Touch) {\r\n    Touch.None = 0;\r\n    Touch.First = 1;\r\n    Touch.AsOld = Touch.First;\r\n    Touch.Last = 2;\r\n    Touch.AsNew = Touch.Last;\r\n})(Touch = exports.Touch || (exports.Touch = {}));\r\nclass LinkedMap {\r\n    constructor() {\r\n        this[Symbol.toStringTag] = 'LinkedMap';\r\n        this._map = new Map();\r\n        this._head = undefined;\r\n        this._tail = undefined;\r\n        this._size = 0;\r\n        this._state = 0;\r\n    }\r\n    clear() {\r\n        this._map.clear();\r\n        this._head = undefined;\r\n        this._tail = undefined;\r\n        this._size = 0;\r\n        this._state++;\r\n    }\r\n    isEmpty() {\r\n        return !this._head && !this._tail;\r\n    }\r\n    get size() {\r\n        return this._size;\r\n    }\r\n    get first() {\r\n        var _a;\r\n        return (_a = this._head) === null || _a === void 0 ? void 0 : _a.value;\r\n    }\r\n    get last() {\r\n        var _a;\r\n        return (_a = this._tail) === null || _a === void 0 ? void 0 : _a.value;\r\n    }\r\n    has(key) {\r\n        return this._map.has(key);\r\n    }\r\n    get(key, touch = Touch.None) {\r\n        const item = this._map.get(key);\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        if (touch !== Touch.None) {\r\n            this.touch(item, touch);\r\n        }\r\n        return item.value;\r\n    }\r\n    set(key, value, touch = Touch.None) {\r\n        let item = this._map.get(key);\r\n        if (item) {\r\n            item.value = value;\r\n            if (touch !== Touch.None) {\r\n                this.touch(item, touch);\r\n            }\r\n        }\r\n        else {\r\n            item = { key, value, next: undefined, previous: undefined };\r\n            switch (touch) {\r\n                case Touch.None:\r\n                    this.addItemLast(item);\r\n                    break;\r\n                case Touch.First:\r\n                    this.addItemFirst(item);\r\n                    break;\r\n                case Touch.Last:\r\n                    this.addItemLast(item);\r\n                    break;\r\n                default:\r\n                    this.addItemLast(item);\r\n                    break;\r\n            }\r\n            this._map.set(key, item);\r\n            this._size++;\r\n        }\r\n        return this;\r\n    }\r\n    delete(key) {\r\n        return !!this.remove(key);\r\n    }\r\n    remove(key) {\r\n        const item = this._map.get(key);\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        this._map.delete(key);\r\n        this.removeItem(item);\r\n        this._size--;\r\n        return item.value;\r\n    }\r\n    shift() {\r\n        if (!this._head && !this._tail) {\r\n            return undefined;\r\n        }\r\n        if (!this._head || !this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        const item = this._head;\r\n        this._map.delete(item.key);\r\n        this.removeItem(item);\r\n        this._size--;\r\n        return item.value;\r\n    }\r\n    forEach(callbackfn, thisArg) {\r\n        const state = this._state;\r\n        let current = this._head;\r\n        while (current) {\r\n            if (thisArg) {\r\n                callbackfn.bind(thisArg)(current.value, current.key, this);\r\n            }\r\n            else {\r\n                callbackfn(current.value, current.key, this);\r\n            }\r\n            if (this._state !== state) {\r\n                throw new Error(`LinkedMap got modified during iteration.`);\r\n            }\r\n            current = current.next;\r\n        }\r\n    }\r\n    keys() {\r\n        const map = this;\r\n        const state = this._state;\r\n        let current = this._head;\r\n        const iterator = {\r\n            [Symbol.iterator]() {\r\n                return iterator;\r\n            },\r\n            next() {\r\n                if (map._state !== state) {\r\n                    throw new Error(`LinkedMap got modified during iteration.`);\r\n                }\r\n                if (current) {\r\n                    const result = { value: current.key, done: false };\r\n                    current = current.next;\r\n                    return result;\r\n                }\r\n                else {\r\n                    return { value: undefined, done: true };\r\n                }\r\n            }\r\n        };\r\n        return iterator;\r\n    }\r\n    values() {\r\n        const map = this;\r\n        const state = this._state;\r\n        let current = this._head;\r\n        const iterator = {\r\n            [Symbol.iterator]() {\r\n                return iterator;\r\n            },\r\n            next() {\r\n                if (map._state !== state) {\r\n                    throw new Error(`LinkedMap got modified during iteration.`);\r\n                }\r\n                if (current) {\r\n                    const result = { value: current.value, done: false };\r\n                    current = current.next;\r\n                    return result;\r\n                }\r\n                else {\r\n                    return { value: undefined, done: true };\r\n                }\r\n            }\r\n        };\r\n        return iterator;\r\n    }\r\n    entries() {\r\n        const map = this;\r\n        const state = this._state;\r\n        let current = this._head;\r\n        const iterator = {\r\n            [Symbol.iterator]() {\r\n                return iterator;\r\n            },\r\n            next() {\r\n                if (map._state !== state) {\r\n                    throw new Error(`LinkedMap got modified during iteration.`);\r\n                }\r\n                if (current) {\r\n                    const result = { value: [current.key, current.value], done: false };\r\n                    current = current.next;\r\n                    return result;\r\n                }\r\n                else {\r\n                    return { value: undefined, done: true };\r\n                }\r\n            }\r\n        };\r\n        return iterator;\r\n    }\r\n    [Symbol.iterator]() {\r\n        return this.entries();\r\n    }\r\n    trimOld(newSize) {\r\n        if (newSize >= this.size) {\r\n            return;\r\n        }\r\n        if (newSize === 0) {\r\n            this.clear();\r\n            return;\r\n        }\r\n        let current = this._head;\r\n        let currentSize = this.size;\r\n        while (current && currentSize > newSize) {\r\n            this._map.delete(current.key);\r\n            current = current.next;\r\n            currentSize--;\r\n        }\r\n        this._head = current;\r\n        this._size = currentSize;\r\n        if (current) {\r\n            current.previous = undefined;\r\n        }\r\n        this._state++;\r\n    }\r\n    addItemFirst(item) {\r\n        // First time Insert\r\n        if (!this._head && !this._tail) {\r\n            this._tail = item;\r\n        }\r\n        else if (!this._head) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        else {\r\n            item.next = this._head;\r\n            this._head.previous = item;\r\n        }\r\n        this._head = item;\r\n        this._state++;\r\n    }\r\n    addItemLast(item) {\r\n        // First time Insert\r\n        if (!this._head && !this._tail) {\r\n            this._head = item;\r\n        }\r\n        else if (!this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        else {\r\n            item.previous = this._tail;\r\n            this._tail.next = item;\r\n        }\r\n        this._tail = item;\r\n        this._state++;\r\n    }\r\n    removeItem(item) {\r\n        if (item === this._head && item === this._tail) {\r\n            this._head = undefined;\r\n            this._tail = undefined;\r\n        }\r\n        else if (item === this._head) {\r\n            // This can only happend if size === 1 which is handle\r\n            // by the case above.\r\n            if (!item.next) {\r\n                throw new Error('Invalid list');\r\n            }\r\n            item.next.previous = undefined;\r\n            this._head = item.next;\r\n        }\r\n        else if (item === this._tail) {\r\n            // This can only happend if size === 1 which is handle\r\n            // by the case above.\r\n            if (!item.previous) {\r\n                throw new Error('Invalid list');\r\n            }\r\n            item.previous.next = undefined;\r\n            this._tail = item.previous;\r\n        }\r\n        else {\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            if (!next || !previous) {\r\n                throw new Error('Invalid list');\r\n            }\r\n            next.previous = previous;\r\n            previous.next = next;\r\n        }\r\n        item.next = undefined;\r\n        item.previous = undefined;\r\n        this._state++;\r\n    }\r\n    touch(item, touch) {\r\n        if (!this._head || !this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\r\n            return;\r\n        }\r\n        if (touch === Touch.First) {\r\n            if (item === this._head) {\r\n                return;\r\n            }\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            // Unlink the item\r\n            if (item === this._tail) {\r\n                // previous must be defined since item was not head but is tail\r\n                // So there are more than on item in the map\r\n                previous.next = undefined;\r\n                this._tail = previous;\r\n            }\r\n            else {\r\n                // Both next and previous are not undefined since item was neither head nor tail.\r\n                next.previous = previous;\r\n                previous.next = next;\r\n            }\r\n            // Insert the node at head\r\n            item.previous = undefined;\r\n            item.next = this._head;\r\n            this._head.previous = item;\r\n            this._head = item;\r\n            this._state++;\r\n        }\r\n        else if (touch === Touch.Last) {\r\n            if (item === this._tail) {\r\n                return;\r\n            }\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            // Unlink the item.\r\n            if (item === this._head) {\r\n                // next must be defined since item was not tail but is head\r\n                // So there are more than on item in the map\r\n                next.previous = undefined;\r\n                this._head = next;\r\n            }\r\n            else {\r\n                // Both next and previous are not undefined since item was neither head nor tail.\r\n                next.previous = previous;\r\n                previous.next = next;\r\n            }\r\n            item.next = undefined;\r\n            item.previous = this._tail;\r\n            this._tail.next = item;\r\n            this._tail = item;\r\n            this._state++;\r\n        }\r\n    }\r\n    toJSON() {\r\n        const data = [];\r\n        this.forEach((value, key) => {\r\n            data.push([key, value]);\r\n        });\r\n        return data;\r\n    }\r\n    fromJSON(data) {\r\n        this.clear();\r\n        for (const [key, value] of data) {\r\n            this.set(key, value);\r\n        }\r\n    }\r\n}\r\nexports.LinkedMap = LinkedMap;\r\nclass LRUCache extends LinkedMap {\r\n    constructor(limit, ratio = 1) {\r\n        super();\r\n        this._limit = limit;\r\n        this._ratio = Math.min(Math.max(0, ratio), 1);\r\n    }\r\n    get limit() {\r\n        return this._limit;\r\n    }\r\n    set limit(limit) {\r\n        this._limit = limit;\r\n        this.checkTrim();\r\n    }\r\n    get ratio() {\r\n        return this._ratio;\r\n    }\r\n    set ratio(ratio) {\r\n        this._ratio = Math.min(Math.max(0, ratio), 1);\r\n        this.checkTrim();\r\n    }\r\n    get(key, touch = Touch.AsNew) {\r\n        return super.get(key, touch);\r\n    }\r\n    peek(key) {\r\n        return super.get(key, Touch.None);\r\n    }\r\n    set(key, value) {\r\n        super.set(key, value, Touch.Last);\r\n        this.checkTrim();\r\n        return this;\r\n    }\r\n    checkTrim() {\r\n        if (this.size > this._limit) {\r\n            this.trimOld(Math.round(this._limit * this._ratio));\r\n        }\r\n    }\r\n}\r\nexports.LRUCache = LRUCache;\r\n//# sourceMappingURL=linkedMap.js.map","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AbstractMessageBuffer = void 0;\r\nconst CR = 13;\r\nconst LF = 10;\r\nconst CRLF = '\\r\\n';\r\nclass AbstractMessageBuffer {\r\n    constructor(encoding = 'utf-8') {\r\n        this._encoding = encoding;\r\n        this._chunks = [];\r\n        this._totalLength = 0;\r\n    }\r\n    get encoding() {\r\n        return this._encoding;\r\n    }\r\n    append(chunk) {\r\n        const toAppend = typeof chunk === 'string' ? this.fromString(chunk, this._encoding) : chunk;\r\n        this._chunks.push(toAppend);\r\n        this._totalLength += toAppend.byteLength;\r\n    }\r\n    tryReadHeaders() {\r\n        if (this._chunks.length === 0) {\r\n            return undefined;\r\n        }\r\n        let state = 0;\r\n        let chunkIndex = 0;\r\n        let offset = 0;\r\n        let chunkBytesRead = 0;\r\n        row: while (chunkIndex < this._chunks.length) {\r\n            const chunk = this._chunks[chunkIndex];\r\n            offset = 0;\r\n            column: while (offset < chunk.length) {\r\n                const value = chunk[offset];\r\n                switch (value) {\r\n                    case CR:\r\n                        switch (state) {\r\n                            case 0:\r\n                                state = 1;\r\n                                break;\r\n                            case 2:\r\n                                state = 3;\r\n                                break;\r\n                            default:\r\n                                state = 0;\r\n                        }\r\n                        break;\r\n                    case LF:\r\n                        switch (state) {\r\n                            case 1:\r\n                                state = 2;\r\n                                break;\r\n                            case 3:\r\n                                state = 4;\r\n                                offset++;\r\n                                break row;\r\n                            default:\r\n                                state = 0;\r\n                        }\r\n                        break;\r\n                    default:\r\n                        state = 0;\r\n                }\r\n                offset++;\r\n            }\r\n            chunkBytesRead += chunk.byteLength;\r\n            chunkIndex++;\r\n        }\r\n        if (state !== 4) {\r\n            return undefined;\r\n        }\r\n        // The buffer contains the two CRLF at the end. So we will\r\n        // have two empty lines after the split at the end as well.\r\n        const buffer = this._read(chunkBytesRead + offset);\r\n        const result = new Map();\r\n        const headers = this.toString(buffer, 'ascii').split(CRLF);\r\n        if (headers.length < 2) {\r\n            return result;\r\n        }\r\n        for (let i = 0; i < headers.length - 2; i++) {\r\n            const header = headers[i];\r\n            const index = header.indexOf(':');\r\n            if (index === -1) {\r\n                throw new Error('Message header must separate key and value using :');\r\n            }\r\n            const key = header.substr(0, index);\r\n            const value = header.substr(index + 1).trim();\r\n            result.set(key, value);\r\n        }\r\n        return result;\r\n    }\r\n    tryReadBody(length) {\r\n        if (this._totalLength < length) {\r\n            return undefined;\r\n        }\r\n        return this._read(length);\r\n    }\r\n    get numberOfBytes() {\r\n        return this._totalLength;\r\n    }\r\n    _read(byteCount) {\r\n        if (byteCount === 0) {\r\n            return this.emptyBuffer();\r\n        }\r\n        if (byteCount > this._totalLength) {\r\n            throw new Error(`Cannot read so many bytes!`);\r\n        }\r\n        if (this._chunks[0].byteLength === byteCount) {\r\n            // super fast path, precisely first chunk must be returned\r\n            const chunk = this._chunks[0];\r\n            this._chunks.shift();\r\n            this._totalLength -= byteCount;\r\n            return this.asNative(chunk);\r\n        }\r\n        if (this._chunks[0].byteLength > byteCount) {\r\n            // fast path, the reading is entirely within the first chunk\r\n            const chunk = this._chunks[0];\r\n            const result = this.asNative(chunk, byteCount);\r\n            this._chunks[0] = chunk.slice(byteCount);\r\n            this._totalLength -= byteCount;\r\n            return result;\r\n        }\r\n        const result = this.allocNative(byteCount);\r\n        let resultOffset = 0;\r\n        let chunkIndex = 0;\r\n        while (byteCount > 0) {\r\n            const chunk = this._chunks[chunkIndex];\r\n            if (chunk.byteLength > byteCount) {\r\n                // this chunk will survive\r\n                const chunkPart = chunk.slice(0, byteCount);\r\n                result.set(chunkPart, resultOffset);\r\n                resultOffset += byteCount;\r\n                this._chunks[chunkIndex] = chunk.slice(byteCount);\r\n                this._totalLength -= byteCount;\r\n                byteCount -= byteCount;\r\n            }\r\n            else {\r\n                // this chunk will be entirely read\r\n                result.set(chunk, resultOffset);\r\n                resultOffset += chunk.byteLength;\r\n                this._chunks.shift();\r\n                this._totalLength -= chunk.byteLength;\r\n                byteCount -= chunk.byteLength;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\nexports.AbstractMessageBuffer = AbstractMessageBuffer;\r\n//# sourceMappingURL=messageBuffer.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = void 0;\r\nconst ral_1 = require(\"./ral\");\r\nconst Is = require(\"./is\");\r\nconst events_1 = require(\"./events\");\r\nvar MessageReader;\r\n(function (MessageReader) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\r\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\r\n    }\r\n    MessageReader.is = is;\r\n})(MessageReader = exports.MessageReader || (exports.MessageReader = {}));\r\nclass AbstractMessageReader {\r\n    constructor() {\r\n        this.errorEmitter = new events_1.Emitter();\r\n        this.closeEmitter = new events_1.Emitter();\r\n        this.partialMessageEmitter = new events_1.Emitter();\r\n    }\r\n    dispose() {\r\n        this.errorEmitter.dispose();\r\n        this.closeEmitter.dispose();\r\n    }\r\n    get onError() {\r\n        return this.errorEmitter.event;\r\n    }\r\n    fireError(error) {\r\n        this.errorEmitter.fire(this.asError(error));\r\n    }\r\n    get onClose() {\r\n        return this.closeEmitter.event;\r\n    }\r\n    fireClose() {\r\n        this.closeEmitter.fire(undefined);\r\n    }\r\n    get onPartialMessage() {\r\n        return this.partialMessageEmitter.event;\r\n    }\r\n    firePartialMessage(info) {\r\n        this.partialMessageEmitter.fire(info);\r\n    }\r\n    asError(error) {\r\n        if (error instanceof Error) {\r\n            return error;\r\n        }\r\n        else {\r\n            return new Error(`Reader received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\r\n        }\r\n    }\r\n}\r\nexports.AbstractMessageReader = AbstractMessageReader;\r\nvar ResolvedMessageReaderOptions;\r\n(function (ResolvedMessageReaderOptions) {\r\n    function fromOptions(options) {\r\n        var _a;\r\n        let charset;\r\n        let result;\r\n        let contentDecoder;\r\n        const contentDecoders = new Map();\r\n        let contentTypeDecoder;\r\n        const contentTypeDecoders = new Map();\r\n        if (options === undefined || typeof options === 'string') {\r\n            charset = options !== null && options !== void 0 ? options : 'utf-8';\r\n        }\r\n        else {\r\n            charset = (_a = options.charset) !== null && _a !== void 0 ? _a : 'utf-8';\r\n            if (options.contentDecoder !== undefined) {\r\n                contentDecoder = options.contentDecoder;\r\n                contentDecoders.set(contentDecoder.name, contentDecoder);\r\n            }\r\n            if (options.contentDecoders !== undefined) {\r\n                for (const decoder of options.contentDecoders) {\r\n                    contentDecoders.set(decoder.name, decoder);\r\n                }\r\n            }\r\n            if (options.contentTypeDecoder !== undefined) {\r\n                contentTypeDecoder = options.contentTypeDecoder;\r\n                contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\r\n            }\r\n            if (options.contentTypeDecoders !== undefined) {\r\n                for (const decoder of options.contentTypeDecoders) {\r\n                    contentTypeDecoders.set(decoder.name, decoder);\r\n                }\r\n            }\r\n        }\r\n        if (contentTypeDecoder === undefined) {\r\n            contentTypeDecoder = ral_1.default().applicationJson.decoder;\r\n            contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\r\n        }\r\n        return { charset, contentDecoder, contentDecoders, contentTypeDecoder, contentTypeDecoders };\r\n    }\r\n    ResolvedMessageReaderOptions.fromOptions = fromOptions;\r\n})(ResolvedMessageReaderOptions || (ResolvedMessageReaderOptions = {}));\r\nclass ReadableStreamMessageReader extends AbstractMessageReader {\r\n    constructor(readable, options) {\r\n        super();\r\n        this.readable = readable;\r\n        this.options = ResolvedMessageReaderOptions.fromOptions(options);\r\n        this.buffer = ral_1.default().messageBuffer.create(this.options.charset);\r\n        this._partialMessageTimeout = 10000;\r\n        this.nextMessageLength = -1;\r\n        this.messageToken = 0;\r\n    }\r\n    set partialMessageTimeout(timeout) {\r\n        this._partialMessageTimeout = timeout;\r\n    }\r\n    get partialMessageTimeout() {\r\n        return this._partialMessageTimeout;\r\n    }\r\n    listen(callback) {\r\n        this.nextMessageLength = -1;\r\n        this.messageToken = 0;\r\n        this.partialMessageTimer = undefined;\r\n        this.callback = callback;\r\n        const result = this.readable.onData((data) => {\r\n            this.onData(data);\r\n        });\r\n        this.readable.onError((error) => this.fireError(error));\r\n        this.readable.onClose(() => this.fireClose());\r\n        return result;\r\n    }\r\n    onData(data) {\r\n        this.buffer.append(data);\r\n        while (true) {\r\n            if (this.nextMessageLength === -1) {\r\n                const headers = this.buffer.tryReadHeaders();\r\n                if (!headers) {\r\n                    return;\r\n                }\r\n                const contentLength = headers.get('Content-Length');\r\n                if (!contentLength) {\r\n                    throw new Error('Header must provide a Content-Length property.');\r\n                }\r\n                const length = parseInt(contentLength);\r\n                if (isNaN(length)) {\r\n                    throw new Error('Content-Length value must be a number.');\r\n                }\r\n                this.nextMessageLength = length;\r\n            }\r\n            const body = this.buffer.tryReadBody(this.nextMessageLength);\r\n            if (body === undefined) {\r\n                /** We haven't received the full message yet. */\r\n                this.setPartialMessageTimer();\r\n                return;\r\n            }\r\n            this.clearPartialMessageTimer();\r\n            this.nextMessageLength = -1;\r\n            let p;\r\n            if (this.options.contentDecoder !== undefined) {\r\n                p = this.options.contentDecoder.decode(body);\r\n            }\r\n            else {\r\n                p = Promise.resolve(body);\r\n            }\r\n            p.then((value) => {\r\n                this.options.contentTypeDecoder.decode(value, this.options).then((msg) => {\r\n                    this.callback(msg);\r\n                }, (error) => {\r\n                    this.fireError(error);\r\n                });\r\n            }, (error) => {\r\n                this.fireError(error);\r\n            });\r\n        }\r\n    }\r\n    clearPartialMessageTimer() {\r\n        if (this.partialMessageTimer) {\r\n            ral_1.default().timer.clearTimeout(this.partialMessageTimer);\r\n            this.partialMessageTimer = undefined;\r\n        }\r\n    }\r\n    setPartialMessageTimer() {\r\n        this.clearPartialMessageTimer();\r\n        if (this._partialMessageTimeout <= 0) {\r\n            return;\r\n        }\r\n        this.partialMessageTimer = ral_1.default().timer.setTimeout((token, timeout) => {\r\n            this.partialMessageTimer = undefined;\r\n            if (token === this.messageToken) {\r\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\r\n                this.setPartialMessageTimer();\r\n            }\r\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\r\n    }\r\n}\r\nexports.ReadableStreamMessageReader = ReadableStreamMessageReader;\r\n//# sourceMappingURL=messageReader.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = void 0;\r\nconst ral_1 = require(\"./ral\");\r\nconst Is = require(\"./is\");\r\nconst semaphore_1 = require(\"./semaphore\");\r\nconst events_1 = require(\"./events\");\r\nconst ContentLength = 'Content-Length: ';\r\nconst CRLF = '\\r\\n';\r\nvar MessageWriter;\r\n(function (MessageWriter) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\r\n            Is.func(candidate.onError) && Is.func(candidate.write);\r\n    }\r\n    MessageWriter.is = is;\r\n})(MessageWriter = exports.MessageWriter || (exports.MessageWriter = {}));\r\nclass AbstractMessageWriter {\r\n    constructor() {\r\n        this.errorEmitter = new events_1.Emitter();\r\n        this.closeEmitter = new events_1.Emitter();\r\n    }\r\n    dispose() {\r\n        this.errorEmitter.dispose();\r\n        this.closeEmitter.dispose();\r\n    }\r\n    get onError() {\r\n        return this.errorEmitter.event;\r\n    }\r\n    fireError(error, message, count) {\r\n        this.errorEmitter.fire([this.asError(error), message, count]);\r\n    }\r\n    get onClose() {\r\n        return this.closeEmitter.event;\r\n    }\r\n    fireClose() {\r\n        this.closeEmitter.fire(undefined);\r\n    }\r\n    asError(error) {\r\n        if (error instanceof Error) {\r\n            return error;\r\n        }\r\n        else {\r\n            return new Error(`Writer received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\r\n        }\r\n    }\r\n}\r\nexports.AbstractMessageWriter = AbstractMessageWriter;\r\nvar ResolvedMessageWriterOptions;\r\n(function (ResolvedMessageWriterOptions) {\r\n    function fromOptions(options) {\r\n        var _a, _b;\r\n        if (options === undefined || typeof options === 'string') {\r\n            return { charset: options !== null && options !== void 0 ? options : 'utf-8', contentTypeEncoder: ral_1.default().applicationJson.encoder };\r\n        }\r\n        else {\r\n            return { charset: (_a = options.charset) !== null && _a !== void 0 ? _a : 'utf-8', contentEncoder: options.contentEncoder, contentTypeEncoder: (_b = options.contentTypeEncoder) !== null && _b !== void 0 ? _b : ral_1.default().applicationJson.encoder };\r\n        }\r\n    }\r\n    ResolvedMessageWriterOptions.fromOptions = fromOptions;\r\n})(ResolvedMessageWriterOptions || (ResolvedMessageWriterOptions = {}));\r\nclass WriteableStreamMessageWriter extends AbstractMessageWriter {\r\n    constructor(writable, options) {\r\n        super();\r\n        this.writable = writable;\r\n        this.options = ResolvedMessageWriterOptions.fromOptions(options);\r\n        this.errorCount = 0;\r\n        this.writeSemaphore = new semaphore_1.Semaphore(1);\r\n        this.writable.onError((error) => this.fireError(error));\r\n        this.writable.onClose(() => this.fireClose());\r\n    }\r\n    async write(msg) {\r\n        return this.writeSemaphore.lock(async () => {\r\n            const payload = this.options.contentTypeEncoder.encode(msg, this.options).then((buffer) => {\r\n                if (this.options.contentEncoder !== undefined) {\r\n                    return this.options.contentEncoder.encode(buffer);\r\n                }\r\n                else {\r\n                    return buffer;\r\n                }\r\n            });\r\n            return payload.then((buffer) => {\r\n                const headers = [];\r\n                headers.push(ContentLength, buffer.byteLength.toString(), CRLF);\r\n                headers.push(CRLF);\r\n                return this.doWrite(msg, headers, buffer);\r\n            }, (error) => {\r\n                this.fireError(error);\r\n                throw error;\r\n            });\r\n        });\r\n    }\r\n    async doWrite(msg, headers, data) {\r\n        try {\r\n            await this.writable.write(headers.join(''), 'ascii');\r\n            return this.writable.write(data);\r\n        }\r\n        catch (error) {\r\n            this.handleError(error, msg);\r\n            return Promise.reject(error);\r\n        }\r\n    }\r\n    handleError(error, msg) {\r\n        this.errorCount++;\r\n        this.fireError(error, msg, this.errorCount);\r\n    }\r\n    end() {\r\n        this.writable.end();\r\n    }\r\n}\r\nexports.WriteableStreamMessageWriter = WriteableStreamMessageWriter;\r\n//# sourceMappingURL=messageWriter.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.isResponseMessage = exports.isNotificationMessage = exports.isRequestMessage = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType = exports.RequestType0 = exports.AbstractMessageSignature = exports.ParameterStructures = exports.ResponseError = exports.ErrorCodes = void 0;\r\nconst is = require(\"./is\");\r\n/**\r\n * Predefined error codes.\r\n */\r\nvar ErrorCodes;\r\n(function (ErrorCodes) {\r\n    // Defined by JSON RPC\r\n    ErrorCodes.ParseError = -32700;\r\n    ErrorCodes.InvalidRequest = -32600;\r\n    ErrorCodes.MethodNotFound = -32601;\r\n    ErrorCodes.InvalidParams = -32602;\r\n    ErrorCodes.InternalError = -32603;\r\n    /**\r\n     * This is the start range of JSON RPC reserved error codes.\r\n     * It doesn't denote a real error code. No application error codes should\r\n     * be defined between the start and end range. For backwards\r\n     * compatibility the `ServerNotInitialized` and the `UnknownErrorCode`\r\n     * are left in the range.\r\n     *\r\n     * @since 3.16.0\r\n    */\r\n    ErrorCodes.jsonrpcReservedErrorRangeStart = -32099;\r\n    /** @deprecated use  jsonrpcReservedErrorRangeStart */\r\n    ErrorCodes.serverErrorStart = ErrorCodes.jsonrpcReservedErrorRangeStart;\r\n    ErrorCodes.MessageWriteError = -32099;\r\n    ErrorCodes.MessageReadError = -32098;\r\n    ErrorCodes.ServerNotInitialized = -32002;\r\n    ErrorCodes.UnknownErrorCode = -32001;\r\n    /**\r\n     * This is the end range of JSON RPC reserved error codes.\r\n     * It doesn't denote a real error code.\r\n     *\r\n     * @since 3.16.0\r\n    */\r\n    ErrorCodes.jsonrpcReservedErrorRangeEnd = -32000;\r\n    /** @deprecated use  jsonrpcReservedErrorRangeEnd */\r\n    ErrorCodes.serverErrorEnd = ErrorCodes.jsonrpcReservedErrorRangeEnd;\r\n})(ErrorCodes = exports.ErrorCodes || (exports.ErrorCodes = {}));\r\n/**\r\n * An error object return in a response in case a request\r\n * has failed.\r\n */\r\nclass ResponseError extends Error {\r\n    constructor(code, message, data) {\r\n        super(message);\r\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\r\n        this.data = data;\r\n        Object.setPrototypeOf(this, ResponseError.prototype);\r\n    }\r\n    toJson() {\r\n        return {\r\n            code: this.code,\r\n            message: this.message,\r\n            data: this.data,\r\n        };\r\n    }\r\n}\r\nexports.ResponseError = ResponseError;\r\nclass ParameterStructures {\r\n    constructor(kind) {\r\n        this.kind = kind;\r\n    }\r\n    static is(value) {\r\n        return value === ParameterStructures.auto || value === ParameterStructures.byName || value === ParameterStructures.byPosition;\r\n    }\r\n    toString() {\r\n        return this.kind;\r\n    }\r\n}\r\nexports.ParameterStructures = ParameterStructures;\r\n/**\r\n * The parameter structure is automatically inferred on the number of parameters\r\n * and the parameter type in case of a single param.\r\n */\r\nParameterStructures.auto = new ParameterStructures('auto');\r\n/**\r\n * Forces `byPosition` parameter structure. This is useful if you have a single\r\n * parameter which has a literal type.\r\n */\r\nParameterStructures.byPosition = new ParameterStructures('byPosition');\r\n/**\r\n * Forces `byName` parameter structure. This is only useful when having a single\r\n * parameter. The library will report errors if used with a different number of\r\n * parameters.\r\n */\r\nParameterStructures.byName = new ParameterStructures('byName');\r\n/**\r\n * An abstract implementation of a MessageType.\r\n */\r\nclass AbstractMessageSignature {\r\n    constructor(method, numberOfParams) {\r\n        this.method = method;\r\n        this.numberOfParams = numberOfParams;\r\n    }\r\n    get parameterStructures() {\r\n        return ParameterStructures.auto;\r\n    }\r\n}\r\nexports.AbstractMessageSignature = AbstractMessageSignature;\r\n/**\r\n * Classes to type request response pairs\r\n */\r\nclass RequestType0 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 0);\r\n    }\r\n}\r\nexports.RequestType0 = RequestType0;\r\nclass RequestType extends AbstractMessageSignature {\r\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\r\n        super(method, 1);\r\n        this._parameterStructures = _parameterStructures;\r\n    }\r\n    get parameterStructures() {\r\n        return this._parameterStructures;\r\n    }\r\n}\r\nexports.RequestType = RequestType;\r\nclass RequestType1 extends AbstractMessageSignature {\r\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\r\n        super(method, 1);\r\n        this._parameterStructures = _parameterStructures;\r\n    }\r\n    get parameterStructures() {\r\n        return this._parameterStructures;\r\n    }\r\n}\r\nexports.RequestType1 = RequestType1;\r\nclass RequestType2 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 2);\r\n    }\r\n}\r\nexports.RequestType2 = RequestType2;\r\nclass RequestType3 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 3);\r\n    }\r\n}\r\nexports.RequestType3 = RequestType3;\r\nclass RequestType4 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 4);\r\n    }\r\n}\r\nexports.RequestType4 = RequestType4;\r\nclass RequestType5 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 5);\r\n    }\r\n}\r\nexports.RequestType5 = RequestType5;\r\nclass RequestType6 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 6);\r\n    }\r\n}\r\nexports.RequestType6 = RequestType6;\r\nclass RequestType7 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 7);\r\n    }\r\n}\r\nexports.RequestType7 = RequestType7;\r\nclass RequestType8 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 8);\r\n    }\r\n}\r\nexports.RequestType8 = RequestType8;\r\nclass RequestType9 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 9);\r\n    }\r\n}\r\nexports.RequestType9 = RequestType9;\r\nclass NotificationType extends AbstractMessageSignature {\r\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\r\n        super(method, 1);\r\n        this._parameterStructures = _parameterStructures;\r\n    }\r\n    get parameterStructures() {\r\n        return this._parameterStructures;\r\n    }\r\n}\r\nexports.NotificationType = NotificationType;\r\nclass NotificationType0 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 0);\r\n    }\r\n}\r\nexports.NotificationType0 = NotificationType0;\r\nclass NotificationType1 extends AbstractMessageSignature {\r\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\r\n        super(method, 1);\r\n        this._parameterStructures = _parameterStructures;\r\n    }\r\n    get parameterStructures() {\r\n        return this._parameterStructures;\r\n    }\r\n}\r\nexports.NotificationType1 = NotificationType1;\r\nclass NotificationType2 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 2);\r\n    }\r\n}\r\nexports.NotificationType2 = NotificationType2;\r\nclass NotificationType3 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 3);\r\n    }\r\n}\r\nexports.NotificationType3 = NotificationType3;\r\nclass NotificationType4 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 4);\r\n    }\r\n}\r\nexports.NotificationType4 = NotificationType4;\r\nclass NotificationType5 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 5);\r\n    }\r\n}\r\nexports.NotificationType5 = NotificationType5;\r\nclass NotificationType6 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 6);\r\n    }\r\n}\r\nexports.NotificationType6 = NotificationType6;\r\nclass NotificationType7 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 7);\r\n    }\r\n}\r\nexports.NotificationType7 = NotificationType7;\r\nclass NotificationType8 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 8);\r\n    }\r\n}\r\nexports.NotificationType8 = NotificationType8;\r\nclass NotificationType9 extends AbstractMessageSignature {\r\n    constructor(method) {\r\n        super(method, 9);\r\n    }\r\n}\r\nexports.NotificationType9 = NotificationType9;\r\n/**\r\n * Tests if the given message is a request message\r\n */\r\nfunction isRequestMessage(message) {\r\n    const candidate = message;\r\n    return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\r\n}\r\nexports.isRequestMessage = isRequestMessage;\r\n/**\r\n * Tests if the given message is a notification message\r\n */\r\nfunction isNotificationMessage(message) {\r\n    const candidate = message;\r\n    return candidate && is.string(candidate.method) && message.id === void 0;\r\n}\r\nexports.isNotificationMessage = isNotificationMessage;\r\n/**\r\n * Tests if the given message is a response message\r\n */\r\nfunction isResponseMessage(message) {\r\n    const candidate = message;\r\n    return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\r\n}\r\nexports.isResponseMessage = isResponseMessage;\r\n//# sourceMappingURL=messages.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nlet _ral;\r\nfunction RAL() {\r\n    if (_ral === undefined) {\r\n        throw new Error(`No runtime abstraction layer installed`);\r\n    }\r\n    return _ral;\r\n}\r\n(function (RAL) {\r\n    function install(ral) {\r\n        if (ral === undefined) {\r\n            throw new Error(`No runtime abstraction layer provided`);\r\n        }\r\n        _ral = ral;\r\n    }\r\n    RAL.install = install;\r\n})(RAL || (RAL = {}));\r\nexports.default = RAL;\r\n//# sourceMappingURL=ral.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Semaphore = void 0;\r\nconst ral_1 = require(\"./ral\");\r\nclass Semaphore {\r\n    constructor(capacity = 1) {\r\n        if (capacity <= 0) {\r\n            throw new Error('Capacity must be greater than 0');\r\n        }\r\n        this._capacity = capacity;\r\n        this._active = 0;\r\n        this._waiting = [];\r\n    }\r\n    lock(thunk) {\r\n        return new Promise((resolve, reject) => {\r\n            this._waiting.push({ thunk, resolve, reject });\r\n            this.runNext();\r\n        });\r\n    }\r\n    get active() {\r\n        return this._active;\r\n    }\r\n    runNext() {\r\n        if (this._waiting.length === 0 || this._active === this._capacity) {\r\n            return;\r\n        }\r\n        ral_1.default().timer.setImmediate(() => this.doRunNext());\r\n    }\r\n    doRunNext() {\r\n        if (this._waiting.length === 0 || this._active === this._capacity) {\r\n            return;\r\n        }\r\n        const next = this._waiting.shift();\r\n        this._active++;\r\n        if (this._active > this._capacity) {\r\n            throw new Error(`To many thunks active`);\r\n        }\r\n        try {\r\n            const result = next.thunk();\r\n            if (result instanceof Promise) {\r\n                result.then((value) => {\r\n                    this._active--;\r\n                    next.resolve(value);\r\n                    this.runNext();\r\n                }, (err) => {\r\n                    this._active--;\r\n                    next.reject(err);\r\n                    this.runNext();\r\n                });\r\n            }\r\n            else {\r\n                this._active--;\r\n                next.resolve(result);\r\n                this.runNext();\r\n            }\r\n        }\r\n        catch (err) {\r\n            this._active--;\r\n            next.reject(err);\r\n            this.runNext();\r\n        }\r\n    }\r\n}\r\nexports.Semaphore = Semaphore;\r\n//# sourceMappingURL=semaphore.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.createMessageConnection = exports.createServerSocketTransport = exports.createClientSocketTransport = exports.createServerPipeTransport = exports.createClientPipeTransport = exports.generateRandomPipeName = exports.StreamMessageWriter = exports.StreamMessageReader = exports.SocketMessageWriter = exports.SocketMessageReader = exports.IPCMessageWriter = exports.IPCMessageReader = void 0;\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ----------------------------------------------------------------------------------------- */\r\nconst ril_1 = require(\"./ril\");\r\n// Install the node runtime abstract.\r\nril_1.default.install();\r\nconst api_1 = require(\"../common/api\");\r\nconst path = require(\"path\");\r\nconst os = require(\"os\");\r\nconst crypto_1 = require(\"crypto\");\r\nconst net_1 = require(\"net\");\r\n__exportStar(require(\"../common/api\"), exports);\r\nclass IPCMessageReader extends api_1.AbstractMessageReader {\r\n    constructor(process) {\r\n        super();\r\n        this.process = process;\r\n        let eventEmitter = this.process;\r\n        eventEmitter.on('error', (error) => this.fireError(error));\r\n        eventEmitter.on('close', () => this.fireClose());\r\n    }\r\n    listen(callback) {\r\n        this.process.on('message', callback);\r\n        return api_1.Disposable.create(() => this.process.off('message', callback));\r\n    }\r\n}\r\nexports.IPCMessageReader = IPCMessageReader;\r\nclass IPCMessageWriter extends api_1.AbstractMessageWriter {\r\n    constructor(process) {\r\n        super();\r\n        this.process = process;\r\n        this.errorCount = 0;\r\n        let eventEmitter = this.process;\r\n        eventEmitter.on('error', (error) => this.fireError(error));\r\n        eventEmitter.on('close', () => this.fireClose);\r\n    }\r\n    write(msg) {\r\n        try {\r\n            if (typeof this.process.send === 'function') {\r\n                this.process.send(msg, undefined, undefined, (error) => {\r\n                    if (error) {\r\n                        this.errorCount++;\r\n                        this.handleError(error, msg);\r\n                    }\r\n                    else {\r\n                        this.errorCount = 0;\r\n                    }\r\n                });\r\n            }\r\n            return Promise.resolve();\r\n        }\r\n        catch (error) {\r\n            this.handleError(error, msg);\r\n            return Promise.reject(error);\r\n        }\r\n    }\r\n    handleError(error, msg) {\r\n        this.errorCount++;\r\n        this.fireError(error, msg, this.errorCount);\r\n    }\r\n    end() {\r\n    }\r\n}\r\nexports.IPCMessageWriter = IPCMessageWriter;\r\nclass SocketMessageReader extends api_1.ReadableStreamMessageReader {\r\n    constructor(socket, encoding = 'utf-8') {\r\n        super(ril_1.default().stream.asReadableStream(socket), encoding);\r\n    }\r\n}\r\nexports.SocketMessageReader = SocketMessageReader;\r\nclass SocketMessageWriter extends api_1.WriteableStreamMessageWriter {\r\n    constructor(socket, options) {\r\n        super(ril_1.default().stream.asWritableStream(socket), options);\r\n        this.socket = socket;\r\n    }\r\n    dispose() {\r\n        super.dispose();\r\n        this.socket.destroy();\r\n    }\r\n}\r\nexports.SocketMessageWriter = SocketMessageWriter;\r\nclass StreamMessageReader extends api_1.ReadableStreamMessageReader {\r\n    constructor(readble, encoding) {\r\n        super(ril_1.default().stream.asReadableStream(readble), encoding);\r\n    }\r\n}\r\nexports.StreamMessageReader = StreamMessageReader;\r\nclass StreamMessageWriter extends api_1.WriteableStreamMessageWriter {\r\n    constructor(writable, options) {\r\n        super(ril_1.default().stream.asWritableStream(writable), options);\r\n    }\r\n}\r\nexports.StreamMessageWriter = StreamMessageWriter;\r\nconst XDG_RUNTIME_DIR = process.env['XDG_RUNTIME_DIR'];\r\nconst safeIpcPathLengths = new Map([\r\n    ['linux', 107],\r\n    ['darwin', 103]\r\n]);\r\nfunction generateRandomPipeName() {\r\n    const randomSuffix = crypto_1.randomBytes(21).toString('hex');\r\n    if (process.platform === 'win32') {\r\n        return `\\\\\\\\.\\\\pipe\\\\vscode-jsonrpc-${randomSuffix}-sock`;\r\n    }\r\n    let result;\r\n    if (XDG_RUNTIME_DIR) {\r\n        result = path.join(XDG_RUNTIME_DIR, `vscode-ipc-${randomSuffix}.sock`);\r\n    }\r\n    else {\r\n        result = path.join(os.tmpdir(), `vscode-${randomSuffix}.sock`);\r\n    }\r\n    const limit = safeIpcPathLengths.get(process.platform);\r\n    if (limit !== undefined && result.length >= limit) {\r\n        ril_1.default().console.warn(`WARNING: IPC handle \"${result}\" is longer than ${limit} characters.`);\r\n    }\r\n    return result;\r\n}\r\nexports.generateRandomPipeName = generateRandomPipeName;\r\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\r\n    let connectResolve;\r\n    const connected = new Promise((resolve, _reject) => {\r\n        connectResolve = resolve;\r\n    });\r\n    return new Promise((resolve, reject) => {\r\n        let server = net_1.createServer((socket) => {\r\n            server.close();\r\n            connectResolve([\r\n                new SocketMessageReader(socket, encoding),\r\n                new SocketMessageWriter(socket, encoding)\r\n            ]);\r\n        });\r\n        server.on('error', reject);\r\n        server.listen(pipeName, () => {\r\n            server.removeListener('error', reject);\r\n            resolve({\r\n                onConnected: () => { return connected; }\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.createClientPipeTransport = createClientPipeTransport;\r\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\r\n    const socket = net_1.createConnection(pipeName);\r\n    return [\r\n        new SocketMessageReader(socket, encoding),\r\n        new SocketMessageWriter(socket, encoding)\r\n    ];\r\n}\r\nexports.createServerPipeTransport = createServerPipeTransport;\r\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\r\n    let connectResolve;\r\n    const connected = new Promise((resolve, _reject) => {\r\n        connectResolve = resolve;\r\n    });\r\n    return new Promise((resolve, reject) => {\r\n        const server = net_1.createServer((socket) => {\r\n            server.close();\r\n            connectResolve([\r\n                new SocketMessageReader(socket, encoding),\r\n                new SocketMessageWriter(socket, encoding)\r\n            ]);\r\n        });\r\n        server.on('error', reject);\r\n        server.listen(port, '127.0.0.1', () => {\r\n            server.removeListener('error', reject);\r\n            resolve({\r\n                onConnected: () => { return connected; }\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.createClientSocketTransport = createClientSocketTransport;\r\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\r\n    const socket = net_1.createConnection(port, '127.0.0.1');\r\n    return [\r\n        new SocketMessageReader(socket, encoding),\r\n        new SocketMessageWriter(socket, encoding)\r\n    ];\r\n}\r\nexports.createServerSocketTransport = createServerSocketTransport;\r\nfunction isReadableStream(value) {\r\n    const candidate = value;\r\n    return candidate.read !== undefined && candidate.addListener !== undefined;\r\n}\r\nfunction isWritableStream(value) {\r\n    const candidate = value;\r\n    return candidate.write !== undefined && candidate.addListener !== undefined;\r\n}\r\nfunction createMessageConnection(input, output, logger, options) {\r\n    if (!logger) {\r\n        logger = api_1.NullLogger;\r\n    }\r\n    const reader = isReadableStream(input) ? new StreamMessageReader(input) : input;\r\n    const writer = isWritableStream(output) ? new StreamMessageWriter(output) : output;\r\n    if (api_1.ConnectionStrategy.is(options)) {\r\n        options = { connectionStrategy: options };\r\n    }\r\n    return api_1.createMessageConnection(reader, writer, logger, options);\r\n}\r\nexports.createMessageConnection = createMessageConnection;\r\n//# sourceMappingURL=main.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst ral_1 = require(\"../common/ral\");\r\nconst util_1 = require(\"util\");\r\nconst disposable_1 = require(\"../common/disposable\");\r\nconst messageBuffer_1 = require(\"../common/messageBuffer\");\r\nclass MessageBuffer extends messageBuffer_1.AbstractMessageBuffer {\r\n    constructor(encoding = 'utf-8') {\r\n        super(encoding);\r\n    }\r\n    emptyBuffer() {\r\n        return MessageBuffer.emptyBuffer;\r\n    }\r\n    fromString(value, encoding) {\r\n        return Buffer.from(value, encoding);\r\n    }\r\n    toString(value, encoding) {\r\n        if (value instanceof Buffer) {\r\n            return value.toString(encoding);\r\n        }\r\n        else {\r\n            return new util_1.TextDecoder(encoding).decode(value);\r\n        }\r\n    }\r\n    asNative(buffer, length) {\r\n        if (length === undefined) {\r\n            return buffer instanceof Buffer ? buffer : Buffer.from(buffer);\r\n        }\r\n        else {\r\n            return buffer instanceof Buffer ? buffer.slice(0, length) : Buffer.from(buffer, 0, length);\r\n        }\r\n    }\r\n    allocNative(length) {\r\n        return Buffer.allocUnsafe(length);\r\n    }\r\n}\r\nMessageBuffer.emptyBuffer = Buffer.allocUnsafe(0);\r\nclass ReadableStreamWrapper {\r\n    constructor(stream) {\r\n        this.stream = stream;\r\n    }\r\n    onClose(listener) {\r\n        this.stream.on('close', listener);\r\n        return disposable_1.Disposable.create(() => this.stream.off('close', listener));\r\n    }\r\n    onError(listener) {\r\n        this.stream.on('error', listener);\r\n        return disposable_1.Disposable.create(() => this.stream.off('error', listener));\r\n    }\r\n    onEnd(listener) {\r\n        this.stream.on('end', listener);\r\n        return disposable_1.Disposable.create(() => this.stream.off('end', listener));\r\n    }\r\n    onData(listener) {\r\n        this.stream.on('data', listener);\r\n        return disposable_1.Disposable.create(() => this.stream.off('data', listener));\r\n    }\r\n}\r\nclass WritableStreamWrapper {\r\n    constructor(stream) {\r\n        this.stream = stream;\r\n    }\r\n    onClose(listener) {\r\n        this.stream.on('close', listener);\r\n        return disposable_1.Disposable.create(() => this.stream.off('close', listener));\r\n    }\r\n    onError(listener) {\r\n        this.stream.on('error', listener);\r\n        return disposable_1.Disposable.create(() => this.stream.off('error', listener));\r\n    }\r\n    onEnd(listener) {\r\n        this.stream.on('end', listener);\r\n        return disposable_1.Disposable.create(() => this.stream.off('end', listener));\r\n    }\r\n    write(data, encoding) {\r\n        return new Promise((resolve, reject) => {\r\n            const callback = (error) => {\r\n                if (error === undefined || error === null) {\r\n                    resolve();\r\n                }\r\n                else {\r\n                    reject(error);\r\n                }\r\n            };\r\n            if (typeof data === 'string') {\r\n                this.stream.write(data, encoding, callback);\r\n            }\r\n            else {\r\n                this.stream.write(data, callback);\r\n            }\r\n        });\r\n    }\r\n    end() {\r\n        this.stream.end();\r\n    }\r\n}\r\nconst _ril = Object.freeze({\r\n    messageBuffer: Object.freeze({\r\n        create: (encoding) => new MessageBuffer(encoding)\r\n    }),\r\n    applicationJson: Object.freeze({\r\n        encoder: Object.freeze({\r\n            name: 'application/json',\r\n            encode: (msg, options) => {\r\n                try {\r\n                    return Promise.resolve(Buffer.from(JSON.stringify(msg, undefined, 0), options.charset));\r\n                }\r\n                catch (err) {\r\n                    return Promise.reject(err);\r\n                }\r\n            }\r\n        }),\r\n        decoder: Object.freeze({\r\n            name: 'application/json',\r\n            decode: (buffer, options) => {\r\n                try {\r\n                    if (buffer instanceof Buffer) {\r\n                        return Promise.resolve(JSON.parse(buffer.toString(options.charset)));\r\n                    }\r\n                    else {\r\n                        return Promise.resolve(JSON.parse(new util_1.TextDecoder(options.charset).decode(buffer)));\r\n                    }\r\n                }\r\n                catch (err) {\r\n                    return Promise.reject(err);\r\n                }\r\n            }\r\n        })\r\n    }),\r\n    stream: Object.freeze({\r\n        asReadableStream: (stream) => new ReadableStreamWrapper(stream),\r\n        asWritableStream: (stream) => new WritableStreamWrapper(stream)\r\n    }),\r\n    console: console,\r\n    timer: Object.freeze({\r\n        setTimeout(callback, ms, ...args) {\r\n            return setTimeout(callback, ms, ...args);\r\n        },\r\n        clearTimeout(handle) {\r\n            clearTimeout(handle);\r\n        },\r\n        setImmediate(callback, ...args) {\r\n            return setImmediate(callback, ...args);\r\n        },\r\n        clearImmediate(handle) {\r\n            clearImmediate(handle);\r\n        }\r\n    })\r\n});\r\nfunction RIL() {\r\n    return _ril;\r\n}\r\n(function (RIL) {\r\n    function install() {\r\n        ral_1.default.install(_ril);\r\n    }\r\n    RIL.install = install;\r\n})(RIL || (RIL = {}));\r\nexports.default = RIL;\r\n//# sourceMappingURL=ril.js.map","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ----------------------------------------------------------------------------------------- */\r\n'use strict';\r\n\r\nmodule.exports = require('./lib/node/main');","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"vscode-languageserver-protocol\"), exports);\r\n__exportStar(require(\"./client\"), exports);\r\n__exportStar(require(\"./commonClient\"), exports);\r\n//# sourceMappingURL=api.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CallHierarchyFeature = void 0;\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst client_1 = require(\"./client\");\r\nfunction ensure(target, key) {\r\n    if (target[key] === void 0) {\r\n        target[key] = {};\r\n    }\r\n    return target[key];\r\n}\r\nclass CallHierarchyProvider {\r\n    constructor(client) {\r\n        this.client = client;\r\n        this.middleware = client.clientOptions.middleware;\r\n    }\r\n    prepareCallHierarchy(document, position, token) {\r\n        const client = this.client;\r\n        const middleware = this.middleware;\r\n        const prepareCallHierarchy = (document, position, token) => {\r\n            const params = client.code2ProtocolConverter.asTextDocumentPositionParams(document, position);\r\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, params, token).then((result) => {\r\n                return client.protocol2CodeConverter.asCallHierarchyItems(result);\r\n            }, (error) => {\r\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, error, null);\r\n            });\r\n        };\r\n        return middleware.prepareCallHierarchy\r\n            ? middleware.prepareCallHierarchy(document, position, token, prepareCallHierarchy)\r\n            : prepareCallHierarchy(document, position, token);\r\n    }\r\n    provideCallHierarchyIncomingCalls(item, token) {\r\n        const client = this.client;\r\n        const middleware = this.middleware;\r\n        const provideCallHierarchyIncomingCalls = (item, token) => {\r\n            const params = {\r\n                item: client.code2ProtocolConverter.asCallHierarchyItem(item)\r\n            };\r\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type, params, token).then((result) => {\r\n                return client.protocol2CodeConverter.asCallHierarchyIncomingCalls(result);\r\n            }, (error) => {\r\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type, error, null);\r\n            });\r\n        };\r\n        return middleware.provideCallHierarchyIncomingCalls\r\n            ? middleware.provideCallHierarchyIncomingCalls(item, token, provideCallHierarchyIncomingCalls)\r\n            : provideCallHierarchyIncomingCalls(item, token);\r\n    }\r\n    provideCallHierarchyOutgoingCalls(item, token) {\r\n        const client = this.client;\r\n        const middleware = this.middleware;\r\n        const provideCallHierarchyOutgoingCalls = (item, token) => {\r\n            const params = {\r\n                item: client.code2ProtocolConverter.asCallHierarchyItem(item)\r\n            };\r\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type, params, token).then((result) => {\r\n                return client.protocol2CodeConverter.asCallHierarchyOutgoingCalls(result);\r\n            }, (error) => {\r\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type, error, null);\r\n            });\r\n        };\r\n        return middleware.provideCallHierarchyOutgoingCalls\r\n            ? middleware.provideCallHierarchyOutgoingCalls(item, token, provideCallHierarchyOutgoingCalls)\r\n            : provideCallHierarchyOutgoingCalls(item, token);\r\n    }\r\n}\r\nclass CallHierarchyFeature extends client_1.TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type);\r\n    }\r\n    fillClientCapabilities(cap) {\r\n        const capabilities = cap;\r\n        const capability = ensure(ensure(capabilities, 'textDocument'), 'callHierarchy');\r\n        capability.dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const [id, options] = this.getRegistration(documentSelector, capabilities.callHierarchyProvider);\r\n        if (!id || !options) {\r\n            return;\r\n        }\r\n        this.register({ id: id, registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const client = this._client;\r\n        const provider = new CallHierarchyProvider(client);\r\n        return [vscode_1.languages.registerCallHierarchyProvider(options.documentSelector, provider), provider];\r\n    }\r\n}\r\nexports.CallHierarchyFeature = CallHierarchyFeature;\r\n//# sourceMappingURL=callHierarchy.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseLanguageClient = exports.MessageTransports = exports.TextDocumentFeature = exports.State = exports.RevealOutputChannelOn = exports.CloseAction = exports.ErrorAction = void 0;\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst configuration_1 = require(\"./configuration\");\r\nconst c2p = require(\"./codeConverter\");\r\nconst p2c = require(\"./protocolConverter\");\r\nconst Is = require(\"./utils/is\");\r\nconst async_1 = require(\"./utils/async\");\r\nconst UUID = require(\"./utils/uuid\");\r\nconst progressPart_1 = require(\"./progressPart\");\r\nclass ConsoleLogger {\r\n    error(message) {\r\n        vscode_languageserver_protocol_1.RAL().console.error(message);\r\n    }\r\n    warn(message) {\r\n        vscode_languageserver_protocol_1.RAL().console.warn(message);\r\n    }\r\n    info(message) {\r\n        vscode_languageserver_protocol_1.RAL().console.info(message);\r\n    }\r\n    log(message) {\r\n        vscode_languageserver_protocol_1.RAL().console.log(message);\r\n    }\r\n}\r\nfunction createConnection(input, output, errorHandler, closeHandler, options) {\r\n    let logger = new ConsoleLogger();\r\n    let connection = vscode_languageserver_protocol_1.createProtocolConnection(input, output, logger, options);\r\n    connection.onError((data) => { errorHandler(data[0], data[1], data[2]); });\r\n    connection.onClose(closeHandler);\r\n    let result = {\r\n        listen: () => connection.listen(),\r\n        sendRequest: (type, ...params) => connection.sendRequest(Is.string(type) ? type : type.method, ...params),\r\n        onRequest: (type, handler) => connection.onRequest(Is.string(type) ? type : type.method, handler),\r\n        sendNotification: (type, params) => connection.sendNotification(Is.string(type) ? type : type.method, params),\r\n        onNotification: (type, handler) => connection.onNotification(Is.string(type) ? type : type.method, handler),\r\n        onProgress: connection.onProgress,\r\n        sendProgress: connection.sendProgress,\r\n        trace: (value, tracer, sendNotificationOrTraceOptions) => {\r\n            const defaultTraceOptions = {\r\n                sendNotification: false,\r\n                traceFormat: vscode_languageserver_protocol_1.TraceFormat.Text\r\n            };\r\n            if (sendNotificationOrTraceOptions === undefined) {\r\n                connection.trace(value, tracer, defaultTraceOptions);\r\n            }\r\n            else if (Is.boolean(sendNotificationOrTraceOptions)) {\r\n                connection.trace(value, tracer, sendNotificationOrTraceOptions);\r\n            }\r\n            else {\r\n                connection.trace(value, tracer, sendNotificationOrTraceOptions);\r\n            }\r\n        },\r\n        initialize: (params) => connection.sendRequest(vscode_languageserver_protocol_1.InitializeRequest.type, params),\r\n        shutdown: () => connection.sendRequest(vscode_languageserver_protocol_1.ShutdownRequest.type, undefined),\r\n        exit: () => connection.sendNotification(vscode_languageserver_protocol_1.ExitNotification.type),\r\n        onLogMessage: (handler) => connection.onNotification(vscode_languageserver_protocol_1.LogMessageNotification.type, handler),\r\n        onShowMessage: (handler) => connection.onNotification(vscode_languageserver_protocol_1.ShowMessageNotification.type, handler),\r\n        onTelemetry: (handler) => connection.onNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type, handler),\r\n        didChangeConfiguration: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, params),\r\n        didChangeWatchedFiles: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type, params),\r\n        didOpenTextDocument: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, params),\r\n        didChangeTextDocument: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params),\r\n        didCloseTextDocument: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, params),\r\n        didSaveTextDocument: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, params),\r\n        onDiagnostics: (handler) => connection.onNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type, handler),\r\n        end: () => connection.end(),\r\n        dispose: () => connection.dispose()\r\n    };\r\n    return result;\r\n}\r\n/**\r\n * An action to be performed when the connection is producing errors.\r\n */\r\nvar ErrorAction;\r\n(function (ErrorAction) {\r\n    /**\r\n     * Continue running the server.\r\n     */\r\n    ErrorAction[ErrorAction[\"Continue\"] = 1] = \"Continue\";\r\n    /**\r\n     * Shutdown the server.\r\n     */\r\n    ErrorAction[ErrorAction[\"Shutdown\"] = 2] = \"Shutdown\";\r\n})(ErrorAction = exports.ErrorAction || (exports.ErrorAction = {}));\r\n/**\r\n * An action to be performed when the connection to a server got closed.\r\n */\r\nvar CloseAction;\r\n(function (CloseAction) {\r\n    /**\r\n     * Don't restart the server. The connection stays closed.\r\n     */\r\n    CloseAction[CloseAction[\"DoNotRestart\"] = 1] = \"DoNotRestart\";\r\n    /**\r\n     * Restart the server.\r\n     */\r\n    CloseAction[CloseAction[\"Restart\"] = 2] = \"Restart\";\r\n})(CloseAction = exports.CloseAction || (exports.CloseAction = {}));\r\nclass DefaultErrorHandler {\r\n    constructor(name, maxRestartCount) {\r\n        this.name = name;\r\n        this.maxRestartCount = maxRestartCount;\r\n        this.restarts = [];\r\n    }\r\n    error(_error, _message, count) {\r\n        if (count && count <= 3) {\r\n            return ErrorAction.Continue;\r\n        }\r\n        return ErrorAction.Shutdown;\r\n    }\r\n    closed() {\r\n        this.restarts.push(Date.now());\r\n        if (this.restarts.length <= this.maxRestartCount) {\r\n            return CloseAction.Restart;\r\n        }\r\n        else {\r\n            let diff = this.restarts[this.restarts.length - 1] - this.restarts[0];\r\n            if (diff <= 3 * 60 * 1000) {\r\n                vscode_1.window.showErrorMessage(`The ${this.name} server crashed ${this.maxRestartCount + 1} times in the last 3 minutes. The server will not be restarted.`);\r\n                return CloseAction.DoNotRestart;\r\n            }\r\n            else {\r\n                this.restarts.shift();\r\n                return CloseAction.Restart;\r\n            }\r\n        }\r\n    }\r\n}\r\nvar RevealOutputChannelOn;\r\n(function (RevealOutputChannelOn) {\r\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Info\"] = 1] = \"Info\";\r\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Warn\"] = 2] = \"Warn\";\r\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Error\"] = 3] = \"Error\";\r\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Never\"] = 4] = \"Never\";\r\n})(RevealOutputChannelOn = exports.RevealOutputChannelOn || (exports.RevealOutputChannelOn = {}));\r\nvar State;\r\n(function (State) {\r\n    State[State[\"Stopped\"] = 1] = \"Stopped\";\r\n    State[State[\"Starting\"] = 3] = \"Starting\";\r\n    State[State[\"Running\"] = 2] = \"Running\";\r\n})(State = exports.State || (exports.State = {}));\r\nvar ClientState;\r\n(function (ClientState) {\r\n    ClientState[ClientState[\"Initial\"] = 0] = \"Initial\";\r\n    ClientState[ClientState[\"Starting\"] = 1] = \"Starting\";\r\n    ClientState[ClientState[\"StartFailed\"] = 2] = \"StartFailed\";\r\n    ClientState[ClientState[\"Running\"] = 3] = \"Running\";\r\n    ClientState[ClientState[\"Stopping\"] = 4] = \"Stopping\";\r\n    ClientState[ClientState[\"Stopped\"] = 5] = \"Stopped\";\r\n})(ClientState || (ClientState = {}));\r\nconst SupportedSymbolKinds = [\r\n    vscode_languageserver_protocol_1.SymbolKind.File,\r\n    vscode_languageserver_protocol_1.SymbolKind.Module,\r\n    vscode_languageserver_protocol_1.SymbolKind.Namespace,\r\n    vscode_languageserver_protocol_1.SymbolKind.Package,\r\n    vscode_languageserver_protocol_1.SymbolKind.Class,\r\n    vscode_languageserver_protocol_1.SymbolKind.Method,\r\n    vscode_languageserver_protocol_1.SymbolKind.Property,\r\n    vscode_languageserver_protocol_1.SymbolKind.Field,\r\n    vscode_languageserver_protocol_1.SymbolKind.Constructor,\r\n    vscode_languageserver_protocol_1.SymbolKind.Enum,\r\n    vscode_languageserver_protocol_1.SymbolKind.Interface,\r\n    vscode_languageserver_protocol_1.SymbolKind.Function,\r\n    vscode_languageserver_protocol_1.SymbolKind.Variable,\r\n    vscode_languageserver_protocol_1.SymbolKind.Constant,\r\n    vscode_languageserver_protocol_1.SymbolKind.String,\r\n    vscode_languageserver_protocol_1.SymbolKind.Number,\r\n    vscode_languageserver_protocol_1.SymbolKind.Boolean,\r\n    vscode_languageserver_protocol_1.SymbolKind.Array,\r\n    vscode_languageserver_protocol_1.SymbolKind.Object,\r\n    vscode_languageserver_protocol_1.SymbolKind.Key,\r\n    vscode_languageserver_protocol_1.SymbolKind.Null,\r\n    vscode_languageserver_protocol_1.SymbolKind.EnumMember,\r\n    vscode_languageserver_protocol_1.SymbolKind.Struct,\r\n    vscode_languageserver_protocol_1.SymbolKind.Event,\r\n    vscode_languageserver_protocol_1.SymbolKind.Operator,\r\n    vscode_languageserver_protocol_1.SymbolKind.TypeParameter\r\n];\r\nconst SupportedCompletionItemKinds = [\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Text,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Method,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Function,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Constructor,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Field,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Variable,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Class,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Interface,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Module,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Property,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Unit,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Value,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Enum,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Keyword,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Snippet,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Color,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.File,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Reference,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Folder,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.EnumMember,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Constant,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Struct,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Event,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Operator,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.TypeParameter\r\n];\r\nconst SupportedSymbolTags = [\r\n    vscode_languageserver_protocol_1.SymbolTag.Deprecated\r\n];\r\nfunction ensure(target, key) {\r\n    if (target[key] === undefined) {\r\n        target[key] = {};\r\n    }\r\n    return target[key];\r\n}\r\nvar FileFormattingOptions;\r\n(function (FileFormattingOptions) {\r\n    function fromConfiguration(document) {\r\n        const filesConfig = vscode_1.workspace.getConfiguration('files', document);\r\n        return {\r\n            trimTrailingWhitespace: filesConfig.get('trimTrailingWhitespace'),\r\n            trimFinalNewlines: filesConfig.get('trimFinalNewlines'),\r\n            insertFinalNewline: filesConfig.get('insertFinalNewline'),\r\n        };\r\n    }\r\n    FileFormattingOptions.fromConfiguration = fromConfiguration;\r\n})(FileFormattingOptions || (FileFormattingOptions = {}));\r\nvar DynamicFeature;\r\n(function (DynamicFeature) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.register) && Is.func(candidate.unregister) && Is.func(candidate.dispose) && candidate.registrationType !== undefined;\r\n    }\r\n    DynamicFeature.is = is;\r\n})(DynamicFeature || (DynamicFeature = {}));\r\nclass DocumentNotifications {\r\n    constructor(_client, _event, _type, _middleware, _createParams, _selectorFilter) {\r\n        this._client = _client;\r\n        this._event = _event;\r\n        this._type = _type;\r\n        this._middleware = _middleware;\r\n        this._createParams = _createParams;\r\n        this._selectorFilter = _selectorFilter;\r\n        this._selectors = new Map();\r\n    }\r\n    static textDocumentFilter(selectors, textDocument) {\r\n        for (const selector of selectors) {\r\n            if (vscode_1.languages.match(selector, textDocument)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    register(data) {\r\n        if (!data.registerOptions.documentSelector) {\r\n            return;\r\n        }\r\n        if (!this._listener) {\r\n            this._listener = this._event(this.callback, this);\r\n        }\r\n        this._selectors.set(data.id, data.registerOptions.documentSelector);\r\n    }\r\n    callback(data) {\r\n        if (!this._selectorFilter || this._selectorFilter(this._selectors.values(), data)) {\r\n            if (this._middleware) {\r\n                this._middleware(data, (data) => this._client.sendNotification(this._type, this._createParams(data)));\r\n            }\r\n            else {\r\n                this._client.sendNotification(this._type, this._createParams(data));\r\n            }\r\n            this.notificationSent(data);\r\n        }\r\n    }\r\n    notificationSent(_data) {\r\n    }\r\n    unregister(id) {\r\n        this._selectors.delete(id);\r\n        if (this._selectors.size === 0 && this._listener) {\r\n            this._listener.dispose();\r\n            this._listener = undefined;\r\n        }\r\n    }\r\n    dispose() {\r\n        this._selectors.clear();\r\n        if (this._listener) {\r\n            this._listener.dispose();\r\n            this._listener = undefined;\r\n        }\r\n    }\r\n    getProvider(document) {\r\n        for (const selector of this._selectors.values()) {\r\n            if (vscode_1.languages.match(selector, document)) {\r\n                return {\r\n                    send: (data) => {\r\n                        this.callback(data);\r\n                    }\r\n                };\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n}\r\nclass DidOpenTextDocumentFeature extends DocumentNotifications {\r\n    constructor(client, _syncedDocuments) {\r\n        super(client, vscode_1.workspace.onDidOpenTextDocument, vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, client.clientOptions.middleware.didOpen, (textDocument) => client.code2ProtocolConverter.asOpenTextDocumentParams(textDocument), DocumentNotifications.textDocumentFilter);\r\n        this._syncedDocuments = _syncedDocuments;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\r\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.openClose) {\r\n            this.register({ id: UUID.generateUuid(), registerOptions: { documentSelector: documentSelector } });\r\n        }\r\n    }\r\n    get registrationType() {\r\n        return vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type;\r\n    }\r\n    register(data) {\r\n        super.register(data);\r\n        if (!data.registerOptions.documentSelector) {\r\n            return;\r\n        }\r\n        let documentSelector = data.registerOptions.documentSelector;\r\n        vscode_1.workspace.textDocuments.forEach((textDocument) => {\r\n            let uri = textDocument.uri.toString();\r\n            if (this._syncedDocuments.has(uri)) {\r\n                return;\r\n            }\r\n            if (vscode_1.languages.match(documentSelector, textDocument)) {\r\n                let middleware = this._client.clientOptions.middleware;\r\n                let didOpen = (textDocument) => {\r\n                    this._client.sendNotification(this._type, this._createParams(textDocument));\r\n                };\r\n                if (middleware.didOpen) {\r\n                    middleware.didOpen(textDocument, didOpen);\r\n                }\r\n                else {\r\n                    didOpen(textDocument);\r\n                }\r\n                this._syncedDocuments.set(uri, textDocument);\r\n            }\r\n        });\r\n    }\r\n    notificationSent(textDocument) {\r\n        super.notificationSent(textDocument);\r\n        this._syncedDocuments.set(textDocument.uri.toString(), textDocument);\r\n    }\r\n}\r\nclass DidCloseTextDocumentFeature extends DocumentNotifications {\r\n    constructor(client, _syncedDocuments) {\r\n        super(client, vscode_1.workspace.onDidCloseTextDocument, vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, client.clientOptions.middleware.didClose, (textDocument) => client.code2ProtocolConverter.asCloseTextDocumentParams(textDocument), DocumentNotifications.textDocumentFilter);\r\n        this._syncedDocuments = _syncedDocuments;\r\n    }\r\n    get registrationType() {\r\n        return vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\r\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.openClose) {\r\n            this.register({ id: UUID.generateUuid(), registerOptions: { documentSelector: documentSelector } });\r\n        }\r\n    }\r\n    notificationSent(textDocument) {\r\n        super.notificationSent(textDocument);\r\n        this._syncedDocuments.delete(textDocument.uri.toString());\r\n    }\r\n    unregister(id) {\r\n        let selector = this._selectors.get(id);\r\n        // The super call removed the selector from the map\r\n        // of selectors.\r\n        super.unregister(id);\r\n        let selectors = this._selectors.values();\r\n        this._syncedDocuments.forEach((textDocument) => {\r\n            if (vscode_1.languages.match(selector, textDocument) && !this._selectorFilter(selectors, textDocument)) {\r\n                let middleware = this._client.clientOptions.middleware;\r\n                let didClose = (textDocument) => {\r\n                    this._client.sendNotification(this._type, this._createParams(textDocument));\r\n                };\r\n                this._syncedDocuments.delete(textDocument.uri.toString());\r\n                if (middleware.didClose) {\r\n                    middleware.didClose(textDocument, didClose);\r\n                }\r\n                else {\r\n                    didClose(textDocument);\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\nclass DidChangeTextDocumentFeature {\r\n    constructor(_client) {\r\n        this._client = _client;\r\n        this._changeData = new Map();\r\n        this._forcingDelivery = false;\r\n    }\r\n    get registrationType() {\r\n        return vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\r\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.change !== undefined && textDocumentSyncOptions.change !== vscode_languageserver_protocol_1.TextDocumentSyncKind.None) {\r\n            this.register({\r\n                id: UUID.generateUuid(),\r\n                registerOptions: Object.assign({}, { documentSelector: documentSelector }, { syncKind: textDocumentSyncOptions.change })\r\n            });\r\n        }\r\n    }\r\n    register(data) {\r\n        if (!data.registerOptions.documentSelector) {\r\n            return;\r\n        }\r\n        if (!this._listener) {\r\n            this._listener = vscode_1.workspace.onDidChangeTextDocument(this.callback, this);\r\n        }\r\n        this._changeData.set(data.id, {\r\n            documentSelector: data.registerOptions.documentSelector,\r\n            syncKind: data.registerOptions.syncKind\r\n        });\r\n    }\r\n    callback(event) {\r\n        // Text document changes are send for dirty changes as well. We don't\r\n        // have dirty / un-dirty events in the LSP so we ignore content changes\r\n        // with length zero.\r\n        if (event.contentChanges.length === 0) {\r\n            return;\r\n        }\r\n        for (const changeData of this._changeData.values()) {\r\n            if (vscode_1.languages.match(changeData.documentSelector, event.document)) {\r\n                let middleware = this._client.clientOptions.middleware;\r\n                if (changeData.syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Incremental) {\r\n                    let params = this._client.code2ProtocolConverter.asChangeTextDocumentParams(event);\r\n                    if (middleware.didChange) {\r\n                        middleware.didChange(event, () => this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params));\r\n                    }\r\n                    else {\r\n                        this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params);\r\n                    }\r\n                }\r\n                else if (changeData.syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Full) {\r\n                    let didChange = (event) => {\r\n                        if (this._changeDelayer) {\r\n                            if (this._changeDelayer.uri !== event.document.uri.toString()) {\r\n                                // Use this force delivery to track boolean state. Otherwise we might call two times.\r\n                                this.forceDelivery();\r\n                                this._changeDelayer.uri = event.document.uri.toString();\r\n                            }\r\n                            this._changeDelayer.delayer.trigger(() => {\r\n                                this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, this._client.code2ProtocolConverter.asChangeTextDocumentParams(event.document));\r\n                            });\r\n                        }\r\n                        else {\r\n                            this._changeDelayer = {\r\n                                uri: event.document.uri.toString(),\r\n                                delayer: new async_1.Delayer(200)\r\n                            };\r\n                            this._changeDelayer.delayer.trigger(() => {\r\n                                this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, this._client.code2ProtocolConverter.asChangeTextDocumentParams(event.document));\r\n                            }, -1);\r\n                        }\r\n                    };\r\n                    if (middleware.didChange) {\r\n                        middleware.didChange(event, didChange);\r\n                    }\r\n                    else {\r\n                        didChange(event);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    unregister(id) {\r\n        this._changeData.delete(id);\r\n        if (this._changeData.size === 0 && this._listener) {\r\n            this._listener.dispose();\r\n            this._listener = undefined;\r\n        }\r\n    }\r\n    dispose() {\r\n        this._changeDelayer = undefined;\r\n        this._forcingDelivery = false;\r\n        this._changeData.clear();\r\n        if (this._listener) {\r\n            this._listener.dispose();\r\n            this._listener = undefined;\r\n        }\r\n    }\r\n    forceDelivery() {\r\n        if (this._forcingDelivery || !this._changeDelayer) {\r\n            return;\r\n        }\r\n        try {\r\n            this._forcingDelivery = true;\r\n            this._changeDelayer.delayer.forceDelivery();\r\n        }\r\n        finally {\r\n            this._forcingDelivery = false;\r\n        }\r\n    }\r\n    getProvider(document) {\r\n        for (const changeData of this._changeData.values()) {\r\n            if (vscode_1.languages.match(changeData.documentSelector, document)) {\r\n                return {\r\n                    send: (event) => {\r\n                        this.callback(event);\r\n                    }\r\n                };\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n}\r\nclass WillSaveFeature extends DocumentNotifications {\r\n    constructor(client) {\r\n        super(client, vscode_1.workspace.onWillSaveTextDocument, vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type, client.clientOptions.middleware.willSave, (willSaveEvent) => client.code2ProtocolConverter.asWillSaveTextDocumentParams(willSaveEvent), (selectors, willSaveEvent) => DocumentNotifications.textDocumentFilter(selectors, willSaveEvent.document));\r\n    }\r\n    get registrationType() {\r\n        return vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        let value = ensure(ensure(capabilities, 'textDocument'), 'synchronization');\r\n        value.willSave = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\r\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.willSave) {\r\n            this.register({\r\n                id: UUID.generateUuid(),\r\n                registerOptions: { documentSelector: documentSelector }\r\n            });\r\n        }\r\n    }\r\n}\r\nclass WillSaveWaitUntilFeature {\r\n    constructor(_client) {\r\n        this._client = _client;\r\n        this._selectors = new Map();\r\n    }\r\n    get registrationType() {\r\n        return vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        let value = ensure(ensure(capabilities, 'textDocument'), 'synchronization');\r\n        value.willSaveWaitUntil = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\r\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.willSaveWaitUntil) {\r\n            this.register({\r\n                id: UUID.generateUuid(),\r\n                registerOptions: { documentSelector: documentSelector }\r\n            });\r\n        }\r\n    }\r\n    register(data) {\r\n        if (!data.registerOptions.documentSelector) {\r\n            return;\r\n        }\r\n        if (!this._listener) {\r\n            this._listener = vscode_1.workspace.onWillSaveTextDocument(this.callback, this);\r\n        }\r\n        this._selectors.set(data.id, data.registerOptions.documentSelector);\r\n    }\r\n    callback(event) {\r\n        if (DocumentNotifications.textDocumentFilter(this._selectors.values(), event.document)) {\r\n            let middleware = this._client.clientOptions.middleware;\r\n            let willSaveWaitUntil = (event) => {\r\n                return this._client.sendRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type, this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(event)).then((edits) => {\r\n                    let vEdits = this._client.protocol2CodeConverter.asTextEdits(edits);\r\n                    return vEdits === undefined ? [] : vEdits;\r\n                });\r\n            };\r\n            event.waitUntil(middleware.willSaveWaitUntil\r\n                ? middleware.willSaveWaitUntil(event, willSaveWaitUntil)\r\n                : willSaveWaitUntil(event));\r\n        }\r\n    }\r\n    unregister(id) {\r\n        this._selectors.delete(id);\r\n        if (this._selectors.size === 0 && this._listener) {\r\n            this._listener.dispose();\r\n            this._listener = undefined;\r\n        }\r\n    }\r\n    dispose() {\r\n        this._selectors.clear();\r\n        if (this._listener) {\r\n            this._listener.dispose();\r\n            this._listener = undefined;\r\n        }\r\n    }\r\n}\r\nclass DidSaveTextDocumentFeature extends DocumentNotifications {\r\n    constructor(client) {\r\n        super(client, vscode_1.workspace.onDidSaveTextDocument, vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, client.clientOptions.middleware.didSave, (textDocument) => client.code2ProtocolConverter.asSaveTextDocumentParams(textDocument, this._includeText), DocumentNotifications.textDocumentFilter);\r\n        this._includeText = false;\r\n    }\r\n    get registrationType() {\r\n        return vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'textDocument'), 'synchronization').didSave = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\r\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.save) {\r\n            const saveOptions = typeof textDocumentSyncOptions.save === 'boolean'\r\n                ? { includeText: false }\r\n                : { includeText: !!textDocumentSyncOptions.save.includeText };\r\n            this.register({\r\n                id: UUID.generateUuid(),\r\n                registerOptions: Object.assign({}, { documentSelector: documentSelector }, saveOptions)\r\n            });\r\n        }\r\n    }\r\n    register(data) {\r\n        this._includeText = !!data.registerOptions.includeText;\r\n        super.register(data);\r\n    }\r\n}\r\nclass FileSystemWatcherFeature {\r\n    constructor(_client, _notifyFileEvent) {\r\n        this._client = _client;\r\n        this._notifyFileEvent = _notifyFileEvent;\r\n        this._watchers = new Map();\r\n    }\r\n    get registrationType() {\r\n        return vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'workspace'), 'didChangeWatchedFiles').dynamicRegistration = true;\r\n    }\r\n    initialize(_capabilities, _documentSelector) {\r\n    }\r\n    register(data) {\r\n        if (!Array.isArray(data.registerOptions.watchers)) {\r\n            return;\r\n        }\r\n        let disposables = [];\r\n        for (let watcher of data.registerOptions.watchers) {\r\n            if (!Is.string(watcher.globPattern)) {\r\n                continue;\r\n            }\r\n            let watchCreate = true, watchChange = true, watchDelete = true;\r\n            if (watcher.kind !== undefined && watcher.kind !== null) {\r\n                watchCreate = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Create) !== 0;\r\n                watchChange = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Change) !== 0;\r\n                watchDelete = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Delete) !== 0;\r\n            }\r\n            let fileSystemWatcher = vscode_1.workspace.createFileSystemWatcher(watcher.globPattern, !watchCreate, !watchChange, !watchDelete);\r\n            this.hookListeners(fileSystemWatcher, watchCreate, watchChange, watchDelete);\r\n            disposables.push(fileSystemWatcher);\r\n        }\r\n        this._watchers.set(data.id, disposables);\r\n    }\r\n    registerRaw(id, fileSystemWatchers) {\r\n        let disposables = [];\r\n        for (let fileSystemWatcher of fileSystemWatchers) {\r\n            this.hookListeners(fileSystemWatcher, true, true, true, disposables);\r\n        }\r\n        this._watchers.set(id, disposables);\r\n    }\r\n    hookListeners(fileSystemWatcher, watchCreate, watchChange, watchDelete, listeners) {\r\n        if (watchCreate) {\r\n            fileSystemWatcher.onDidCreate((resource) => this._notifyFileEvent({\r\n                uri: this._client.code2ProtocolConverter.asUri(resource),\r\n                type: vscode_languageserver_protocol_1.FileChangeType.Created\r\n            }), null, listeners);\r\n        }\r\n        if (watchChange) {\r\n            fileSystemWatcher.onDidChange((resource) => this._notifyFileEvent({\r\n                uri: this._client.code2ProtocolConverter.asUri(resource),\r\n                type: vscode_languageserver_protocol_1.FileChangeType.Changed\r\n            }), null, listeners);\r\n        }\r\n        if (watchDelete) {\r\n            fileSystemWatcher.onDidDelete((resource) => this._notifyFileEvent({\r\n                uri: this._client.code2ProtocolConverter.asUri(resource),\r\n                type: vscode_languageserver_protocol_1.FileChangeType.Deleted\r\n            }), null, listeners);\r\n        }\r\n    }\r\n    unregister(id) {\r\n        let disposables = this._watchers.get(id);\r\n        if (disposables) {\r\n            for (let disposable of disposables) {\r\n                disposable.dispose();\r\n            }\r\n        }\r\n    }\r\n    dispose() {\r\n        this._watchers.forEach((disposables) => {\r\n            for (let disposable of disposables) {\r\n                disposable.dispose();\r\n            }\r\n        });\r\n        this._watchers.clear();\r\n    }\r\n}\r\nclass TextDocumentFeature {\r\n    constructor(_client, _registrationType) {\r\n        this._client = _client;\r\n        this._registrationType = _registrationType;\r\n        this._registrations = new Map();\r\n    }\r\n    get registrationType() {\r\n        return this._registrationType;\r\n    }\r\n    register(data) {\r\n        if (!data.registerOptions.documentSelector) {\r\n            return;\r\n        }\r\n        let registration = this.registerLanguageProvider(data.registerOptions);\r\n        this._registrations.set(data.id, { disposable: registration[0], data, provider: registration[1] });\r\n    }\r\n    unregister(id) {\r\n        let registration = this._registrations.get(id);\r\n        if (registration !== undefined) {\r\n            registration.disposable.dispose();\r\n        }\r\n    }\r\n    dispose() {\r\n        this._registrations.forEach((value) => {\r\n            value.disposable.dispose();\r\n        });\r\n        this._registrations.clear();\r\n    }\r\n    getRegistration(documentSelector, capability) {\r\n        if (!capability) {\r\n            return [undefined, undefined];\r\n        }\r\n        else if (vscode_languageserver_protocol_1.TextDocumentRegistrationOptions.is(capability)) {\r\n            const id = vscode_languageserver_protocol_1.StaticRegistrationOptions.hasId(capability) ? capability.id : UUID.generateUuid();\r\n            const selector = capability.documentSelector || documentSelector;\r\n            if (selector) {\r\n                return [id, Object.assign({}, capability, { documentSelector: selector })];\r\n            }\r\n        }\r\n        else if (Is.boolean(capability) && capability === true || vscode_languageserver_protocol_1.WorkDoneProgressOptions.is(capability)) {\r\n            if (!documentSelector) {\r\n                return [undefined, undefined];\r\n            }\r\n            let options = (Is.boolean(capability) && capability === true ? { documentSelector } : Object.assign({}, capability, { documentSelector }));\r\n            return [UUID.generateUuid(), options];\r\n        }\r\n        return [undefined, undefined];\r\n    }\r\n    getRegistrationOptions(documentSelector, capability) {\r\n        if (!documentSelector || !capability) {\r\n            return undefined;\r\n        }\r\n        return (Is.boolean(capability) && capability === true ? { documentSelector } : Object.assign({}, capability, { documentSelector }));\r\n    }\r\n    getProvider(textDocument) {\r\n        for (const registration of this._registrations.values()) {\r\n            let selector = registration.data.registerOptions.documentSelector;\r\n            if (selector !== null && vscode_1.languages.match(selector, textDocument)) {\r\n                return registration.provider;\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n    getAllProviders() {\r\n        const result = [];\r\n        for (const item of this._registrations.values()) {\r\n            result.push(item.provider);\r\n        }\r\n        return result;\r\n    }\r\n}\r\nexports.TextDocumentFeature = TextDocumentFeature;\r\nclass WorkspaceFeature {\r\n    constructor(_client, _registrationType) {\r\n        this._client = _client;\r\n        this._registrationType = _registrationType;\r\n        this._registrations = new Map();\r\n    }\r\n    get registrationType() {\r\n        return this._registrationType;\r\n    }\r\n    register(data) {\r\n        const registration = this.registerLanguageProvider(data.registerOptions);\r\n        this._registrations.set(data.id, { disposable: registration[0], provider: registration[1] });\r\n    }\r\n    unregister(id) {\r\n        let registration = this._registrations.get(id);\r\n        if (registration !== undefined) {\r\n            registration.disposable.dispose();\r\n        }\r\n    }\r\n    dispose() {\r\n        this._registrations.forEach((registration) => {\r\n            registration.disposable.dispose();\r\n        });\r\n        this._registrations.clear();\r\n    }\r\n    getProviders() {\r\n        const result = [];\r\n        for (const registration of this._registrations.values()) {\r\n            result.push(registration.provider);\r\n        }\r\n        return result;\r\n    }\r\n}\r\nclass CompletionItemFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.CompletionRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        let completion = ensure(ensure(capabilities, 'textDocument'), 'completion');\r\n        completion.dynamicRegistration = true;\r\n        completion.contextSupport = true;\r\n        completion.completionItem = {\r\n            snippetSupport: true,\r\n            commitCharactersSupport: true,\r\n            documentationFormat: [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText],\r\n            deprecatedSupport: true,\r\n            preselectSupport: true,\r\n            tagSupport: { valueSet: [vscode_languageserver_protocol_1.CompletionItemTag.Deprecated] },\r\n            insertReplaceSupport: true,\r\n            resolveSupport: {\r\n                properties: ['documentation', 'detail', 'additionalTextEdits']\r\n            },\r\n            insertTextModeSupport: { valueSet: [vscode_languageserver_protocol_1.InsertTextMode.asIs, vscode_languageserver_protocol_1.InsertTextMode.adjustIndentation] }\r\n        };\r\n        completion.completionItemKind = { valueSet: SupportedCompletionItemKinds };\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const options = this.getRegistrationOptions(documentSelector, capabilities.completionProvider);\r\n        if (!options) {\r\n            return;\r\n        }\r\n        this.register({\r\n            id: UUID.generateUuid(),\r\n            registerOptions: options\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const triggerCharacters = options.triggerCharacters || [];\r\n        const provider = {\r\n            provideCompletionItems: (document, position, token, context) => {\r\n                const client = this._client;\r\n                const middleware = this._client.clientOptions.middleware;\r\n                const provideCompletionItems = (document, position, context, token) => {\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.CompletionRequest.type, client.code2ProtocolConverter.asCompletionParams(document, position, context), token).then(client.protocol2CodeConverter.asCompletionResult, (error) => {\r\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.CompletionRequest.type, error, null);\r\n                    });\r\n                };\r\n                return middleware.provideCompletionItem\r\n                    ? middleware.provideCompletionItem(document, position, context, token, provideCompletionItems)\r\n                    : provideCompletionItems(document, position, context, token);\r\n            },\r\n            resolveCompletionItem: options.resolveProvider\r\n                ? (item, token) => {\r\n                    const client = this._client;\r\n                    const middleware = this._client.clientOptions.middleware;\r\n                    const resolveCompletionItem = (item, token) => {\r\n                        return client.sendRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, client.code2ProtocolConverter.asCompletionItem(item), token).then(client.protocol2CodeConverter.asCompletionItem, (error) => {\r\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, error, item);\r\n                        });\r\n                    };\r\n                    return middleware.resolveCompletionItem\r\n                        ? middleware.resolveCompletionItem(item, token, resolveCompletionItem)\r\n                        : resolveCompletionItem(item, token);\r\n                }\r\n                : undefined\r\n        };\r\n        return [vscode_1.languages.registerCompletionItemProvider(options.documentSelector, provider, ...triggerCharacters), provider];\r\n    }\r\n}\r\nclass HoverFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.HoverRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        const hoverCapability = (ensure(ensure(capabilities, 'textDocument'), 'hover'));\r\n        hoverCapability.dynamicRegistration = true;\r\n        hoverCapability.contentFormat = [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText];\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const options = this.getRegistrationOptions(documentSelector, capabilities.hoverProvider);\r\n        if (!options) {\r\n            return;\r\n        }\r\n        this.register({\r\n            id: UUID.generateUuid(),\r\n            registerOptions: options\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideHover: (document, position, token) => {\r\n                const client = this._client;\r\n                const provideHover = (document, position, token) => {\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.HoverRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asHover, (error) => {\r\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.HoverRequest.type, error, null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideHover\r\n                    ? middleware.provideHover(document, position, token, provideHover)\r\n                    : provideHover(document, position, token);\r\n            }\r\n        };\r\n        return [vscode_1.languages.registerHoverProvider(options.documentSelector, provider), provider];\r\n    }\r\n}\r\nclass SignatureHelpFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.SignatureHelpRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        let config = ensure(ensure(capabilities, 'textDocument'), 'signatureHelp');\r\n        config.dynamicRegistration = true;\r\n        config.signatureInformation = { documentationFormat: [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText] };\r\n        config.signatureInformation.parameterInformation = { labelOffsetSupport: true };\r\n        config.signatureInformation.activeParameterSupport = true;\r\n        config.contextSupport = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const options = this.getRegistrationOptions(documentSelector, capabilities.signatureHelpProvider);\r\n        if (!options) {\r\n            return;\r\n        }\r\n        this.register({\r\n            id: UUID.generateUuid(),\r\n            registerOptions: options\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideSignatureHelp: (document, position, token, context) => {\r\n                const client = this._client;\r\n                const providerSignatureHelp = (document, position, context, token) => {\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, client.code2ProtocolConverter.asSignatureHelpParams(document, position, context), token).then(client.protocol2CodeConverter.asSignatureHelp, (error) => {\r\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, error, null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideSignatureHelp\r\n                    ? middleware.provideSignatureHelp(document, position, context, token, providerSignatureHelp)\r\n                    : providerSignatureHelp(document, position, context, token);\r\n            }\r\n        };\r\n        let disposable;\r\n        if (options.retriggerCharacters === undefined) {\r\n            const triggerCharacters = options.triggerCharacters || [];\r\n            disposable = vscode_1.languages.registerSignatureHelpProvider(options.documentSelector, provider, ...triggerCharacters);\r\n        }\r\n        else {\r\n            const metaData = {\r\n                triggerCharacters: options.triggerCharacters || [],\r\n                retriggerCharacters: options.retriggerCharacters || []\r\n            };\r\n            disposable = vscode_1.languages.registerSignatureHelpProvider(options.documentSelector, provider, metaData);\r\n        }\r\n        return [disposable, provider];\r\n    }\r\n}\r\nclass DefinitionFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DefinitionRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        let definitionSupport = ensure(ensure(capabilities, 'textDocument'), 'definition');\r\n        definitionSupport.dynamicRegistration = true;\r\n        definitionSupport.linkSupport = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const options = this.getRegistrationOptions(documentSelector, capabilities.definitionProvider);\r\n        if (!options) {\r\n            return;\r\n        }\r\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideDefinition: (document, position, token) => {\r\n                const client = this._client;\r\n                const provideDefinition = (document, position, token) => {\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDefinitionResult, (error) => {\r\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, error, null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideDefinition\r\n                    ? middleware.provideDefinition(document, position, token, provideDefinition)\r\n                    : provideDefinition(document, position, token);\r\n            }\r\n        };\r\n        return [vscode_1.languages.registerDefinitionProvider(options.documentSelector, provider), provider];\r\n    }\r\n}\r\nclass ReferencesFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.ReferencesRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'textDocument'), 'references').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const options = this.getRegistrationOptions(documentSelector, capabilities.referencesProvider);\r\n        if (!options) {\r\n            return;\r\n        }\r\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideReferences: (document, position, options, token) => {\r\n                const client = this._client;\r\n                const _providerReferences = (document, position, options, token) => {\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, client.code2ProtocolConverter.asReferenceParams(document, position, options), token).then(client.protocol2CodeConverter.asReferences, (error) => {\r\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, error, null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideReferences\r\n                    ? middleware.provideReferences(document, position, options, token, _providerReferences)\r\n                    : _providerReferences(document, position, options, token);\r\n            }\r\n        };\r\n        return [vscode_1.languages.registerReferenceProvider(options.documentSelector, provider), provider];\r\n    }\r\n}\r\nclass DocumentHighlightFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DocumentHighlightRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'textDocument'), 'documentHighlight').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentHighlightProvider);\r\n        if (!options) {\r\n            return;\r\n        }\r\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideDocumentHighlights: (document, position, token) => {\r\n                const client = this._client;\r\n                const _provideDocumentHighlights = (document, position, token) => {\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDocumentHighlights, (error) => {\r\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, error, null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideDocumentHighlights\r\n                    ? middleware.provideDocumentHighlights(document, position, token, _provideDocumentHighlights)\r\n                    : _provideDocumentHighlights(document, position, token);\r\n            }\r\n        };\r\n        return [vscode_1.languages.registerDocumentHighlightProvider(options.documentSelector, provider), provider];\r\n    }\r\n}\r\nclass DocumentSymbolFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DocumentSymbolRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        let symbolCapabilities = ensure(ensure(capabilities, 'textDocument'), 'documentSymbol');\r\n        symbolCapabilities.dynamicRegistration = true;\r\n        symbolCapabilities.symbolKind = {\r\n            valueSet: SupportedSymbolKinds\r\n        };\r\n        symbolCapabilities.hierarchicalDocumentSymbolSupport = true;\r\n        symbolCapabilities.tagSupport = {\r\n            valueSet: SupportedSymbolTags\r\n        };\r\n        symbolCapabilities.labelSupport = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentSymbolProvider);\r\n        if (!options) {\r\n            return;\r\n        }\r\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideDocumentSymbols: (document, token) => {\r\n                const client = this._client;\r\n                const _provideDocumentSymbols = (document, token) => {\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, client.code2ProtocolConverter.asDocumentSymbolParams(document), token).then((data) => {\r\n                        if (data === null) {\r\n                            return undefined;\r\n                        }\r\n                        if (data.length === 0) {\r\n                            return [];\r\n                        }\r\n                        else {\r\n                            let element = data[0];\r\n                            if (vscode_languageserver_protocol_1.DocumentSymbol.is(element)) {\r\n                                return client.protocol2CodeConverter.asDocumentSymbols(data);\r\n                            }\r\n                            else {\r\n                                return client.protocol2CodeConverter.asSymbolInformations(data);\r\n                            }\r\n                        }\r\n                    }, (error) => {\r\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, error, null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideDocumentSymbols\r\n                    ? middleware.provideDocumentSymbols(document, token, _provideDocumentSymbols)\r\n                    : _provideDocumentSymbols(document, token);\r\n            }\r\n        };\r\n        const metaData = options.label !== undefined ? { label: options.label } : undefined;\r\n        return [vscode_1.languages.registerDocumentSymbolProvider(options.documentSelector, provider, metaData), provider];\r\n    }\r\n}\r\nclass WorkspaceSymbolFeature extends WorkspaceFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        let symbolCapabilities = ensure(ensure(capabilities, 'workspace'), 'symbol');\r\n        symbolCapabilities.dynamicRegistration = true;\r\n        symbolCapabilities.symbolKind = {\r\n            valueSet: SupportedSymbolKinds\r\n        };\r\n        symbolCapabilities.tagSupport = {\r\n            valueSet: SupportedSymbolTags\r\n        };\r\n    }\r\n    initialize(capabilities) {\r\n        if (!capabilities.workspaceSymbolProvider) {\r\n            return;\r\n        }\r\n        this.register({\r\n            id: UUID.generateUuid(),\r\n            registerOptions: capabilities.workspaceSymbolProvider === true ? { workDoneProgress: false } : capabilities.workspaceSymbolProvider\r\n        });\r\n    }\r\n    registerLanguageProvider(_options) {\r\n        const provider = {\r\n            provideWorkspaceSymbols: (query, token) => {\r\n                const client = this._client;\r\n                const provideWorkspaceSymbols = (query, token) => {\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, { query }, token).then(client.protocol2CodeConverter.asSymbolInformations, (error) => {\r\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, error, null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideWorkspaceSymbols\r\n                    ? middleware.provideWorkspaceSymbols(query, token, provideWorkspaceSymbols)\r\n                    : provideWorkspaceSymbols(query, token);\r\n            }\r\n        };\r\n        return [vscode_1.languages.registerWorkspaceSymbolProvider(provider), provider];\r\n    }\r\n}\r\nclass CodeActionFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.CodeActionRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        const cap = ensure(ensure(capabilities, 'textDocument'), 'codeAction');\r\n        cap.dynamicRegistration = true;\r\n        cap.isPreferredSupport = true;\r\n        cap.disabledSupport = true;\r\n        cap.dataSupport = true;\r\n        // We can only resolve the edit property.\r\n        cap.resolveSupport = {\r\n            properties: ['edit']\r\n        };\r\n        cap.codeActionLiteralSupport = {\r\n            codeActionKind: {\r\n                valueSet: [\r\n                    vscode_languageserver_protocol_1.CodeActionKind.Empty,\r\n                    vscode_languageserver_protocol_1.CodeActionKind.QuickFix,\r\n                    vscode_languageserver_protocol_1.CodeActionKind.Refactor,\r\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorExtract,\r\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorInline,\r\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorRewrite,\r\n                    vscode_languageserver_protocol_1.CodeActionKind.Source,\r\n                    vscode_languageserver_protocol_1.CodeActionKind.SourceOrganizeImports\r\n                ]\r\n            }\r\n        };\r\n        cap.honorsChangeAnnotations = false;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const options = this.getRegistrationOptions(documentSelector, capabilities.codeActionProvider);\r\n        if (!options) {\r\n            return;\r\n        }\r\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideCodeActions: (document, range, context, token) => {\r\n                const client = this._client;\r\n                const _provideCodeActions = (document, range, context, token) => {\r\n                    const params = {\r\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\r\n                        range: client.code2ProtocolConverter.asRange(range),\r\n                        context: client.code2ProtocolConverter.asCodeActionContext(context)\r\n                    };\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, params, token).then((values) => {\r\n                        if (values === null) {\r\n                            return undefined;\r\n                        }\r\n                        const result = [];\r\n                        for (let item of values) {\r\n                            if (vscode_languageserver_protocol_1.Command.is(item)) {\r\n                                result.push(client.protocol2CodeConverter.asCommand(item));\r\n                            }\r\n                            else {\r\n                                result.push(client.protocol2CodeConverter.asCodeAction(item));\r\n                            }\r\n                        }\r\n                        return result;\r\n                    }, (error) => {\r\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, error, null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideCodeActions\r\n                    ? middleware.provideCodeActions(document, range, context, token, _provideCodeActions)\r\n                    : _provideCodeActions(document, range, context, token);\r\n            },\r\n            resolveCodeAction: options.resolveProvider\r\n                ? (item, token) => {\r\n                    const client = this._client;\r\n                    const middleware = this._client.clientOptions.middleware;\r\n                    const resolveCodeAction = (item, token) => {\r\n                        return client.sendRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type, client.code2ProtocolConverter.asCodeAction(item), token).then(client.protocol2CodeConverter.asCodeAction, (error) => {\r\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type, error, item);\r\n                        });\r\n                    };\r\n                    return middleware.resolveCodeAction\r\n                        ? middleware.resolveCodeAction(item, token, resolveCodeAction)\r\n                        : resolveCodeAction(item, token);\r\n                }\r\n                : undefined\r\n        };\r\n        return [vscode_1.languages.registerCodeActionsProvider(options.documentSelector, provider, (options.codeActionKinds\r\n                ? { providedCodeActionKinds: this._client.protocol2CodeConverter.asCodeActionKinds(options.codeActionKinds) }\r\n                : undefined)), provider];\r\n    }\r\n}\r\nclass CodeLensFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.CodeLensRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'textDocument'), 'codeLens').dynamicRegistration = true;\r\n        ensure(ensure(capabilities, 'workspace'), 'codeLens').refreshSupport = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const client = this._client;\r\n        client.onRequest(vscode_languageserver_protocol_1.CodeLensRefreshRequest.type, async () => {\r\n            for (const provider of this.getAllProviders()) {\r\n                provider.onDidChangeCodeLensEmitter.fire();\r\n            }\r\n        });\r\n        const options = this.getRegistrationOptions(documentSelector, capabilities.codeLensProvider);\r\n        if (!options) {\r\n            return;\r\n        }\r\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const eventEmitter = new vscode_1.EventEmitter();\r\n        const provider = {\r\n            onDidChangeCodeLenses: eventEmitter.event,\r\n            provideCodeLenses: (document, token) => {\r\n                const client = this._client;\r\n                const provideCodeLenses = (document, token) => {\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, client.code2ProtocolConverter.asCodeLensParams(document), token).then(client.protocol2CodeConverter.asCodeLenses, (error) => {\r\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, error, null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideCodeLenses\r\n                    ? middleware.provideCodeLenses(document, token, provideCodeLenses)\r\n                    : provideCodeLenses(document, token);\r\n            },\r\n            resolveCodeLens: (options.resolveProvider)\r\n                ? (codeLens, token) => {\r\n                    const client = this._client;\r\n                    const resolveCodeLens = (codeLens, token) => {\r\n                        return client.sendRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, client.code2ProtocolConverter.asCodeLens(codeLens), token).then(client.protocol2CodeConverter.asCodeLens, (error) => {\r\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, error, codeLens);\r\n                        });\r\n                    };\r\n                    const middleware = client.clientOptions.middleware;\r\n                    return middleware.resolveCodeLens\r\n                        ? middleware.resolveCodeLens(codeLens, token, resolveCodeLens)\r\n                        : resolveCodeLens(codeLens, token);\r\n                }\r\n                : undefined\r\n        };\r\n        return [vscode_1.languages.registerCodeLensProvider(options.documentSelector, provider), { provider, onDidChangeCodeLensEmitter: eventEmitter }];\r\n    }\r\n}\r\nclass DocumentFormattingFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DocumentFormattingRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'textDocument'), 'formatting').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentFormattingProvider);\r\n        if (!options) {\r\n            return;\r\n        }\r\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideDocumentFormattingEdits: (document, options, token) => {\r\n                const client = this._client;\r\n                const provideDocumentFormattingEdits = (document, options, token) => {\r\n                    const params = {\r\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\r\n                        options: client.code2ProtocolConverter.asFormattingOptions(options, FileFormattingOptions.fromConfiguration(document))\r\n                    };\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, params, token).then(client.protocol2CodeConverter.asTextEdits, (error) => {\r\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, error, null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideDocumentFormattingEdits\r\n                    ? middleware.provideDocumentFormattingEdits(document, options, token, provideDocumentFormattingEdits)\r\n                    : provideDocumentFormattingEdits(document, options, token);\r\n            }\r\n        };\r\n        return [vscode_1.languages.registerDocumentFormattingEditProvider(options.documentSelector, provider), provider];\r\n    }\r\n}\r\nclass DocumentRangeFormattingFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'textDocument'), 'rangeFormatting').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentRangeFormattingProvider);\r\n        if (!options) {\r\n            return;\r\n        }\r\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideDocumentRangeFormattingEdits: (document, range, options, token) => {\r\n                const client = this._client;\r\n                const provideDocumentRangeFormattingEdits = (document, range, options, token) => {\r\n                    const params = {\r\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\r\n                        range: client.code2ProtocolConverter.asRange(range),\r\n                        options: client.code2ProtocolConverter.asFormattingOptions(options, FileFormattingOptions.fromConfiguration(document))\r\n                    };\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, params, token).then(client.protocol2CodeConverter.asTextEdits, (error) => {\r\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, error, null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideDocumentRangeFormattingEdits\r\n                    ? middleware.provideDocumentRangeFormattingEdits(document, range, options, token, provideDocumentRangeFormattingEdits)\r\n                    : provideDocumentRangeFormattingEdits(document, range, options, token);\r\n            }\r\n        };\r\n        return [vscode_1.languages.registerDocumentRangeFormattingEditProvider(options.documentSelector, provider), provider];\r\n    }\r\n}\r\nclass DocumentOnTypeFormattingFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'textDocument'), 'onTypeFormatting').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentOnTypeFormattingProvider);\r\n        if (!options) {\r\n            return;\r\n        }\r\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideOnTypeFormattingEdits: (document, position, ch, options, token) => {\r\n                const client = this._client;\r\n                const provideOnTypeFormattingEdits = (document, position, ch, options, token) => {\r\n                    let params = {\r\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\r\n                        position: client.code2ProtocolConverter.asPosition(position),\r\n                        ch: ch,\r\n                        options: client.code2ProtocolConverter.asFormattingOptions(options, FileFormattingOptions.fromConfiguration(document))\r\n                    };\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, params, token).then(client.protocol2CodeConverter.asTextEdits, (error) => {\r\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, error, null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideOnTypeFormattingEdits\r\n                    ? middleware.provideOnTypeFormattingEdits(document, position, ch, options, token, provideOnTypeFormattingEdits)\r\n                    : provideOnTypeFormattingEdits(document, position, ch, options, token);\r\n            }\r\n        };\r\n        const moreTriggerCharacter = options.moreTriggerCharacter || [];\r\n        return [vscode_1.languages.registerOnTypeFormattingEditProvider(options.documentSelector, provider, options.firstTriggerCharacter, ...moreTriggerCharacter), provider];\r\n    }\r\n}\r\nclass RenameFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.RenameRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        let rename = ensure(ensure(capabilities, 'textDocument'), 'rename');\r\n        rename.dynamicRegistration = true;\r\n        rename.prepareSupport = true;\r\n        rename.prepareSupportDefaultBehavior = vscode_languageserver_protocol_1.PrepareSupportDefaultBehavior.Identifier;\r\n        rename.honorsChangeAnnotations = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const options = this.getRegistrationOptions(documentSelector, capabilities.renameProvider);\r\n        if (!options) {\r\n            return;\r\n        }\r\n        if (Is.boolean(capabilities.renameProvider)) {\r\n            options.prepareProvider = false;\r\n        }\r\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideRenameEdits: (document, position, newName, token) => {\r\n                const client = this._client;\r\n                const provideRenameEdits = (document, position, newName, token) => {\r\n                    let params = {\r\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\r\n                        position: client.code2ProtocolConverter.asPosition(position),\r\n                        newName: newName\r\n                    };\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.RenameRequest.type, params, token).then(client.protocol2CodeConverter.asWorkspaceEdit, (error) => {\r\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.RenameRequest.type, error, null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideRenameEdits\r\n                    ? middleware.provideRenameEdits(document, position, newName, token, provideRenameEdits)\r\n                    : provideRenameEdits(document, position, newName, token);\r\n            },\r\n            prepareRename: options.prepareProvider\r\n                ? (document, position, token) => {\r\n                    const client = this._client;\r\n                    const prepareRename = (document, position, token) => {\r\n                        let params = {\r\n                            textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\r\n                            position: client.code2ProtocolConverter.asPosition(position),\r\n                        };\r\n                        return client.sendRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, params, token).then((result) => {\r\n                            if (vscode_languageserver_protocol_1.Range.is(result)) {\r\n                                return client.protocol2CodeConverter.asRange(result);\r\n                            }\r\n                            else if (this.isDefaultBehavior(result)) {\r\n                                return result.defaultBehavior === true\r\n                                    ? null\r\n                                    : Promise.reject(new Error(`The element can't be renamed.`));\r\n                            }\r\n                            else if (result && vscode_languageserver_protocol_1.Range.is(result.range)) {\r\n                                return {\r\n                                    range: client.protocol2CodeConverter.asRange(result.range),\r\n                                    placeholder: result.placeholder\r\n                                };\r\n                            }\r\n                            // To cancel the rename vscode API expects a rejected promise.\r\n                            return Promise.reject(new Error(`The element can't be renamed.`));\r\n                        }, (error) => {\r\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, error, undefined);\r\n                        });\r\n                    };\r\n                    const middleware = client.clientOptions.middleware;\r\n                    return middleware.prepareRename\r\n                        ? middleware.prepareRename(document, position, token, prepareRename)\r\n                        : prepareRename(document, position, token);\r\n                }\r\n                : undefined\r\n        };\r\n        return [vscode_1.languages.registerRenameProvider(options.documentSelector, provider), provider];\r\n    }\r\n    isDefaultBehavior(value) {\r\n        const candidate = value;\r\n        return candidate && Is.boolean(candidate.defaultBehavior);\r\n    }\r\n}\r\nclass DocumentLinkFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DocumentLinkRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        const documentLinkCapabilities = ensure(ensure(capabilities, 'textDocument'), 'documentLink');\r\n        documentLinkCapabilities.dynamicRegistration = true;\r\n        documentLinkCapabilities.tooltipSupport = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentLinkProvider);\r\n        if (!options) {\r\n            return;\r\n        }\r\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideDocumentLinks: (document, token) => {\r\n                const client = this._client;\r\n                const provideDocumentLinks = (document, token) => {\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, client.code2ProtocolConverter.asDocumentLinkParams(document), token).then(client.protocol2CodeConverter.asDocumentLinks, (error) => {\r\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, error, null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideDocumentLinks\r\n                    ? middleware.provideDocumentLinks(document, token, provideDocumentLinks)\r\n                    : provideDocumentLinks(document, token);\r\n            },\r\n            resolveDocumentLink: options.resolveProvider\r\n                ? (link, token) => {\r\n                    const client = this._client;\r\n                    let resolveDocumentLink = (link, token) => {\r\n                        return client.sendRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, client.code2ProtocolConverter.asDocumentLink(link), token).then(client.protocol2CodeConverter.asDocumentLink, (error) => {\r\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, error, link);\r\n                        });\r\n                    };\r\n                    const middleware = client.clientOptions.middleware;\r\n                    return middleware.resolveDocumentLink\r\n                        ? middleware.resolveDocumentLink(link, token, resolveDocumentLink)\r\n                        : resolveDocumentLink(link, token);\r\n                }\r\n                : undefined\r\n        };\r\n        return [vscode_1.languages.registerDocumentLinkProvider(options.documentSelector, provider), provider];\r\n    }\r\n}\r\nclass ConfigurationFeature {\r\n    constructor(_client) {\r\n        this._client = _client;\r\n        this._listeners = new Map();\r\n    }\r\n    get registrationType() {\r\n        return vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'workspace'), 'didChangeConfiguration').dynamicRegistration = true;\r\n    }\r\n    initialize() {\r\n        let section = this._client.clientOptions.synchronize.configurationSection;\r\n        if (section !== undefined) {\r\n            this.register({\r\n                id: UUID.generateUuid(),\r\n                registerOptions: {\r\n                    section: section\r\n                }\r\n            });\r\n        }\r\n    }\r\n    register(data) {\r\n        let disposable = vscode_1.workspace.onDidChangeConfiguration((event) => {\r\n            this.onDidChangeConfiguration(data.registerOptions.section, event);\r\n        });\r\n        this._listeners.set(data.id, disposable);\r\n        if (data.registerOptions.section !== undefined) {\r\n            this.onDidChangeConfiguration(data.registerOptions.section, undefined);\r\n        }\r\n    }\r\n    unregister(id) {\r\n        let disposable = this._listeners.get(id);\r\n        if (disposable) {\r\n            this._listeners.delete(id);\r\n            disposable.dispose();\r\n        }\r\n    }\r\n    dispose() {\r\n        for (let disposable of this._listeners.values()) {\r\n            disposable.dispose();\r\n        }\r\n        this._listeners.clear();\r\n    }\r\n    onDidChangeConfiguration(configurationSection, event) {\r\n        let sections;\r\n        if (Is.string(configurationSection)) {\r\n            sections = [configurationSection];\r\n        }\r\n        else {\r\n            sections = configurationSection;\r\n        }\r\n        if (sections !== undefined && event !== undefined) {\r\n            let affected = sections.some((section) => event.affectsConfiguration(section));\r\n            if (!affected) {\r\n                return;\r\n            }\r\n        }\r\n        let didChangeConfiguration = (sections) => {\r\n            if (sections === undefined) {\r\n                this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, { settings: null });\r\n                return;\r\n            }\r\n            this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, { settings: this.extractSettingsInformation(sections) });\r\n        };\r\n        let middleware = this.getMiddleware();\r\n        middleware\r\n            ? middleware(sections, didChangeConfiguration)\r\n            : didChangeConfiguration(sections);\r\n    }\r\n    extractSettingsInformation(keys) {\r\n        function ensurePath(config, path) {\r\n            let current = config;\r\n            for (let i = 0; i < path.length - 1; i++) {\r\n                let obj = current[path[i]];\r\n                if (!obj) {\r\n                    obj = Object.create(null);\r\n                    current[path[i]] = obj;\r\n                }\r\n                current = obj;\r\n            }\r\n            return current;\r\n        }\r\n        let resource = this._client.clientOptions.workspaceFolder\r\n            ? this._client.clientOptions.workspaceFolder.uri\r\n            : undefined;\r\n        let result = Object.create(null);\r\n        for (let i = 0; i < keys.length; i++) {\r\n            let key = keys[i];\r\n            let index = key.indexOf('.');\r\n            let config = null;\r\n            if (index >= 0) {\r\n                config = vscode_1.workspace.getConfiguration(key.substr(0, index), resource).get(key.substr(index + 1));\r\n            }\r\n            else {\r\n                config = vscode_1.workspace.getConfiguration(undefined, resource).get(key);\r\n            }\r\n            if (config) {\r\n                let path = keys[i].split('.');\r\n                ensurePath(result, path)[path[path.length - 1]] = configuration_1.toJSONObject(config);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    getMiddleware() {\r\n        let middleware = this._client.clientOptions.middleware;\r\n        if (middleware.workspace && middleware.workspace.didChangeConfiguration) {\r\n            return middleware.workspace.didChangeConfiguration;\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    }\r\n}\r\nclass ExecuteCommandFeature {\r\n    constructor(_client) {\r\n        this._client = _client;\r\n        this._commands = new Map();\r\n    }\r\n    get registrationType() {\r\n        return vscode_languageserver_protocol_1.ExecuteCommandRequest.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'workspace'), 'executeCommand').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities) {\r\n        if (!capabilities.executeCommandProvider) {\r\n            return;\r\n        }\r\n        this.register({\r\n            id: UUID.generateUuid(),\r\n            registerOptions: Object.assign({}, capabilities.executeCommandProvider)\r\n        });\r\n    }\r\n    register(data) {\r\n        const client = this._client;\r\n        const middleware = client.clientOptions.middleware;\r\n        const executeCommand = (command, args) => {\r\n            let params = {\r\n                command,\r\n                arguments: args\r\n            };\r\n            return client.sendRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, params).then(undefined, (error) => {\r\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, error, undefined);\r\n            });\r\n        };\r\n        if (data.registerOptions.commands) {\r\n            const disposables = [];\r\n            for (const command of data.registerOptions.commands) {\r\n                disposables.push(vscode_1.commands.registerCommand(command, (...args) => {\r\n                    return middleware.executeCommand\r\n                        ? middleware.executeCommand(command, args, executeCommand)\r\n                        : executeCommand(command, args);\r\n                }));\r\n            }\r\n            this._commands.set(data.id, disposables);\r\n        }\r\n    }\r\n    unregister(id) {\r\n        let disposables = this._commands.get(id);\r\n        if (disposables) {\r\n            disposables.forEach(disposable => disposable.dispose());\r\n        }\r\n    }\r\n    dispose() {\r\n        this._commands.forEach((value) => {\r\n            value.forEach(disposable => disposable.dispose());\r\n        });\r\n        this._commands.clear();\r\n    }\r\n}\r\nvar MessageTransports;\r\n(function (MessageTransports) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && vscode_languageserver_protocol_1.MessageReader.is(value.reader) && vscode_languageserver_protocol_1.MessageWriter.is(value.writer);\r\n    }\r\n    MessageTransports.is = is;\r\n})(MessageTransports = exports.MessageTransports || (exports.MessageTransports = {}));\r\nclass OnReady {\r\n    constructor(_resolve, _reject) {\r\n        this._resolve = _resolve;\r\n        this._reject = _reject;\r\n        this._used = false;\r\n    }\r\n    get isUsed() {\r\n        return this._used;\r\n    }\r\n    resolve() {\r\n        this._used = true;\r\n        this._resolve();\r\n    }\r\n    reject(error) {\r\n        this._used = true;\r\n        this._reject(error);\r\n    }\r\n}\r\nclass BaseLanguageClient {\r\n    constructor(id, name, clientOptions) {\r\n        var _a;\r\n        this._traceFormat = vscode_languageserver_protocol_1.TraceFormat.Text;\r\n        this._features = [];\r\n        this._dynamicFeatures = new Map();\r\n        this._id = id;\r\n        this._name = name;\r\n        clientOptions = clientOptions || {};\r\n        const markdown = { isTrusted: false };\r\n        if (clientOptions.markdown !== undefined && clientOptions.markdown.isTrusted === true) {\r\n            markdown.isTrusted = true;\r\n        }\r\n        this._clientOptions = {\r\n            documentSelector: clientOptions.documentSelector || [],\r\n            synchronize: clientOptions.synchronize || {},\r\n            diagnosticCollectionName: clientOptions.diagnosticCollectionName,\r\n            outputChannelName: clientOptions.outputChannelName || this._name,\r\n            revealOutputChannelOn: clientOptions.revealOutputChannelOn || RevealOutputChannelOn.Error,\r\n            stdioEncoding: clientOptions.stdioEncoding || 'utf8',\r\n            initializationOptions: clientOptions.initializationOptions,\r\n            initializationFailedHandler: clientOptions.initializationFailedHandler,\r\n            progressOnInitialization: !!clientOptions.progressOnInitialization,\r\n            errorHandler: clientOptions.errorHandler || this.createDefaultErrorHandler((_a = clientOptions.connectionOptions) === null || _a === void 0 ? void 0 : _a.maxRestartCount),\r\n            middleware: clientOptions.middleware || {},\r\n            uriConverters: clientOptions.uriConverters,\r\n            workspaceFolder: clientOptions.workspaceFolder,\r\n            connectionOptions: clientOptions.connectionOptions,\r\n            markdown\r\n        };\r\n        this._clientOptions.synchronize = this._clientOptions.synchronize || {};\r\n        this._state = ClientState.Initial;\r\n        this._connectionPromise = undefined;\r\n        this._resolvedConnection = undefined;\r\n        this._initializeResult = undefined;\r\n        if (clientOptions.outputChannel) {\r\n            this._outputChannel = clientOptions.outputChannel;\r\n            this._disposeOutputChannel = false;\r\n        }\r\n        else {\r\n            this._outputChannel = undefined;\r\n            this._disposeOutputChannel = true;\r\n        }\r\n        this._traceOutputChannel = clientOptions.traceOutputChannel;\r\n        this._listeners = undefined;\r\n        this._providers = undefined;\r\n        this._diagnostics = undefined;\r\n        this._fileEvents = [];\r\n        this._fileEventDelayer = new async_1.Delayer(250);\r\n        this._onReady = new Promise((resolve, reject) => {\r\n            this._onReadyCallbacks = new OnReady(resolve, reject);\r\n        });\r\n        this._onStop = undefined;\r\n        this._telemetryEmitter = new vscode_languageserver_protocol_1.Emitter();\r\n        this._stateChangeEmitter = new vscode_languageserver_protocol_1.Emitter();\r\n        this._trace = vscode_languageserver_protocol_1.Trace.Off;\r\n        this._tracer = {\r\n            log: (messageOrDataObject, data) => {\r\n                if (Is.string(messageOrDataObject)) {\r\n                    this.logTrace(messageOrDataObject, data);\r\n                }\r\n                else {\r\n                    this.logObjectTrace(messageOrDataObject);\r\n                }\r\n            },\r\n        };\r\n        this._c2p = c2p.createConverter(clientOptions.uriConverters ? clientOptions.uriConverters.code2Protocol : undefined);\r\n        this._p2c = p2c.createConverter(clientOptions.uriConverters ? clientOptions.uriConverters.protocol2Code : undefined, this._clientOptions.markdown.isTrusted);\r\n        this._syncedDocuments = new Map();\r\n        this.registerBuiltinFeatures();\r\n    }\r\n    get state() {\r\n        return this._state;\r\n    }\r\n    set state(value) {\r\n        let oldState = this.getPublicState();\r\n        this._state = value;\r\n        let newState = this.getPublicState();\r\n        if (newState !== oldState) {\r\n            this._stateChangeEmitter.fire({ oldState, newState });\r\n        }\r\n    }\r\n    getPublicState() {\r\n        if (this.state === ClientState.Running) {\r\n            return State.Running;\r\n        }\r\n        else if (this.state === ClientState.Starting) {\r\n            return State.Starting;\r\n        }\r\n        else {\r\n            return State.Stopped;\r\n        }\r\n    }\r\n    get initializeResult() {\r\n        return this._initializeResult;\r\n    }\r\n    sendRequest(type, ...params) {\r\n        if (!this.isConnectionActive()) {\r\n            throw new Error('Language client is not ready yet');\r\n        }\r\n        this.forceDocumentSync();\r\n        try {\r\n            return this._resolvedConnection.sendRequest(type, ...params);\r\n        }\r\n        catch (error) {\r\n            this.error(`Sending request ${Is.string(type) ? type : type.method} failed.`, error);\r\n            throw error;\r\n        }\r\n    }\r\n    onRequest(type, handler) {\r\n        if (!this.isConnectionActive()) {\r\n            throw new Error('Language client is not ready yet');\r\n        }\r\n        try {\r\n            return this._resolvedConnection.onRequest(type, handler);\r\n        }\r\n        catch (error) {\r\n            this.error(`Registering request handler ${Is.string(type) ? type : type.method} failed.`, error);\r\n            throw error;\r\n        }\r\n    }\r\n    sendNotification(type, params) {\r\n        if (!this.isConnectionActive()) {\r\n            throw new Error('Language client is not ready yet');\r\n        }\r\n        this.forceDocumentSync();\r\n        try {\r\n            this._resolvedConnection.sendNotification(type, params);\r\n        }\r\n        catch (error) {\r\n            this.error(`Sending notification ${Is.string(type) ? type : type.method} failed.`, error);\r\n            throw error;\r\n        }\r\n    }\r\n    onNotification(type, handler) {\r\n        if (!this.isConnectionActive()) {\r\n            throw new Error('Language client is not ready yet');\r\n        }\r\n        try {\r\n            return this._resolvedConnection.onNotification(type, handler);\r\n        }\r\n        catch (error) {\r\n            this.error(`Registering notification handler ${Is.string(type) ? type : type.method} failed.`, error);\r\n            throw error;\r\n        }\r\n    }\r\n    onProgress(type, token, handler) {\r\n        if (!this.isConnectionActive()) {\r\n            throw new Error('Language client is not ready yet');\r\n        }\r\n        try {\r\n            if (vscode_languageserver_protocol_1.WorkDoneProgress.is(type)) {\r\n                const handleWorkDoneProgress = this._clientOptions.middleware.handleWorkDoneProgress;\r\n                if (handleWorkDoneProgress !== undefined) {\r\n                    return this._resolvedConnection.onProgress(type, token, (params) => {\r\n                        handleWorkDoneProgress(token, params, () => handler(params));\r\n                    });\r\n                }\r\n            }\r\n            return this._resolvedConnection.onProgress(type, token, handler);\r\n        }\r\n        catch (error) {\r\n            this.error(`Registering progress handler for token ${token} failed.`, error);\r\n            throw error;\r\n        }\r\n    }\r\n    sendProgress(type, token, value) {\r\n        if (!this.isConnectionActive()) {\r\n            throw new Error('Language client is not ready yet');\r\n        }\r\n        this.forceDocumentSync();\r\n        try {\r\n            this._resolvedConnection.sendProgress(type, token, value);\r\n        }\r\n        catch (error) {\r\n            this.error(`Sending progress for token ${token} failed.`, error);\r\n            throw error;\r\n        }\r\n    }\r\n    get clientOptions() {\r\n        return this._clientOptions;\r\n    }\r\n    get protocol2CodeConverter() {\r\n        return this._p2c;\r\n    }\r\n    get code2ProtocolConverter() {\r\n        return this._c2p;\r\n    }\r\n    get onTelemetry() {\r\n        return this._telemetryEmitter.event;\r\n    }\r\n    get onDidChangeState() {\r\n        return this._stateChangeEmitter.event;\r\n    }\r\n    get outputChannel() {\r\n        if (!this._outputChannel) {\r\n            this._outputChannel = vscode_1.window.createOutputChannel(this._clientOptions.outputChannelName ? this._clientOptions.outputChannelName : this._name);\r\n        }\r\n        return this._outputChannel;\r\n    }\r\n    get traceOutputChannel() {\r\n        if (this._traceOutputChannel) {\r\n            return this._traceOutputChannel;\r\n        }\r\n        return this.outputChannel;\r\n    }\r\n    get diagnostics() {\r\n        return this._diagnostics;\r\n    }\r\n    createDefaultErrorHandler(maxRestartCount) {\r\n        if (maxRestartCount !== undefined && maxRestartCount < 0) {\r\n            throw new Error(`Invalid maxRestartCount: ${maxRestartCount}`);\r\n        }\r\n        return new DefaultErrorHandler(this._name, maxRestartCount !== null && maxRestartCount !== void 0 ? maxRestartCount : 4);\r\n    }\r\n    set trace(value) {\r\n        this._trace = value;\r\n        this.onReady().then(() => {\r\n            this.resolveConnection().then((connection) => {\r\n                connection.trace(this._trace, this._tracer, {\r\n                    sendNotification: false,\r\n                    traceFormat: this._traceFormat\r\n                });\r\n            });\r\n        }, () => {\r\n        });\r\n    }\r\n    data2String(data) {\r\n        if (data instanceof vscode_languageserver_protocol_1.ResponseError) {\r\n            const responseError = data;\r\n            return `  Message: ${responseError.message}\\n  Code: ${responseError.code} ${responseError.data ? '\\n' + responseError.data.toString() : ''}`;\r\n        }\r\n        if (data instanceof Error) {\r\n            if (Is.string(data.stack)) {\r\n                return data.stack;\r\n            }\r\n            return data.message;\r\n        }\r\n        if (Is.string(data)) {\r\n            return data;\r\n        }\r\n        return data.toString();\r\n    }\r\n    info(message, data, showNotification = true) {\r\n        this.outputChannel.appendLine(`[Info  - ${(new Date().toLocaleTimeString())}] ${message}`);\r\n        if (data) {\r\n            this.outputChannel.appendLine(this.data2String(data));\r\n        }\r\n        if (showNotification && this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Info) {\r\n            this.showNotificationMessage();\r\n        }\r\n    }\r\n    warn(message, data, showNotification = true) {\r\n        this.outputChannel.appendLine(`[Warn  - ${(new Date().toLocaleTimeString())}] ${message}`);\r\n        if (data) {\r\n            this.outputChannel.appendLine(this.data2String(data));\r\n        }\r\n        if (showNotification && this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Warn) {\r\n            this.showNotificationMessage();\r\n        }\r\n    }\r\n    error(message, data, showNotification = true) {\r\n        this.outputChannel.appendLine(`[Error - ${(new Date().toLocaleTimeString())}] ${message}`);\r\n        if (data) {\r\n            this.outputChannel.appendLine(this.data2String(data));\r\n        }\r\n        if (showNotification && this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Error) {\r\n            this.showNotificationMessage();\r\n        }\r\n    }\r\n    showNotificationMessage() {\r\n        vscode_1.window.showInformationMessage('A request has failed. See the output for more information.', 'Go to output').then(() => {\r\n            this.outputChannel.show(true);\r\n        });\r\n    }\r\n    logTrace(message, data) {\r\n        this.traceOutputChannel.appendLine(`[Trace - ${(new Date().toLocaleTimeString())}] ${message}`);\r\n        if (data) {\r\n            this.traceOutputChannel.appendLine(this.data2String(data));\r\n        }\r\n    }\r\n    logObjectTrace(data) {\r\n        if (data.isLSPMessage && data.type) {\r\n            this.traceOutputChannel.append(`[LSP   - ${(new Date().toLocaleTimeString())}] `);\r\n        }\r\n        else {\r\n            this.traceOutputChannel.append(`[Trace - ${(new Date().toLocaleTimeString())}] `);\r\n        }\r\n        if (data) {\r\n            this.traceOutputChannel.appendLine(`${JSON.stringify(data)}`);\r\n        }\r\n    }\r\n    needsStart() {\r\n        return this.state === ClientState.Initial || this.state === ClientState.Stopping || this.state === ClientState.Stopped;\r\n    }\r\n    needsStop() {\r\n        return this.state === ClientState.Starting || this.state === ClientState.Running;\r\n    }\r\n    onReady() {\r\n        return this._onReady;\r\n    }\r\n    isConnectionActive() {\r\n        return this.state === ClientState.Running && !!this._resolvedConnection;\r\n    }\r\n    start() {\r\n        if (this._onReadyCallbacks.isUsed) {\r\n            this._onReady = new Promise((resolve, reject) => {\r\n                this._onReadyCallbacks = new OnReady(resolve, reject);\r\n            });\r\n        }\r\n        this._listeners = [];\r\n        this._providers = [];\r\n        // If we restart then the diagnostics collection is reused.\r\n        if (!this._diagnostics) {\r\n            this._diagnostics = this._clientOptions.diagnosticCollectionName\r\n                ? vscode_1.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName)\r\n                : vscode_1.languages.createDiagnosticCollection();\r\n        }\r\n        this.state = ClientState.Starting;\r\n        this.resolveConnection().then((connection) => {\r\n            connection.onLogMessage((message) => {\r\n                switch (message.type) {\r\n                    case vscode_languageserver_protocol_1.MessageType.Error:\r\n                        this.error(message.message, undefined, false);\r\n                        break;\r\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\r\n                        this.warn(message.message, undefined, false);\r\n                        break;\r\n                    case vscode_languageserver_protocol_1.MessageType.Info:\r\n                        this.info(message.message, undefined, false);\r\n                        break;\r\n                    default:\r\n                        this.outputChannel.appendLine(message.message);\r\n                }\r\n            });\r\n            connection.onShowMessage((message) => {\r\n                switch (message.type) {\r\n                    case vscode_languageserver_protocol_1.MessageType.Error:\r\n                        vscode_1.window.showErrorMessage(message.message);\r\n                        break;\r\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\r\n                        vscode_1.window.showWarningMessage(message.message);\r\n                        break;\r\n                    case vscode_languageserver_protocol_1.MessageType.Info:\r\n                        vscode_1.window.showInformationMessage(message.message);\r\n                        break;\r\n                    default:\r\n                        vscode_1.window.showInformationMessage(message.message);\r\n                }\r\n            });\r\n            connection.onRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, (params) => {\r\n                let messageFunc;\r\n                switch (params.type) {\r\n                    case vscode_languageserver_protocol_1.MessageType.Error:\r\n                        messageFunc = vscode_1.window.showErrorMessage;\r\n                        break;\r\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\r\n                        messageFunc = vscode_1.window.showWarningMessage;\r\n                        break;\r\n                    case vscode_languageserver_protocol_1.MessageType.Info:\r\n                        messageFunc = vscode_1.window.showInformationMessage;\r\n                        break;\r\n                    default:\r\n                        messageFunc = vscode_1.window.showInformationMessage;\r\n                }\r\n                let actions = params.actions || [];\r\n                return messageFunc(params.message, ...actions);\r\n            });\r\n            connection.onTelemetry((data) => {\r\n                this._telemetryEmitter.fire(data);\r\n            });\r\n            connection.onRequest(vscode_languageserver_protocol_1.ShowDocumentRequest.type, async (params) => {\r\n                var _a;\r\n                const showDocument = async (params) => {\r\n                    const uri = this.protocol2CodeConverter.asUri(params.uri);\r\n                    try {\r\n                        if (params.external === true) {\r\n                            const success = await vscode_1.env.openExternal(uri);\r\n                            return { success };\r\n                        }\r\n                        else {\r\n                            const options = {};\r\n                            if (params.selection !== undefined) {\r\n                                options.selection = this.protocol2CodeConverter.asRange(params.selection);\r\n                            }\r\n                            if (params.takeFocus === undefined || params.takeFocus === false) {\r\n                                options.preserveFocus = true;\r\n                            }\r\n                            else if (params.takeFocus === true) {\r\n                                options.preserveFocus = false;\r\n                            }\r\n                            await vscode_1.window.showTextDocument(uri, options);\r\n                            return { success: true };\r\n                        }\r\n                    }\r\n                    catch (error) {\r\n                        return { success: true };\r\n                    }\r\n                };\r\n                const middleware = (_a = this._clientOptions.middleware.window) === null || _a === void 0 ? void 0 : _a.showDocument;\r\n                if (middleware !== undefined) {\r\n                    return middleware(params, showDocument);\r\n                }\r\n                else {\r\n                    return showDocument(params);\r\n                }\r\n            });\r\n            connection.listen();\r\n            // Error is handled in the initialize call.\r\n            return this.initialize(connection);\r\n        }).then(undefined, (error) => {\r\n            this.state = ClientState.StartFailed;\r\n            this._onReadyCallbacks.reject(error);\r\n            this.error('Starting client failed', error);\r\n            vscode_1.window.showErrorMessage(`Couldn't start client ${this._name}`);\r\n        });\r\n        return new vscode_1.Disposable(() => {\r\n            if (this.needsStop()) {\r\n                this.stop();\r\n            }\r\n        });\r\n    }\r\n    resolveConnection() {\r\n        if (!this._connectionPromise) {\r\n            this._connectionPromise = this.createConnection();\r\n        }\r\n        return this._connectionPromise;\r\n    }\r\n    initialize(connection) {\r\n        this.refreshTrace(connection, false);\r\n        let initOption = this._clientOptions.initializationOptions;\r\n        let rootPath = this._clientOptions.workspaceFolder\r\n            ? this._clientOptions.workspaceFolder.uri.fsPath\r\n            : this._clientGetRootPath();\r\n        let initParams = {\r\n            processId: null,\r\n            clientInfo: {\r\n                name: vscode_1.env.appName,\r\n                version: vscode_1.version\r\n            },\r\n            locale: this.getLocale(),\r\n            rootPath: rootPath ? rootPath : null,\r\n            rootUri: rootPath ? this._c2p.asUri(vscode_1.Uri.file(rootPath)) : null,\r\n            capabilities: this.computeClientCapabilities(),\r\n            initializationOptions: Is.func(initOption) ? initOption() : initOption,\r\n            trace: vscode_languageserver_protocol_1.Trace.toString(this._trace),\r\n            workspaceFolders: null\r\n        };\r\n        this.fillInitializeParams(initParams);\r\n        if (this._clientOptions.progressOnInitialization) {\r\n            const token = UUID.generateUuid();\r\n            const part = new progressPart_1.ProgressPart(connection, token);\r\n            initParams.workDoneToken = token;\r\n            return this.doInitialize(connection, initParams).then((result) => {\r\n                part.done();\r\n                return result;\r\n            }, (error) => {\r\n                part.cancel();\r\n                throw error;\r\n            });\r\n        }\r\n        else {\r\n            return this.doInitialize(connection, initParams);\r\n        }\r\n    }\r\n    doInitialize(connection, initParams) {\r\n        return connection.initialize(initParams).then((result) => {\r\n            this._resolvedConnection = connection;\r\n            this._initializeResult = result;\r\n            this.state = ClientState.Running;\r\n            let textDocumentSyncOptions = undefined;\r\n            if (Is.number(result.capabilities.textDocumentSync)) {\r\n                if (result.capabilities.textDocumentSync === vscode_languageserver_protocol_1.TextDocumentSyncKind.None) {\r\n                    textDocumentSyncOptions = {\r\n                        openClose: false,\r\n                        change: vscode_languageserver_protocol_1.TextDocumentSyncKind.None,\r\n                        save: undefined\r\n                    };\r\n                }\r\n                else {\r\n                    textDocumentSyncOptions = {\r\n                        openClose: true,\r\n                        change: result.capabilities.textDocumentSync,\r\n                        save: {\r\n                            includeText: false\r\n                        }\r\n                    };\r\n                }\r\n            }\r\n            else if (result.capabilities.textDocumentSync !== undefined && result.capabilities.textDocumentSync !== null) {\r\n                textDocumentSyncOptions = result.capabilities.textDocumentSync;\r\n            }\r\n            this._capabilities = Object.assign({}, result.capabilities, { resolvedTextDocumentSync: textDocumentSyncOptions });\r\n            connection.onDiagnostics(params => this.handleDiagnostics(params));\r\n            connection.onRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params => this.handleRegistrationRequest(params));\r\n            // See https://github.com/Microsoft/vscode-languageserver-node/issues/199\r\n            connection.onRequest('client/registerFeature', params => this.handleRegistrationRequest(params));\r\n            connection.onRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params => this.handleUnregistrationRequest(params));\r\n            // See https://github.com/Microsoft/vscode-languageserver-node/issues/199\r\n            connection.onRequest('client/unregisterFeature', params => this.handleUnregistrationRequest(params));\r\n            connection.onRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type, params => this.handleApplyWorkspaceEdit(params));\r\n            connection.sendNotification(vscode_languageserver_protocol_1.InitializedNotification.type, {});\r\n            this.hookFileEvents(connection);\r\n            this.hookConfigurationChanged(connection);\r\n            this.initializeFeatures(connection);\r\n            this._onReadyCallbacks.resolve();\r\n            return result;\r\n        }).then(undefined, (error) => {\r\n            if (this._clientOptions.initializationFailedHandler) {\r\n                if (this._clientOptions.initializationFailedHandler(error)) {\r\n                    this.initialize(connection);\r\n                }\r\n                else {\r\n                    this.stop();\r\n                    this._onReadyCallbacks.reject(error);\r\n                }\r\n            }\r\n            else if (error instanceof vscode_languageserver_protocol_1.ResponseError && error.data && error.data.retry) {\r\n                vscode_1.window.showErrorMessage(error.message, { title: 'Retry', id: 'retry' }).then(item => {\r\n                    if (item && item.id === 'retry') {\r\n                        this.initialize(connection);\r\n                    }\r\n                    else {\r\n                        this.stop();\r\n                        this._onReadyCallbacks.reject(error);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                if (error && error.message) {\r\n                    vscode_1.window.showErrorMessage(error.message);\r\n                }\r\n                this.error('Server initialization failed.', error);\r\n                this.stop();\r\n                this._onReadyCallbacks.reject(error);\r\n            }\r\n            throw error;\r\n        });\r\n    }\r\n    _clientGetRootPath() {\r\n        let folders = vscode_1.workspace.workspaceFolders;\r\n        if (!folders || folders.length === 0) {\r\n            return undefined;\r\n        }\r\n        let folder = folders[0];\r\n        if (folder.uri.scheme === 'file') {\r\n            return folder.uri.fsPath;\r\n        }\r\n        return undefined;\r\n    }\r\n    stop() {\r\n        this._initializeResult = undefined;\r\n        if (!this._connectionPromise) {\r\n            this.state = ClientState.Stopped;\r\n            return Promise.resolve();\r\n        }\r\n        if (this.state === ClientState.Stopping && this._onStop) {\r\n            return this._onStop;\r\n        }\r\n        this.state = ClientState.Stopping;\r\n        this.cleanUp(false);\r\n        // unhook listeners\r\n        return this._onStop = this.resolveConnection().then(connection => {\r\n            return connection.shutdown().then(() => {\r\n                connection.exit();\r\n                connection.end();\r\n                connection.dispose();\r\n                this.state = ClientState.Stopped;\r\n                this.cleanUpChannel();\r\n                this._onStop = undefined;\r\n                this._connectionPromise = undefined;\r\n                this._resolvedConnection = undefined;\r\n            });\r\n        });\r\n    }\r\n    cleanUp(channel = true, diagnostics = true) {\r\n        if (this._listeners) {\r\n            this._listeners.forEach(listener => listener.dispose());\r\n            this._listeners = undefined;\r\n        }\r\n        if (this._providers) {\r\n            this._providers.forEach(provider => provider.dispose());\r\n            this._providers = undefined;\r\n        }\r\n        if (this._syncedDocuments) {\r\n            this._syncedDocuments.clear();\r\n        }\r\n        for (const feature of this._features.values()) {\r\n            feature.dispose();\r\n        }\r\n        if (channel) {\r\n            this.cleanUpChannel();\r\n        }\r\n        if (diagnostics && this._diagnostics) {\r\n            this._diagnostics.dispose();\r\n            this._diagnostics = undefined;\r\n        }\r\n    }\r\n    cleanUpChannel() {\r\n        if (this._outputChannel && this._disposeOutputChannel) {\r\n            this._outputChannel.dispose();\r\n            this._outputChannel = undefined;\r\n        }\r\n    }\r\n    notifyFileEvent(event) {\r\n        var _a;\r\n        const client = this;\r\n        function didChangeWatchedFile(event) {\r\n            client._fileEvents.push(event);\r\n            client._fileEventDelayer.trigger(() => {\r\n                client.onReady().then(() => {\r\n                    client.resolveConnection().then(connection => {\r\n                        if (client.isConnectionActive()) {\r\n                            client.forceDocumentSync();\r\n                            connection.didChangeWatchedFiles({ changes: client._fileEvents });\r\n                        }\r\n                        client._fileEvents = [];\r\n                    });\r\n                }, (error) => {\r\n                    client.error(`Notify file events failed.`, error);\r\n                });\r\n            });\r\n        }\r\n        const workSpaceMiddleware = (_a = this.clientOptions.middleware) === null || _a === void 0 ? void 0 : _a.workspace;\r\n        (workSpaceMiddleware === null || workSpaceMiddleware === void 0 ? void 0 : workSpaceMiddleware.didChangeWatchedFile) ? workSpaceMiddleware.didChangeWatchedFile(event, didChangeWatchedFile) : didChangeWatchedFile(event);\r\n    }\r\n    forceDocumentSync() {\r\n        if (this._didChangeTextDocumentFeature === undefined) {\r\n            this._didChangeTextDocumentFeature = this._dynamicFeatures.get(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type.method);\r\n        }\r\n        this._didChangeTextDocumentFeature.forceDelivery();\r\n    }\r\n    handleDiagnostics(params) {\r\n        if (!this._diagnostics) {\r\n            return;\r\n        }\r\n        let uri = this._p2c.asUri(params.uri);\r\n        let diagnostics = this._p2c.asDiagnostics(params.diagnostics);\r\n        let middleware = this.clientOptions.middleware;\r\n        if (middleware.handleDiagnostics) {\r\n            middleware.handleDiagnostics(uri, diagnostics, (uri, diagnostics) => this.setDiagnostics(uri, diagnostics));\r\n        }\r\n        else {\r\n            this.setDiagnostics(uri, diagnostics);\r\n        }\r\n    }\r\n    setDiagnostics(uri, diagnostics) {\r\n        if (!this._diagnostics) {\r\n            return;\r\n        }\r\n        this._diagnostics.set(uri, diagnostics);\r\n    }\r\n    createConnection() {\r\n        let errorHandler = (error, message, count) => {\r\n            this.handleConnectionError(error, message, count);\r\n        };\r\n        let closeHandler = () => {\r\n            this.handleConnectionClosed();\r\n        };\r\n        return this.createMessageTransports(this._clientOptions.stdioEncoding || 'utf8').then((transports) => {\r\n            return createConnection(transports.reader, transports.writer, errorHandler, closeHandler, this._clientOptions.connectionOptions);\r\n        });\r\n    }\r\n    handleConnectionClosed() {\r\n        // Check whether this is a normal shutdown in progress or the client stopped normally.\r\n        if (this.state === ClientState.Stopping || this.state === ClientState.Stopped) {\r\n            return;\r\n        }\r\n        try {\r\n            if (this._resolvedConnection) {\r\n                this._resolvedConnection.dispose();\r\n            }\r\n        }\r\n        catch (error) {\r\n            // Disposing a connection could fail if error cases.\r\n        }\r\n        let action = CloseAction.DoNotRestart;\r\n        try {\r\n            action = this._clientOptions.errorHandler.closed();\r\n        }\r\n        catch (error) {\r\n            // Ignore errors coming from the error handler.\r\n        }\r\n        this._connectionPromise = undefined;\r\n        this._resolvedConnection = undefined;\r\n        if (action === CloseAction.DoNotRestart) {\r\n            this.error('Connection to server got closed. Server will not be restarted.');\r\n            if (this.state === ClientState.Starting) {\r\n                this._onReadyCallbacks.reject(new Error(`Connection to server got closed. Server will not be restarted.`));\r\n                this.state = ClientState.StartFailed;\r\n            }\r\n            else {\r\n                this.state = ClientState.Stopped;\r\n            }\r\n            this.cleanUp(false, true);\r\n        }\r\n        else if (action === CloseAction.Restart) {\r\n            this.info('Connection to server got closed. Server will restart.');\r\n            this.cleanUp(false, false);\r\n            this.state = ClientState.Initial;\r\n            this.start();\r\n        }\r\n    }\r\n    handleConnectionError(error, message, count) {\r\n        let action = this._clientOptions.errorHandler.error(error, message, count);\r\n        if (action === ErrorAction.Shutdown) {\r\n            this.error('Connection to server is erroring. Shutting down server.');\r\n            this.stop();\r\n        }\r\n    }\r\n    hookConfigurationChanged(connection) {\r\n        vscode_1.workspace.onDidChangeConfiguration(() => {\r\n            this.refreshTrace(connection, true);\r\n        });\r\n    }\r\n    refreshTrace(connection, sendNotification = false) {\r\n        let config = vscode_1.workspace.getConfiguration(this._id);\r\n        let trace = vscode_languageserver_protocol_1.Trace.Off;\r\n        let traceFormat = vscode_languageserver_protocol_1.TraceFormat.Text;\r\n        if (config) {\r\n            const traceConfig = config.get('trace.server', 'off');\r\n            if (typeof traceConfig === 'string') {\r\n                trace = vscode_languageserver_protocol_1.Trace.fromString(traceConfig);\r\n            }\r\n            else {\r\n                trace = vscode_languageserver_protocol_1.Trace.fromString(config.get('trace.server.verbosity', 'off'));\r\n                traceFormat = vscode_languageserver_protocol_1.TraceFormat.fromString(config.get('trace.server.format', 'text'));\r\n            }\r\n        }\r\n        this._trace = trace;\r\n        this._traceFormat = traceFormat;\r\n        connection.trace(this._trace, this._tracer, {\r\n            sendNotification,\r\n            traceFormat: this._traceFormat\r\n        });\r\n    }\r\n    hookFileEvents(_connection) {\r\n        let fileEvents = this._clientOptions.synchronize.fileEvents;\r\n        if (!fileEvents) {\r\n            return;\r\n        }\r\n        let watchers;\r\n        if (Is.array(fileEvents)) {\r\n            watchers = fileEvents;\r\n        }\r\n        else {\r\n            watchers = [fileEvents];\r\n        }\r\n        if (!watchers) {\r\n            return;\r\n        }\r\n        this._dynamicFeatures.get(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type.method).registerRaw(UUID.generateUuid(), watchers);\r\n    }\r\n    registerFeatures(features) {\r\n        for (let feature of features) {\r\n            this.registerFeature(feature);\r\n        }\r\n    }\r\n    registerFeature(feature) {\r\n        this._features.push(feature);\r\n        if (DynamicFeature.is(feature)) {\r\n            const registrationType = feature.registrationType;\r\n            this._dynamicFeatures.set(registrationType.method, feature);\r\n        }\r\n    }\r\n    getFeature(request) {\r\n        return this._dynamicFeatures.get(request);\r\n    }\r\n    registerBuiltinFeatures() {\r\n        this.registerFeature(new ConfigurationFeature(this));\r\n        this.registerFeature(new DidOpenTextDocumentFeature(this, this._syncedDocuments));\r\n        this.registerFeature(new DidChangeTextDocumentFeature(this));\r\n        this.registerFeature(new WillSaveFeature(this));\r\n        this.registerFeature(new WillSaveWaitUntilFeature(this));\r\n        this.registerFeature(new DidSaveTextDocumentFeature(this));\r\n        this.registerFeature(new DidCloseTextDocumentFeature(this, this._syncedDocuments));\r\n        this.registerFeature(new FileSystemWatcherFeature(this, (event) => this.notifyFileEvent(event)));\r\n        this.registerFeature(new CompletionItemFeature(this));\r\n        this.registerFeature(new HoverFeature(this));\r\n        this.registerFeature(new SignatureHelpFeature(this));\r\n        this.registerFeature(new DefinitionFeature(this));\r\n        this.registerFeature(new ReferencesFeature(this));\r\n        this.registerFeature(new DocumentHighlightFeature(this));\r\n        this.registerFeature(new DocumentSymbolFeature(this));\r\n        this.registerFeature(new WorkspaceSymbolFeature(this));\r\n        this.registerFeature(new CodeActionFeature(this));\r\n        this.registerFeature(new CodeLensFeature(this));\r\n        this.registerFeature(new DocumentFormattingFeature(this));\r\n        this.registerFeature(new DocumentRangeFormattingFeature(this));\r\n        this.registerFeature(new DocumentOnTypeFormattingFeature(this));\r\n        this.registerFeature(new RenameFeature(this));\r\n        this.registerFeature(new DocumentLinkFeature(this));\r\n        this.registerFeature(new ExecuteCommandFeature(this));\r\n    }\r\n    fillInitializeParams(params) {\r\n        for (let feature of this._features) {\r\n            if (Is.func(feature.fillInitializeParams)) {\r\n                feature.fillInitializeParams(params);\r\n            }\r\n        }\r\n    }\r\n    computeClientCapabilities() {\r\n        const result = {};\r\n        ensure(result, 'workspace').applyEdit = true;\r\n        const workspaceEdit = ensure(ensure(result, 'workspace'), 'workspaceEdit');\r\n        workspaceEdit.documentChanges = true;\r\n        workspaceEdit.resourceOperations = [vscode_languageserver_protocol_1.ResourceOperationKind.Create, vscode_languageserver_protocol_1.ResourceOperationKind.Rename, vscode_languageserver_protocol_1.ResourceOperationKind.Delete];\r\n        workspaceEdit.failureHandling = vscode_languageserver_protocol_1.FailureHandlingKind.TextOnlyTransactional;\r\n        workspaceEdit.normalizesLineEndings = true;\r\n        workspaceEdit.changeAnnotationSupport = {\r\n            groupsOnLabel: true\r\n        };\r\n        const diagnostics = ensure(ensure(result, 'textDocument'), 'publishDiagnostics');\r\n        diagnostics.relatedInformation = true;\r\n        diagnostics.versionSupport = false;\r\n        diagnostics.tagSupport = { valueSet: [vscode_languageserver_protocol_1.DiagnosticTag.Unnecessary, vscode_languageserver_protocol_1.DiagnosticTag.Deprecated] };\r\n        diagnostics.codeDescriptionSupport = true;\r\n        diagnostics.dataSupport = true;\r\n        const windowCapabilities = ensure(result, 'window');\r\n        const showMessage = ensure(windowCapabilities, 'showMessage');\r\n        showMessage.messageActionItem = { additionalPropertiesSupport: true };\r\n        const showDocument = ensure(windowCapabilities, 'showDocument');\r\n        showDocument.support = true;\r\n        const generalCapabilities = ensure(result, 'general');\r\n        generalCapabilities.regularExpressions = { engine: 'ECMAScript', version: 'ES2020' };\r\n        generalCapabilities.markdown = { parser: 'marked', version: '1.1.0' };\r\n        for (let feature of this._features) {\r\n            feature.fillClientCapabilities(result);\r\n        }\r\n        return result;\r\n    }\r\n    initializeFeatures(_connection) {\r\n        let documentSelector = this._clientOptions.documentSelector;\r\n        for (let feature of this._features) {\r\n            feature.initialize(this._capabilities, documentSelector);\r\n        }\r\n    }\r\n    handleRegistrationRequest(params) {\r\n        return new Promise((resolve, reject) => {\r\n            for (const registration of params.registrations) {\r\n                const feature = this._dynamicFeatures.get(registration.method);\r\n                if (feature === undefined) {\r\n                    reject(new Error(`No feature implementation for ${registration.method} found. Registration failed.`));\r\n                    return;\r\n                }\r\n                const options = registration.registerOptions || {};\r\n                options.documentSelector = options.documentSelector || this._clientOptions.documentSelector;\r\n                const data = {\r\n                    id: registration.id,\r\n                    registerOptions: options\r\n                };\r\n                try {\r\n                    feature.register(data);\r\n                }\r\n                catch (err) {\r\n                    reject(err);\r\n                    return;\r\n                }\r\n            }\r\n            resolve();\r\n        });\r\n    }\r\n    handleUnregistrationRequest(params) {\r\n        return new Promise((resolve, reject) => {\r\n            for (let unregistration of params.unregisterations) {\r\n                const feature = this._dynamicFeatures.get(unregistration.method);\r\n                if (!feature) {\r\n                    reject(new Error(`No feature implementation for ${unregistration.method} found. Unregistration failed.`));\r\n                    return;\r\n                }\r\n                feature.unregister(unregistration.id);\r\n            }\r\n            resolve();\r\n        });\r\n    }\r\n    handleApplyWorkspaceEdit(params) {\r\n        // This is some sort of workaround since the version check should be done by VS Code in the Workspace.applyEdit.\r\n        // However doing it here adds some safety since the server can lag more behind then an extension.\r\n        let workspaceEdit = params.edit;\r\n        let openTextDocuments = new Map();\r\n        vscode_1.workspace.textDocuments.forEach((document) => openTextDocuments.set(document.uri.toString(), document));\r\n        let versionMismatch = false;\r\n        if (workspaceEdit.documentChanges) {\r\n            for (const change of workspaceEdit.documentChanges) {\r\n                if (vscode_languageserver_protocol_1.TextDocumentEdit.is(change) && change.textDocument.version && change.textDocument.version >= 0) {\r\n                    let textDocument = openTextDocuments.get(change.textDocument.uri);\r\n                    if (textDocument && textDocument.version !== change.textDocument.version) {\r\n                        versionMismatch = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (versionMismatch) {\r\n            return Promise.resolve({ applied: false });\r\n        }\r\n        return Is.asPromise(vscode_1.workspace.applyEdit(this._p2c.asWorkspaceEdit(params.edit)).then((value) => { return { applied: value }; }));\r\n    }\r\n    handleFailedRequest(type, error, defaultValue) {\r\n        // If we get a request cancel or a content modified don't log anything.\r\n        if (error instanceof vscode_languageserver_protocol_1.ResponseError) {\r\n            if (error.code === vscode_languageserver_protocol_1.LSPErrorCodes.RequestCancelled) {\r\n                throw this.makeCancelError();\r\n            }\r\n            else if (error.code === vscode_languageserver_protocol_1.LSPErrorCodes.ContentModified) {\r\n                return defaultValue;\r\n            }\r\n        }\r\n        this.error(`Request ${type.method} failed.`, error);\r\n        throw error;\r\n    }\r\n    makeCancelError() {\r\n        const result = new Error(BaseLanguageClient.Canceled);\r\n        result.name = BaseLanguageClient.Canceled;\r\n        return result;\r\n    }\r\n}\r\nexports.BaseLanguageClient = BaseLanguageClient;\r\nBaseLanguageClient.Canceled = 'Canceled';\r\n//# sourceMappingURL=client.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.createConverter = void 0;\r\nconst code = require(\"vscode\");\r\nconst proto = require(\"vscode-languageserver-protocol\");\r\nconst Is = require(\"./utils/is\");\r\nconst protocolCompletionItem_1 = require(\"./protocolCompletionItem\");\r\nconst protocolCodeLens_1 = require(\"./protocolCodeLens\");\r\nconst protocolDocumentLink_1 = require(\"./protocolDocumentLink\");\r\nconst protocolCodeAction_1 = require(\"./protocolCodeAction\");\r\nconst protocolDiagnostic_1 = require(\"./protocolDiagnostic\");\r\nconst protocolCallHierarchyItem_1 = require(\"./protocolCallHierarchyItem\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nvar InsertReplaceRange;\r\n(function (InsertReplaceRange) {\r\n    function is(value) {\r\n        const candidate = value;\r\n        return candidate && !!candidate.inserting && !!candidate.replacing;\r\n    }\r\n    InsertReplaceRange.is = is;\r\n})(InsertReplaceRange || (InsertReplaceRange = {}));\r\nfunction createConverter(uriConverter) {\r\n    const nullConverter = (value) => value.toString();\r\n    const _uriConverter = uriConverter || nullConverter;\r\n    function asUri(value) {\r\n        return _uriConverter(value);\r\n    }\r\n    function asTextDocumentIdentifier(textDocument) {\r\n        return {\r\n            uri: _uriConverter(textDocument.uri)\r\n        };\r\n    }\r\n    function asVersionedTextDocumentIdentifier(textDocument) {\r\n        return {\r\n            uri: _uriConverter(textDocument.uri),\r\n            version: textDocument.version\r\n        };\r\n    }\r\n    function asOpenTextDocumentParams(textDocument) {\r\n        return {\r\n            textDocument: {\r\n                uri: _uriConverter(textDocument.uri),\r\n                languageId: textDocument.languageId,\r\n                version: textDocument.version,\r\n                text: textDocument.getText()\r\n            }\r\n        };\r\n    }\r\n    function isTextDocumentChangeEvent(value) {\r\n        let candidate = value;\r\n        return !!candidate.document && !!candidate.contentChanges;\r\n    }\r\n    function isTextDocument(value) {\r\n        let candidate = value;\r\n        return !!candidate.uri && !!candidate.version;\r\n    }\r\n    function asChangeTextDocumentParams(arg) {\r\n        if (isTextDocument(arg)) {\r\n            let result = {\r\n                textDocument: {\r\n                    uri: _uriConverter(arg.uri),\r\n                    version: arg.version\r\n                },\r\n                contentChanges: [{ text: arg.getText() }]\r\n            };\r\n            return result;\r\n        }\r\n        else if (isTextDocumentChangeEvent(arg)) {\r\n            let document = arg.document;\r\n            let result = {\r\n                textDocument: {\r\n                    uri: _uriConverter(document.uri),\r\n                    version: document.version\r\n                },\r\n                contentChanges: arg.contentChanges.map((change) => {\r\n                    let range = change.range;\r\n                    return {\r\n                        range: {\r\n                            start: { line: range.start.line, character: range.start.character },\r\n                            end: { line: range.end.line, character: range.end.character }\r\n                        },\r\n                        rangeLength: change.rangeLength,\r\n                        text: change.text\r\n                    };\r\n                })\r\n            };\r\n            return result;\r\n        }\r\n        else {\r\n            throw Error('Unsupported text document change parameter');\r\n        }\r\n    }\r\n    function asCloseTextDocumentParams(textDocument) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument)\r\n        };\r\n    }\r\n    function asSaveTextDocumentParams(textDocument, includeContent = false) {\r\n        let result = {\r\n            textDocument: asTextDocumentIdentifier(textDocument)\r\n        };\r\n        if (includeContent) {\r\n            result.text = textDocument.getText();\r\n        }\r\n        return result;\r\n    }\r\n    function asTextDocumentSaveReason(reason) {\r\n        switch (reason) {\r\n            case code.TextDocumentSaveReason.Manual:\r\n                return proto.TextDocumentSaveReason.Manual;\r\n            case code.TextDocumentSaveReason.AfterDelay:\r\n                return proto.TextDocumentSaveReason.AfterDelay;\r\n            case code.TextDocumentSaveReason.FocusOut:\r\n                return proto.TextDocumentSaveReason.FocusOut;\r\n        }\r\n        return proto.TextDocumentSaveReason.Manual;\r\n    }\r\n    function asWillSaveTextDocumentParams(event) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(event.document),\r\n            reason: asTextDocumentSaveReason(event.reason)\r\n        };\r\n    }\r\n    function asDidCreateFilesParams(event) {\r\n        return {\r\n            files: event.files.map((fileUri) => ({\r\n                uri: _uriConverter(fileUri),\r\n            })),\r\n        };\r\n    }\r\n    function asDidRenameFilesParams(event) {\r\n        return {\r\n            files: event.files.map((file) => ({\r\n                oldUri: _uriConverter(file.oldUri),\r\n                newUri: _uriConverter(file.newUri),\r\n            })),\r\n        };\r\n    }\r\n    function asDidDeleteFilesParams(event) {\r\n        return {\r\n            files: event.files.map((fileUri) => ({\r\n                uri: _uriConverter(fileUri),\r\n            })),\r\n        };\r\n    }\r\n    function asWillCreateFilesParams(event) {\r\n        return {\r\n            files: event.files.map((fileUri) => ({\r\n                uri: _uriConverter(fileUri),\r\n            })),\r\n        };\r\n    }\r\n    function asWillRenameFilesParams(event) {\r\n        return {\r\n            files: event.files.map((file) => ({\r\n                oldUri: _uriConverter(file.oldUri),\r\n                newUri: _uriConverter(file.newUri),\r\n            })),\r\n        };\r\n    }\r\n    function asWillDeleteFilesParams(event) {\r\n        return {\r\n            files: event.files.map((fileUri) => ({\r\n                uri: _uriConverter(fileUri),\r\n            })),\r\n        };\r\n    }\r\n    function asTextDocumentPositionParams(textDocument, position) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument),\r\n            position: asWorkerPosition(position)\r\n        };\r\n    }\r\n    function asCompletionTriggerKind(triggerKind) {\r\n        switch (triggerKind) {\r\n            case code.CompletionTriggerKind.TriggerCharacter:\r\n                return proto.CompletionTriggerKind.TriggerCharacter;\r\n            case code.CompletionTriggerKind.TriggerForIncompleteCompletions:\r\n                return proto.CompletionTriggerKind.TriggerForIncompleteCompletions;\r\n            default:\r\n                return proto.CompletionTriggerKind.Invoked;\r\n        }\r\n    }\r\n    function asCompletionParams(textDocument, position, context) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument),\r\n            position: asWorkerPosition(position),\r\n            context: {\r\n                triggerKind: asCompletionTriggerKind(context.triggerKind),\r\n                triggerCharacter: context.triggerCharacter\r\n            }\r\n        };\r\n    }\r\n    function asSignatureHelpTriggerKind(triggerKind) {\r\n        switch (triggerKind) {\r\n            case code.SignatureHelpTriggerKind.Invoke:\r\n                return proto.SignatureHelpTriggerKind.Invoked;\r\n            case code.SignatureHelpTriggerKind.TriggerCharacter:\r\n                return proto.SignatureHelpTriggerKind.TriggerCharacter;\r\n            case code.SignatureHelpTriggerKind.ContentChange:\r\n                return proto.SignatureHelpTriggerKind.ContentChange;\r\n        }\r\n    }\r\n    function asParameterInformation(value) {\r\n        // We leave the documentation out on purpose since it usually adds no\r\n        // value for the server.\r\n        return {\r\n            label: value.label\r\n        };\r\n    }\r\n    function asParameterInformations(values) {\r\n        return values.map(asParameterInformation);\r\n    }\r\n    function asSignatureInformation(value) {\r\n        // We leave the documentation out on purpose since it usually adds no\r\n        // value for the server.\r\n        return {\r\n            label: value.label,\r\n            parameters: asParameterInformations(value.parameters)\r\n        };\r\n    }\r\n    function asSignatureInformations(values) {\r\n        return values.map(asSignatureInformation);\r\n    }\r\n    function asSignatureHelp(value) {\r\n        if (value === undefined) {\r\n            return value;\r\n        }\r\n        return {\r\n            signatures: asSignatureInformations(value.signatures),\r\n            activeSignature: value.activeSignature,\r\n            activeParameter: value.activeParameter\r\n        };\r\n    }\r\n    function asSignatureHelpParams(textDocument, position, context) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument),\r\n            position: asWorkerPosition(position),\r\n            context: {\r\n                isRetrigger: context.isRetrigger,\r\n                triggerCharacter: context.triggerCharacter,\r\n                triggerKind: asSignatureHelpTriggerKind(context.triggerKind),\r\n                activeSignatureHelp: asSignatureHelp(context.activeSignatureHelp)\r\n            }\r\n        };\r\n    }\r\n    function asWorkerPosition(position) {\r\n        return { line: position.line, character: position.character };\r\n    }\r\n    function asPosition(value) {\r\n        if (value === undefined || value === null) {\r\n            return value;\r\n        }\r\n        return { line: value.line, character: value.character };\r\n    }\r\n    function asPositions(value) {\r\n        let result = [];\r\n        for (let elem of value) {\r\n            result.push(asPosition(elem));\r\n        }\r\n        return result;\r\n    }\r\n    function asRange(value) {\r\n        if (value === undefined || value === null) {\r\n            return value;\r\n        }\r\n        return { start: asPosition(value.start), end: asPosition(value.end) };\r\n    }\r\n    function asLocation(value) {\r\n        if (value === undefined || value === null) {\r\n            return value;\r\n        }\r\n        return proto.Location.create(asUri(value.uri), asRange(value.range));\r\n    }\r\n    function asDiagnosticSeverity(value) {\r\n        switch (value) {\r\n            case code.DiagnosticSeverity.Error:\r\n                return proto.DiagnosticSeverity.Error;\r\n            case code.DiagnosticSeverity.Warning:\r\n                return proto.DiagnosticSeverity.Warning;\r\n            case code.DiagnosticSeverity.Information:\r\n                return proto.DiagnosticSeverity.Information;\r\n            case code.DiagnosticSeverity.Hint:\r\n                return proto.DiagnosticSeverity.Hint;\r\n        }\r\n    }\r\n    function asDiagnosticTags(tags) {\r\n        if (!tags) {\r\n            return undefined;\r\n        }\r\n        let result = [];\r\n        for (let tag of tags) {\r\n            let converted = asDiagnosticTag(tag);\r\n            if (converted !== undefined) {\r\n                result.push(converted);\r\n            }\r\n        }\r\n        return result.length > 0 ? result : undefined;\r\n    }\r\n    function asDiagnosticTag(tag) {\r\n        switch (tag) {\r\n            case code.DiagnosticTag.Unnecessary:\r\n                return proto.DiagnosticTag.Unnecessary;\r\n            case code.DiagnosticTag.Deprecated:\r\n                return proto.DiagnosticTag.Deprecated;\r\n            default:\r\n                return undefined;\r\n        }\r\n    }\r\n    function asRelatedInformation(item) {\r\n        return {\r\n            message: item.message,\r\n            location: asLocation(item.location)\r\n        };\r\n    }\r\n    function asRelatedInformations(items) {\r\n        return items.map(asRelatedInformation);\r\n    }\r\n    function asDiagnosticCode(value) {\r\n        if (value === undefined || value === null) {\r\n            return undefined;\r\n        }\r\n        if (Is.number(value) || Is.string(value)) {\r\n            return value;\r\n        }\r\n        return { value: value.value, target: asUri(value.target) };\r\n    }\r\n    function asDiagnostic(item) {\r\n        const result = proto.Diagnostic.create(asRange(item.range), item.message);\r\n        const protocolDiagnostic = item instanceof protocolDiagnostic_1.ProtocolDiagnostic ? item : undefined;\r\n        if (protocolDiagnostic !== undefined && protocolDiagnostic.data !== undefined) {\r\n            result.data = protocolDiagnostic.data;\r\n        }\r\n        const code = asDiagnosticCode(item.code);\r\n        if (protocolDiagnostic_1.DiagnosticCode.is(code)) {\r\n            if (protocolDiagnostic !== undefined && protocolDiagnostic.hasDiagnosticCode) {\r\n                result.code = code;\r\n            }\r\n            else {\r\n                result.code = code.value;\r\n                result.codeDescription = { href: code.target };\r\n            }\r\n        }\r\n        else {\r\n            result.code = code;\r\n        }\r\n        if (Is.number(item.severity)) {\r\n            result.severity = asDiagnosticSeverity(item.severity);\r\n        }\r\n        if (Array.isArray(item.tags)) {\r\n            result.tags = asDiagnosticTags(item.tags);\r\n        }\r\n        if (item.relatedInformation) {\r\n            result.relatedInformation = asRelatedInformations(item.relatedInformation);\r\n        }\r\n        if (item.source) {\r\n            result.source = item.source;\r\n        }\r\n        return result;\r\n    }\r\n    function asDiagnostics(items) {\r\n        if (items === undefined || items === null) {\r\n            return items;\r\n        }\r\n        return items.map(asDiagnostic);\r\n    }\r\n    function asDocumentation(format, documentation) {\r\n        switch (format) {\r\n            case '$string':\r\n                return documentation;\r\n            case proto.MarkupKind.PlainText:\r\n                return { kind: format, value: documentation };\r\n            case proto.MarkupKind.Markdown:\r\n                return { kind: format, value: documentation.value };\r\n            default:\r\n                return `Unsupported Markup content received. Kind is: ${format}`;\r\n        }\r\n    }\r\n    function asCompletionItemTag(tag) {\r\n        switch (tag) {\r\n            case code.CompletionItemTag.Deprecated:\r\n                return proto.CompletionItemTag.Deprecated;\r\n        }\r\n        return undefined;\r\n    }\r\n    function asCompletionItemTags(tags) {\r\n        if (tags === undefined) {\r\n            return tags;\r\n        }\r\n        const result = [];\r\n        for (let tag of tags) {\r\n            const converted = asCompletionItemTag(tag);\r\n            if (converted !== undefined) {\r\n                result.push(converted);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    function asCompletionItemKind(value, original) {\r\n        if (original !== undefined) {\r\n            return original;\r\n        }\r\n        return value + 1;\r\n    }\r\n    function asCompletionItem(item) {\r\n        let result = { label: item.label };\r\n        let protocolItem = item instanceof protocolCompletionItem_1.default ? item : undefined;\r\n        if (item.detail) {\r\n            result.detail = item.detail;\r\n        }\r\n        // We only send items back we created. So this can't be something else than\r\n        // a string right now.\r\n        if (item.documentation) {\r\n            if (!protocolItem || protocolItem.documentationFormat === '$string') {\r\n                result.documentation = item.documentation;\r\n            }\r\n            else {\r\n                result.documentation = asDocumentation(protocolItem.documentationFormat, item.documentation);\r\n            }\r\n        }\r\n        if (item.filterText) {\r\n            result.filterText = item.filterText;\r\n        }\r\n        fillPrimaryInsertText(result, item);\r\n        if (Is.number(item.kind)) {\r\n            result.kind = asCompletionItemKind(item.kind, protocolItem && protocolItem.originalItemKind);\r\n        }\r\n        if (item.sortText) {\r\n            result.sortText = item.sortText;\r\n        }\r\n        if (item.additionalTextEdits) {\r\n            result.additionalTextEdits = asTextEdits(item.additionalTextEdits);\r\n        }\r\n        if (item.commitCharacters) {\r\n            result.commitCharacters = item.commitCharacters.slice();\r\n        }\r\n        if (item.command) {\r\n            result.command = asCommand(item.command);\r\n        }\r\n        if (item.preselect === true || item.preselect === false) {\r\n            result.preselect = item.preselect;\r\n        }\r\n        const tags = asCompletionItemTags(item.tags);\r\n        if (protocolItem) {\r\n            if (protocolItem.data !== undefined) {\r\n                result.data = protocolItem.data;\r\n            }\r\n            if (protocolItem.deprecated === true || protocolItem.deprecated === false) {\r\n                if (protocolItem.deprecated === true && tags !== undefined && tags.length > 0) {\r\n                    const index = tags.indexOf(code.CompletionItemTag.Deprecated);\r\n                    if (index !== -1) {\r\n                        tags.splice(index, 1);\r\n                    }\r\n                }\r\n                result.deprecated = protocolItem.deprecated;\r\n            }\r\n            if (protocolItem.insertTextMode !== undefined) {\r\n                result.insertTextMode = protocolItem.insertTextMode;\r\n            }\r\n        }\r\n        if (tags !== undefined && tags.length > 0) {\r\n            result.tags = tags;\r\n        }\r\n        if (result.insertTextMode === undefined && item.keepWhitespace === true) {\r\n            result.insertTextMode = vscode_languageserver_protocol_1.InsertTextMode.adjustIndentation;\r\n        }\r\n        return result;\r\n    }\r\n    function fillPrimaryInsertText(target, source) {\r\n        let format = proto.InsertTextFormat.PlainText;\r\n        let text = undefined;\r\n        let range = undefined;\r\n        if (source.textEdit) {\r\n            text = source.textEdit.newText;\r\n            range = source.textEdit.range;\r\n        }\r\n        else if (source.insertText instanceof code.SnippetString) {\r\n            format = proto.InsertTextFormat.Snippet;\r\n            text = source.insertText.value;\r\n        }\r\n        else {\r\n            text = source.insertText;\r\n        }\r\n        if (source.range) {\r\n            range = source.range;\r\n        }\r\n        target.insertTextFormat = format;\r\n        if (source.fromEdit && text !== undefined && range !== undefined) {\r\n            target.textEdit = asCompletionTextEdit(text, range);\r\n        }\r\n        else {\r\n            target.insertText = text;\r\n        }\r\n    }\r\n    function asCompletionTextEdit(newText, range) {\r\n        if (InsertReplaceRange.is(range)) {\r\n            return proto.InsertReplaceEdit.create(newText, asRange(range.inserting), asRange(range.replacing));\r\n        }\r\n        else {\r\n            return { newText, range: asRange(range) };\r\n        }\r\n    }\r\n    function asTextEdit(edit) {\r\n        return { range: asRange(edit.range), newText: edit.newText };\r\n    }\r\n    function asTextEdits(edits) {\r\n        if (edits === undefined || edits === null) {\r\n            return edits;\r\n        }\r\n        return edits.map(asTextEdit);\r\n    }\r\n    function asSymbolKind(item) {\r\n        if (item <= code.SymbolKind.TypeParameter) {\r\n            // Symbol kind is one based in the protocol and zero based in code.\r\n            return (item + 1);\r\n        }\r\n        return proto.SymbolKind.Property;\r\n    }\r\n    function asSymbolTag(item) {\r\n        return item;\r\n    }\r\n    function asSymbolTags(items) {\r\n        return items.map(asSymbolTag);\r\n    }\r\n    function asReferenceParams(textDocument, position, options) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument),\r\n            position: asWorkerPosition(position),\r\n            context: { includeDeclaration: options.includeDeclaration }\r\n        };\r\n    }\r\n    function asCodeAction(item) {\r\n        let result = proto.CodeAction.create(item.title);\r\n        if (item instanceof protocolCodeAction_1.default && item.data !== undefined) {\r\n            result.data = item.data;\r\n        }\r\n        if (item.kind !== undefined) {\r\n            result.kind = asCodeActionKind(item.kind);\r\n        }\r\n        if (item.diagnostics !== undefined) {\r\n            result.diagnostics = asDiagnostics(item.diagnostics);\r\n        }\r\n        if (item.edit !== undefined) {\r\n            throw new Error(`VS Code code actions can only be converted to a protocol code action without an edit.`);\r\n        }\r\n        if (item.command !== undefined) {\r\n            result.command = asCommand(item.command);\r\n        }\r\n        if (item.isPreferred !== undefined) {\r\n            result.isPreferred = item.isPreferred;\r\n        }\r\n        if (item.disabled !== undefined) {\r\n            result.disabled = { reason: item.disabled.reason };\r\n        }\r\n        return result;\r\n    }\r\n    function asCodeActionContext(context) {\r\n        if (context === undefined || context === null) {\r\n            return context;\r\n        }\r\n        let only;\r\n        if (context.only && Is.string(context.only.value)) {\r\n            only = [context.only.value];\r\n        }\r\n        return proto.CodeActionContext.create(asDiagnostics(context.diagnostics), only);\r\n    }\r\n    function asCodeActionKind(item) {\r\n        if (item === undefined || item === null) {\r\n            return undefined;\r\n        }\r\n        return item.value;\r\n    }\r\n    function asCommand(item) {\r\n        let result = proto.Command.create(item.title, item.command);\r\n        if (item.arguments) {\r\n            result.arguments = item.arguments;\r\n        }\r\n        return result;\r\n    }\r\n    function asCodeLens(item) {\r\n        let result = proto.CodeLens.create(asRange(item.range));\r\n        if (item.command) {\r\n            result.command = asCommand(item.command);\r\n        }\r\n        if (item instanceof protocolCodeLens_1.default) {\r\n            if (item.data) {\r\n                result.data = item.data;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    function asFormattingOptions(options, fileOptions) {\r\n        const result = { tabSize: options.tabSize, insertSpaces: options.insertSpaces };\r\n        if (fileOptions.trimTrailingWhitespace) {\r\n            result.trimTrailingWhitespace = true;\r\n        }\r\n        if (fileOptions.trimFinalNewlines) {\r\n            result.trimFinalNewlines = true;\r\n        }\r\n        if (fileOptions.insertFinalNewline) {\r\n            result.insertFinalNewline = true;\r\n        }\r\n        return result;\r\n    }\r\n    function asDocumentSymbolParams(textDocument) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument)\r\n        };\r\n    }\r\n    function asCodeLensParams(textDocument) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument)\r\n        };\r\n    }\r\n    function asDocumentLink(item) {\r\n        let result = proto.DocumentLink.create(asRange(item.range));\r\n        if (item.target) {\r\n            result.target = asUri(item.target);\r\n        }\r\n        if (item.tooltip !== undefined) {\r\n            result.tooltip = item.tooltip;\r\n        }\r\n        let protocolItem = item instanceof protocolDocumentLink_1.default ? item : undefined;\r\n        if (protocolItem && protocolItem.data) {\r\n            result.data = protocolItem.data;\r\n        }\r\n        return result;\r\n    }\r\n    function asDocumentLinkParams(textDocument) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument)\r\n        };\r\n    }\r\n    function asCallHierarchyItem(value) {\r\n        const result = {\r\n            name: value.name,\r\n            kind: asSymbolKind(value.kind),\r\n            uri: asUri(value.uri),\r\n            range: asRange(value.range),\r\n            selectionRange: asRange(value.selectionRange)\r\n        };\r\n        if (value.detail !== undefined && value.detail.length > 0) {\r\n            result.detail = value.detail;\r\n        }\r\n        if (value.tags !== undefined) {\r\n            result.tags = asSymbolTags(value.tags);\r\n        }\r\n        if (value instanceof protocolCallHierarchyItem_1.default && value.data !== undefined) {\r\n            result.data = value.data;\r\n        }\r\n        return result;\r\n    }\r\n    return {\r\n        asUri,\r\n        asTextDocumentIdentifier,\r\n        asVersionedTextDocumentIdentifier,\r\n        asOpenTextDocumentParams,\r\n        asChangeTextDocumentParams,\r\n        asCloseTextDocumentParams,\r\n        asSaveTextDocumentParams,\r\n        asWillSaveTextDocumentParams,\r\n        asDidCreateFilesParams,\r\n        asDidRenameFilesParams,\r\n        asDidDeleteFilesParams,\r\n        asWillCreateFilesParams,\r\n        asWillRenameFilesParams,\r\n        asWillDeleteFilesParams,\r\n        asTextDocumentPositionParams,\r\n        asCompletionParams,\r\n        asSignatureHelpParams,\r\n        asWorkerPosition,\r\n        asRange,\r\n        asPosition,\r\n        asPositions,\r\n        asLocation,\r\n        asDiagnosticSeverity,\r\n        asDiagnosticTag,\r\n        asDiagnostic,\r\n        asDiagnostics,\r\n        asCompletionItem,\r\n        asTextEdit,\r\n        asSymbolKind,\r\n        asSymbolTag,\r\n        asSymbolTags,\r\n        asReferenceParams,\r\n        asCodeAction,\r\n        asCodeActionContext,\r\n        asCommand,\r\n        asCodeLens,\r\n        asFormattingOptions,\r\n        asDocumentSymbolParams,\r\n        asCodeLensParams,\r\n        asDocumentLink,\r\n        asDocumentLinkParams,\r\n        asCallHierarchyItem\r\n    };\r\n}\r\nexports.createConverter = createConverter;\r\n//# sourceMappingURL=codeConverter.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ColorProviderFeature = void 0;\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst client_1 = require(\"./client\");\r\nfunction ensure(target, key) {\r\n    if (target[key] === void 0) {\r\n        target[key] = {};\r\n    }\r\n    return target[key];\r\n}\r\nclass ColorProviderFeature extends client_1.TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DocumentColorRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'textDocument'), 'colorProvider').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let [id, options] = this.getRegistration(documentSelector, capabilities.colorProvider);\r\n        if (!id || !options) {\r\n            return;\r\n        }\r\n        this.register({ id: id, registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideColorPresentations: (color, context, token) => {\r\n                const client = this._client;\r\n                const provideColorPresentations = (color, context, token) => {\r\n                    const requestParams = {\r\n                        color,\r\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(context.document),\r\n                        range: client.code2ProtocolConverter.asRange(context.range)\r\n                    };\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, requestParams, token).then(this.asColorPresentations.bind(this), (error) => {\r\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, error, null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideColorPresentations\r\n                    ? middleware.provideColorPresentations(color, context, token, provideColorPresentations)\r\n                    : provideColorPresentations(color, context, token);\r\n            },\r\n            provideDocumentColors: (document, token) => {\r\n                const client = this._client;\r\n                const provideDocumentColors = (document, token) => {\r\n                    const requestParams = {\r\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\r\n                    };\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, requestParams, token).then(this.asColorInformations.bind(this), (error) => {\r\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, error, null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideDocumentColors\r\n                    ? middleware.provideDocumentColors(document, token, provideDocumentColors)\r\n                    : provideDocumentColors(document, token);\r\n            }\r\n        };\r\n        return [vscode_1.languages.registerColorProvider(options.documentSelector, provider), provider];\r\n    }\r\n    asColor(color) {\r\n        return new vscode_1.Color(color.red, color.green, color.blue, color.alpha);\r\n    }\r\n    asColorInformations(colorInformation) {\r\n        if (Array.isArray(colorInformation)) {\r\n            return colorInformation.map(ci => {\r\n                return new vscode_1.ColorInformation(this._client.protocol2CodeConverter.asRange(ci.range), this.asColor(ci.color));\r\n            });\r\n        }\r\n        return [];\r\n    }\r\n    asColorPresentations(colorPresentations) {\r\n        if (Array.isArray(colorPresentations)) {\r\n            return colorPresentations.map(cp => {\r\n                let presentation = new vscode_1.ColorPresentation(cp.label);\r\n                presentation.additionalTextEdits = this._client.protocol2CodeConverter.asTextEdits(cp.additionalTextEdits);\r\n                presentation.textEdit = this._client.protocol2CodeConverter.asTextEdit(cp.textEdit);\r\n                return presentation;\r\n            });\r\n        }\r\n        return [];\r\n    }\r\n}\r\nexports.ColorProviderFeature = ColorProviderFeature;\r\n//# sourceMappingURL=colorProvider.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ProposedFeatures = exports.CommonLanguageClient = void 0;\r\nconst client_1 = require(\"./client\");\r\nconst colorProvider_1 = require(\"./colorProvider\");\r\nconst configuration_1 = require(\"./configuration\");\r\nconst implementation_1 = require(\"./implementation\");\r\nconst typeDefinition_1 = require(\"./typeDefinition\");\r\nconst workspaceFolders_1 = require(\"./workspaceFolders\");\r\nconst foldingRange_1 = require(\"./foldingRange\");\r\nconst declaration_1 = require(\"./declaration\");\r\nconst selectionRange_1 = require(\"./selectionRange\");\r\nconst progress_1 = require(\"./progress\");\r\nconst callHierarchy_1 = require(\"./callHierarchy\");\r\nconst semanticTokens_1 = require(\"./semanticTokens\");\r\nconst fileOperations_1 = require(\"./fileOperations\");\r\nconst linkedEditingRange_1 = require(\"./linkedEditingRange\");\r\nclass CommonLanguageClient extends client_1.BaseLanguageClient {\r\n    constructor(id, name, clientOptions) {\r\n        super(id, name, clientOptions);\r\n    }\r\n    registerProposedFeatures() {\r\n        this.registerFeatures(ProposedFeatures.createAll(this));\r\n    }\r\n    registerBuiltinFeatures() {\r\n        super.registerBuiltinFeatures();\r\n        this.registerFeature(new configuration_1.ConfigurationFeature(this));\r\n        this.registerFeature(new typeDefinition_1.TypeDefinitionFeature(this));\r\n        this.registerFeature(new implementation_1.ImplementationFeature(this));\r\n        this.registerFeature(new colorProvider_1.ColorProviderFeature(this));\r\n        this.registerFeature(new workspaceFolders_1.WorkspaceFoldersFeature(this));\r\n        this.registerFeature(new foldingRange_1.FoldingRangeFeature(this));\r\n        this.registerFeature(new declaration_1.DeclarationFeature(this));\r\n        this.registerFeature(new selectionRange_1.SelectionRangeFeature(this));\r\n        this.registerFeature(new progress_1.ProgressFeature(this));\r\n        this.registerFeature(new callHierarchy_1.CallHierarchyFeature(this));\r\n        this.registerFeature(new semanticTokens_1.SemanticTokensFeature(this));\r\n        this.registerFeature(new linkedEditingRange_1.LinkedEditingFeature(this));\r\n        this.registerFeature(new fileOperations_1.DidCreateFilesFeature(this));\r\n        this.registerFeature(new fileOperations_1.DidRenameFilesFeature(this));\r\n        this.registerFeature(new fileOperations_1.DidDeleteFilesFeature(this));\r\n        this.registerFeature(new fileOperations_1.WillCreateFilesFeature(this));\r\n        this.registerFeature(new fileOperations_1.WillRenameFilesFeature(this));\r\n        this.registerFeature(new fileOperations_1.WillDeleteFilesFeature(this));\r\n    }\r\n}\r\nexports.CommonLanguageClient = CommonLanguageClient;\r\n// Exporting proposed protocol.\r\nvar ProposedFeatures;\r\n(function (ProposedFeatures) {\r\n    function createAll(_client) {\r\n        let result = [];\r\n        return result;\r\n    }\r\n    ProposedFeatures.createAll = createAll;\r\n})(ProposedFeatures = exports.ProposedFeatures || (exports.ProposedFeatures = {}));\r\n//# sourceMappingURL=commonClient.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.toJSONObject = exports.ConfigurationFeature = void 0;\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nclass ConfigurationFeature {\r\n    constructor(_client) {\r\n        this._client = _client;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        capabilities.workspace = capabilities.workspace || {};\r\n        capabilities.workspace.configuration = true;\r\n    }\r\n    initialize() {\r\n        let client = this._client;\r\n        client.onRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type, (params, token) => {\r\n            let configuration = (params) => {\r\n                let result = [];\r\n                for (let item of params.items) {\r\n                    let resource = item.scopeUri !== void 0 && item.scopeUri !== null ? this._client.protocol2CodeConverter.asUri(item.scopeUri) : undefined;\r\n                    result.push(this.getConfiguration(resource, item.section !== null ? item.section : undefined));\r\n                }\r\n                return result;\r\n            };\r\n            let middleware = client.clientOptions.middleware.workspace;\r\n            return middleware && middleware.configuration\r\n                ? middleware.configuration(params, token, configuration)\r\n                : configuration(params, token);\r\n        });\r\n    }\r\n    getConfiguration(resource, section) {\r\n        let result = null;\r\n        if (section) {\r\n            let index = section.lastIndexOf('.');\r\n            if (index === -1) {\r\n                result = toJSONObject(vscode_1.workspace.getConfiguration(undefined, resource).get(section));\r\n            }\r\n            else {\r\n                let config = vscode_1.workspace.getConfiguration(section.substr(0, index), resource);\r\n                if (config) {\r\n                    result = toJSONObject(config.get(section.substr(index + 1)));\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            let config = vscode_1.workspace.getConfiguration(undefined, resource);\r\n            result = {};\r\n            for (let key of Object.keys(config)) {\r\n                if (config.has(key)) {\r\n                    result[key] = toJSONObject(config.get(key));\r\n                }\r\n            }\r\n        }\r\n        if (result === undefined) {\r\n            result = null;\r\n        }\r\n        return result;\r\n    }\r\n    dispose() {\r\n    }\r\n}\r\nexports.ConfigurationFeature = ConfigurationFeature;\r\nfunction toJSONObject(obj) {\r\n    if (obj) {\r\n        if (Array.isArray(obj)) {\r\n            return obj.map(toJSONObject);\r\n        }\r\n        else if (typeof obj === 'object') {\r\n            const res = Object.create(null);\r\n            for (const key in obj) {\r\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\r\n                    res[key] = toJSONObject(obj[key]);\r\n                }\r\n            }\r\n            return res;\r\n        }\r\n    }\r\n    return obj;\r\n}\r\nexports.toJSONObject = toJSONObject;\r\n//# sourceMappingURL=configuration.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DeclarationFeature = void 0;\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst client_1 = require(\"./client\");\r\nfunction ensure(target, key) {\r\n    if (target[key] === void 0) {\r\n        target[key] = {};\r\n    }\r\n    return target[key];\r\n}\r\nclass DeclarationFeature extends client_1.TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DeclarationRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        const declarationSupport = ensure(ensure(capabilities, 'textDocument'), 'declaration');\r\n        declarationSupport.dynamicRegistration = true;\r\n        declarationSupport.linkSupport = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const [id, options] = this.getRegistration(documentSelector, capabilities.declarationProvider);\r\n        if (!id || !options) {\r\n            return;\r\n        }\r\n        this.register({ id: id, registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideDeclaration: (document, position, token) => {\r\n                const client = this._client;\r\n                const provideDeclaration = (document, position, token) => {\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDeclarationResult, (error) => {\r\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, error, null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideDeclaration\r\n                    ? middleware.provideDeclaration(document, position, token, provideDeclaration)\r\n                    : provideDeclaration(document, position, token);\r\n            }\r\n        };\r\n        return [vscode_1.languages.registerDeclarationProvider(options.documentSelector, provider), provider];\r\n    }\r\n}\r\nexports.DeclarationFeature = DeclarationFeature;\r\n//# sourceMappingURL=declaration.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WillDeleteFilesFeature = exports.WillRenameFilesFeature = exports.WillCreateFilesFeature = exports.DidDeleteFilesFeature = exports.DidRenameFilesFeature = exports.DidCreateFilesFeature = void 0;\r\nconst code = require(\"vscode\");\r\nconst minimatch = require(\"minimatch\");\r\nconst proto = require(\"vscode-languageserver-protocol\");\r\nconst UUID = require(\"./utils/uuid\");\r\nfunction ensure(target, key) {\r\n    if (target[key] === void 0) {\r\n        target[key] = {};\r\n    }\r\n    return target[key];\r\n}\r\nfunction access(target, key) {\r\n    return target[key];\r\n}\r\nfunction assign(target, key, value) {\r\n    target[key] = value;\r\n}\r\nclass FileOperationFeature {\r\n    constructor(client, event, registrationType, clientCapability, serverCapability) {\r\n        this._filters = new Map();\r\n        this._client = client;\r\n        this._event = event;\r\n        this._registrationType = registrationType;\r\n        this._clientCapability = clientCapability;\r\n        this._serverCapability = serverCapability;\r\n    }\r\n    get registrationType() {\r\n        return this._registrationType;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        const value = ensure(ensure(capabilities, 'workspace'), 'fileOperations');\r\n        // this happens n times but it is the same value so we tolerate this.\r\n        assign(value, 'dynamicRegistration', true);\r\n        assign(value, this._clientCapability, true);\r\n    }\r\n    initialize(capabilities) {\r\n        var _a;\r\n        const options = (_a = capabilities.workspace) === null || _a === void 0 ? void 0 : _a.fileOperations;\r\n        const capability = options !== undefined ? access(options, this._serverCapability) : undefined;\r\n        if ((capability === null || capability === void 0 ? void 0 : capability.filters) !== undefined) {\r\n            try {\r\n                this.register({\r\n                    id: UUID.generateUuid(),\r\n                    registerOptions: { filters: capability.filters }\r\n                });\r\n            }\r\n            catch (e) {\r\n                this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${e}`);\r\n            }\r\n        }\r\n    }\r\n    register(data) {\r\n        if (!this._listener) {\r\n            this._listener = this._event(this.send, this);\r\n        }\r\n        const minimatchFilter = data.registerOptions.filters.map((filter) => {\r\n            const matcher = new minimatch.Minimatch(filter.pattern.glob, FileOperationFeature.asMinimatchOptions(filter.pattern.options));\r\n            if (!matcher.makeRe()) {\r\n                throw new Error(`Invalid pattern ${filter.pattern.glob}!`);\r\n            }\r\n            return { scheme: filter.scheme, matcher, kind: filter.pattern.matches };\r\n        });\r\n        this._filters.set(data.id, minimatchFilter);\r\n    }\r\n    unregister(id) {\r\n        this._filters.delete(id);\r\n        if (this._filters.size === 0 && this._listener) {\r\n            this._listener.dispose();\r\n            this._listener = undefined;\r\n        }\r\n    }\r\n    dispose() {\r\n        this._filters.clear();\r\n        if (this._listener) {\r\n            this._listener.dispose();\r\n            this._listener = undefined;\r\n        }\r\n    }\r\n    async filter(event, prop) {\r\n        // (Asynchronously) map each file onto a boolean of whether it matches\r\n        // any of the globs.\r\n        const fileMatches = await Promise.all(event.files.map(async (item) => {\r\n            const uri = prop(item);\r\n            // Use fsPath to make this consistent with file system watchers but help\r\n            // minimatch to use '/' instead of `\\\\` if present.\r\n            const path = uri.fsPath.replace(/\\\\/g, '/');\r\n            for (const filters of this._filters.values()) {\r\n                for (const filter of filters) {\r\n                    if (filter.scheme !== undefined && filter.scheme !== uri.scheme) {\r\n                        continue;\r\n                    }\r\n                    if (filter.matcher.match(path)) {\r\n                        // The pattern matches. If kind is undefined then everything is ok\r\n                        if (filter.kind === undefined) {\r\n                            return true;\r\n                        }\r\n                        const fileType = await FileOperationFeature.getFileType(uri);\r\n                        // If we can't determine the file type than we treat it as a match.\r\n                        // Dropping it would be another alternative.\r\n                        if (fileType === undefined) {\r\n                            this._client.error(`Failed to determine file type for ${uri.toString()}.`);\r\n                            return true;\r\n                        }\r\n                        if ((fileType === code.FileType.File && filter.kind === proto.FileOperationPatternKind.file) || (fileType === code.FileType.Directory && filter.kind === proto.FileOperationPatternKind.folder)) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                    else if (filter.kind === proto.FileOperationPatternKind.folder) {\r\n                        const fileType = await FileOperationFeature.getFileType(uri);\r\n                        if (fileType === code.FileType.Directory && filter.matcher.match(`${path}/`)) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return false;\r\n        }));\r\n        // Filter the files to those that matched.\r\n        const files = event.files.filter((_, index) => fileMatches[index]);\r\n        return Object.assign(Object.assign({}, event), { files });\r\n    }\r\n    static async getFileType(uri) {\r\n        try {\r\n            return (await code.workspace.fs.stat(uri)).type;\r\n        }\r\n        catch (e) {\r\n            return undefined;\r\n        }\r\n    }\r\n    static asMinimatchOptions(options) {\r\n        if (options === undefined) {\r\n            return undefined;\r\n        }\r\n        if (options.ignoreCase === true) {\r\n            return { nocase: true };\r\n        }\r\n        return undefined;\r\n    }\r\n}\r\nclass NotificationFileOperationFeature extends FileOperationFeature {\r\n    constructor(client, event, notificationType, clientCapability, serverCapability, accessUri, createParams) {\r\n        super(client, event, notificationType, clientCapability, serverCapability);\r\n        this._notificationType = notificationType;\r\n        this._accessUri = accessUri;\r\n        this._createParams = createParams;\r\n    }\r\n    async send(originalEvent) {\r\n        // Create a copy of the event that has the files filtered to match what the\r\n        // server wants.\r\n        const filteredEvent = await this.filter(originalEvent, this._accessUri);\r\n        if (filteredEvent.files.length) {\r\n            const next = async (event) => {\r\n                this._client.sendNotification(this._notificationType, this._createParams(event));\r\n            };\r\n            this.doSend(filteredEvent, next);\r\n        }\r\n    }\r\n}\r\nclass DidCreateFilesFeature extends NotificationFileOperationFeature {\r\n    constructor(client) {\r\n        super(client, code.workspace.onDidCreateFiles, proto.DidCreateFilesNotification.type, 'didCreate', 'didCreate', (i) => i, client.code2ProtocolConverter.asDidCreateFilesParams);\r\n    }\r\n    doSend(event, next) {\r\n        var _a;\r\n        const middleware = (_a = this._client.clientOptions.middleware) === null || _a === void 0 ? void 0 : _a.workspace;\r\n        return (middleware === null || middleware === void 0 ? void 0 : middleware.didCreateFiles) ? middleware.didCreateFiles(event, next)\r\n            : next(event);\r\n    }\r\n}\r\nexports.DidCreateFilesFeature = DidCreateFilesFeature;\r\nclass DidRenameFilesFeature extends NotificationFileOperationFeature {\r\n    constructor(client) {\r\n        super(client, code.workspace.onDidRenameFiles, proto.DidRenameFilesNotification.type, 'didRename', 'didRename', (i) => i.oldUri, client.code2ProtocolConverter.asDidRenameFilesParams);\r\n    }\r\n    doSend(event, next) {\r\n        var _a;\r\n        const middleware = (_a = this._client.clientOptions.middleware) === null || _a === void 0 ? void 0 : _a.workspace;\r\n        return (middleware === null || middleware === void 0 ? void 0 : middleware.didRenameFiles) ? middleware.didRenameFiles(event, next)\r\n            : next(event);\r\n    }\r\n}\r\nexports.DidRenameFilesFeature = DidRenameFilesFeature;\r\nclass DidDeleteFilesFeature extends NotificationFileOperationFeature {\r\n    constructor(client) {\r\n        super(client, code.workspace.onDidDeleteFiles, proto.DidDeleteFilesNotification.type, 'didDelete', 'didDelete', (i) => i, client.code2ProtocolConverter.asDidDeleteFilesParams);\r\n    }\r\n    doSend(event, next) {\r\n        var _a;\r\n        const middleware = (_a = this._client.clientOptions.middleware) === null || _a === void 0 ? void 0 : _a.workspace;\r\n        return (middleware === null || middleware === void 0 ? void 0 : middleware.didDeleteFiles) ? middleware.didDeleteFiles(event, next)\r\n            : next(event);\r\n    }\r\n}\r\nexports.DidDeleteFilesFeature = DidDeleteFilesFeature;\r\nclass RequestFileOperationFeature extends FileOperationFeature {\r\n    constructor(client, event, requestType, clientCapability, serverCapability, accessUri, createParams) {\r\n        super(client, event, requestType, clientCapability, serverCapability);\r\n        this._requestType = requestType;\r\n        this._accessUri = accessUri;\r\n        this._createParams = createParams;\r\n    }\r\n    async send(originalEvent) {\r\n        const waitUntil = this.waitUntil(originalEvent);\r\n        originalEvent.waitUntil(waitUntil);\r\n    }\r\n    async waitUntil(originalEvent) {\r\n        // Create a copy of the event that has the files filtered to match what the\r\n        // server wants.\r\n        const filteredEvent = await this.filter(originalEvent, this._accessUri);\r\n        if (filteredEvent.files.length) {\r\n            const next = (event) => {\r\n                return this._client.sendRequest(this._requestType, this._createParams(event))\r\n                    .then(this._client.protocol2CodeConverter.asWorkspaceEdit);\r\n            };\r\n            return this.doSend(filteredEvent, next);\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    }\r\n}\r\nclass WillCreateFilesFeature extends RequestFileOperationFeature {\r\n    constructor(client) {\r\n        super(client, code.workspace.onWillCreateFiles, proto.WillCreateFilesRequest.type, 'willCreate', 'willCreate', (i) => i, client.code2ProtocolConverter.asWillCreateFilesParams);\r\n    }\r\n    doSend(event, next) {\r\n        var _a;\r\n        const middleware = (_a = this._client.clientOptions.middleware) === null || _a === void 0 ? void 0 : _a.workspace;\r\n        return (middleware === null || middleware === void 0 ? void 0 : middleware.willCreateFiles) ? middleware.willCreateFiles(event, next)\r\n            : next(event);\r\n    }\r\n}\r\nexports.WillCreateFilesFeature = WillCreateFilesFeature;\r\nclass WillRenameFilesFeature extends RequestFileOperationFeature {\r\n    constructor(client) {\r\n        super(client, code.workspace.onWillRenameFiles, proto.WillRenameFilesRequest.type, 'willRename', 'willRename', (i) => i.oldUri, client.code2ProtocolConverter.asWillRenameFilesParams);\r\n    }\r\n    doSend(event, next) {\r\n        var _a;\r\n        const middleware = (_a = this._client.clientOptions.middleware) === null || _a === void 0 ? void 0 : _a.workspace;\r\n        return (middleware === null || middleware === void 0 ? void 0 : middleware.willRenameFiles) ? middleware.willRenameFiles(event, next)\r\n            : next(event);\r\n    }\r\n}\r\nexports.WillRenameFilesFeature = WillRenameFilesFeature;\r\nclass WillDeleteFilesFeature extends RequestFileOperationFeature {\r\n    constructor(client) {\r\n        super(client, code.workspace.onWillDeleteFiles, proto.WillDeleteFilesRequest.type, 'willDelete', 'willDelete', (i) => i, client.code2ProtocolConverter.asWillDeleteFilesParams);\r\n    }\r\n    doSend(event, next) {\r\n        var _a;\r\n        const middleware = (_a = this._client.clientOptions.middleware) === null || _a === void 0 ? void 0 : _a.workspace;\r\n        return (middleware === null || middleware === void 0 ? void 0 : middleware.willDeleteFiles) ? middleware.willDeleteFiles(event, next)\r\n            : next(event);\r\n    }\r\n}\r\nexports.WillDeleteFilesFeature = WillDeleteFilesFeature;\r\n//# sourceMappingURL=fileOperations.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.FoldingRangeFeature = void 0;\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst client_1 = require(\"./client\");\r\nfunction ensure(target, key) {\r\n    if (target[key] === void 0) {\r\n        target[key] = {};\r\n    }\r\n    return target[key];\r\n}\r\nclass FoldingRangeFeature extends client_1.TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.FoldingRangeRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        let capability = ensure(ensure(capabilities, 'textDocument'), 'foldingRange');\r\n        capability.dynamicRegistration = true;\r\n        capability.rangeLimit = 5000;\r\n        capability.lineFoldingOnly = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let [id, options] = this.getRegistration(documentSelector, capabilities.foldingRangeProvider);\r\n        if (!id || !options) {\r\n            return;\r\n        }\r\n        this.register({ id: id, registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideFoldingRanges: (document, context, token) => {\r\n                const client = this._client;\r\n                const provideFoldingRanges = (document, _, token) => {\r\n                    const requestParams = {\r\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\r\n                    };\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, requestParams, token).then(FoldingRangeFeature.asFoldingRanges, (error) => {\r\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, error, null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideFoldingRanges\r\n                    ? middleware.provideFoldingRanges(document, context, token, provideFoldingRanges)\r\n                    : provideFoldingRanges(document, context, token);\r\n            }\r\n        };\r\n        return [vscode_1.languages.registerFoldingRangeProvider(options.documentSelector, provider), provider];\r\n    }\r\n    static asFoldingRangeKind(kind) {\r\n        if (kind) {\r\n            switch (kind) {\r\n                case vscode_languageserver_protocol_1.FoldingRangeKind.Comment:\r\n                    return vscode_1.FoldingRangeKind.Comment;\r\n                case vscode_languageserver_protocol_1.FoldingRangeKind.Imports:\r\n                    return vscode_1.FoldingRangeKind.Imports;\r\n                case vscode_languageserver_protocol_1.FoldingRangeKind.Region:\r\n                    return vscode_1.FoldingRangeKind.Region;\r\n            }\r\n        }\r\n        return void 0;\r\n    }\r\n    static asFoldingRanges(foldingRanges) {\r\n        if (Array.isArray(foldingRanges)) {\r\n            return foldingRanges.map(r => {\r\n                return new vscode_1.FoldingRange(r.startLine, r.endLine, FoldingRangeFeature.asFoldingRangeKind(r.kind));\r\n            });\r\n        }\r\n        return [];\r\n    }\r\n}\r\nexports.FoldingRangeFeature = FoldingRangeFeature;\r\n//# sourceMappingURL=foldingRange.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ImplementationFeature = void 0;\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst client_1 = require(\"./client\");\r\nfunction ensure(target, key) {\r\n    if (target[key] === void 0) {\r\n        target[key] = {};\r\n    }\r\n    return target[key];\r\n}\r\nclass ImplementationFeature extends client_1.TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.ImplementationRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        let implementationSupport = ensure(ensure(capabilities, 'textDocument'), 'implementation');\r\n        implementationSupport.dynamicRegistration = true;\r\n        implementationSupport.linkSupport = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let [id, options] = this.getRegistration(documentSelector, capabilities.implementationProvider);\r\n        if (!id || !options) {\r\n            return;\r\n        }\r\n        this.register({ id: id, registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideImplementation: (document, position, token) => {\r\n                const client = this._client;\r\n                const provideImplementation = (document, position, token) => {\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDefinitionResult, (error) => {\r\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, error, null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideImplementation\r\n                    ? middleware.provideImplementation(document, position, token, provideImplementation)\r\n                    : provideImplementation(document, position, token);\r\n            }\r\n        };\r\n        return [vscode_1.languages.registerImplementationProvider(options.documentSelector, provider), provider];\r\n    }\r\n}\r\nexports.ImplementationFeature = ImplementationFeature;\r\n//# sourceMappingURL=implementation.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n/// <reference path=\"../../typings/vscode-proposed.d.ts\" />\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LinkedEditingFeature = void 0;\r\nconst code = require(\"vscode\");\r\nconst proto = require(\"vscode-languageserver-protocol\");\r\nconst client_1 = require(\"./client\");\r\nfunction ensure(target, key) {\r\n    if (target[key] === void 0) {\r\n        target[key] = {};\r\n    }\r\n    return target[key];\r\n}\r\nclass LinkedEditingFeature extends client_1.TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, proto.LinkedEditingRangeRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        const linkedEditingSupport = ensure(ensure(capabilities, 'textDocument'), 'linkedEditingRange');\r\n        linkedEditingSupport.dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let [id, options] = this.getRegistration(documentSelector, capabilities.linkedEditingRangeProvider);\r\n        if (!id || !options) {\r\n            return;\r\n        }\r\n        this.register({ id: id, registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideLinkedEditingRanges: (document, position, token) => {\r\n                const client = this._client;\r\n                const provideLinkedEditing = (document, position, token) => {\r\n                    return client.sendRequest(proto.LinkedEditingRangeRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asLinkedEditingRanges, (error) => {\r\n                        return client.handleFailedRequest(proto.LinkedEditingRangeRequest.type, error, null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideLinkedEditingRange\r\n                    ? middleware.provideLinkedEditingRange(document, position, token, provideLinkedEditing)\r\n                    : provideLinkedEditing(document, position, token);\r\n            }\r\n        };\r\n        return [code.languages.registerLinkedEditingRangeProvider(options.documentSelector, provider), provider];\r\n    }\r\n}\r\nexports.LinkedEditingFeature = LinkedEditingFeature;\r\n//# sourceMappingURL=linkedEditingRange.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ProgressFeature = void 0;\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst progressPart_1 = require(\"./progressPart\");\r\nfunction ensure(target, key) {\r\n    if (target[key] === void 0) {\r\n        target[key] = Object.create(null);\r\n    }\r\n    return target[key];\r\n}\r\nclass ProgressFeature {\r\n    constructor(_client) {\r\n        this._client = _client;\r\n        this.activeParts = new Set();\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(capabilities, 'window').workDoneProgress = true;\r\n    }\r\n    initialize() {\r\n        const client = this._client;\r\n        const deleteHandler = (part) => {\r\n            this.activeParts.delete(part);\r\n        };\r\n        const createHandler = (params) => {\r\n            this.activeParts.add(new progressPart_1.ProgressPart(this._client, params.token, deleteHandler));\r\n        };\r\n        client.onRequest(vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.type, createHandler);\r\n    }\r\n    dispose() {\r\n        for (const part of this.activeParts) {\r\n            part.done();\r\n        }\r\n        this.activeParts.clear();\r\n    }\r\n}\r\nexports.ProgressFeature = ProgressFeature;\r\n//# sourceMappingURL=progress.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ProgressPart = void 0;\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst Is = require(\"./utils/is\");\r\nclass ProgressPart {\r\n    constructor(_client, _token, done) {\r\n        this._client = _client;\r\n        this._token = _token;\r\n        this._reported = 0;\r\n        this._disposable = this._client.onProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, (value) => {\r\n            switch (value.kind) {\r\n                case 'begin':\r\n                    this.begin(value);\r\n                    break;\r\n                case 'report':\r\n                    this.report(value);\r\n                    break;\r\n                case 'end':\r\n                    this.done();\r\n                    done && done(this);\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n    begin(params) {\r\n        // Since we don't use commands this will be a silent window progress with a hidden notification.\r\n        vscode_1.window.withProgress({ location: vscode_1.ProgressLocation.Window, cancellable: params.cancellable, title: params.title }, async (progress, cancellationToken) => {\r\n            this._progress = progress;\r\n            this._infinite = params.percentage === undefined;\r\n            this._cancellationToken = cancellationToken;\r\n            this._cancellationToken.onCancellationRequested(() => {\r\n                this._client.sendNotification(vscode_languageserver_protocol_1.WorkDoneProgressCancelNotification.type, { token: this._token });\r\n            });\r\n            this.report(params);\r\n            return new Promise((resolve, reject) => {\r\n                this._resolve = resolve;\r\n                this._reject = reject;\r\n            });\r\n        });\r\n    }\r\n    report(params) {\r\n        if (this._infinite && Is.string(params.message)) {\r\n            this._progress.report({ message: params.message });\r\n        }\r\n        else if (Is.number(params.percentage)) {\r\n            let percentage = Math.max(0, Math.min(params.percentage, 100));\r\n            let delta = Math.max(0, percentage - this._reported);\r\n            this._progress.report({ message: params.message, increment: delta });\r\n            this._reported += delta;\r\n        }\r\n    }\r\n    cancel() {\r\n        if (this._disposable) {\r\n            this._disposable.dispose();\r\n            this._disposable = undefined;\r\n        }\r\n        if (this._reject) {\r\n            this._reject();\r\n            this._resolve = undefined;\r\n            this._reject = undefined;\r\n        }\r\n    }\r\n    done() {\r\n        if (this._disposable) {\r\n            this._disposable.dispose();\r\n            this._disposable = undefined;\r\n        }\r\n        if (this._resolve) {\r\n            this._resolve();\r\n            this._resolve = undefined;\r\n            this._reject = undefined;\r\n        }\r\n    }\r\n}\r\nexports.ProgressPart = ProgressPart;\r\n//# sourceMappingURL=progressPart.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst code = require(\"vscode\");\r\nclass ProtocolCallHierarchyItem extends code.CallHierarchyItem {\r\n    constructor(kind, name, detail, uri, range, selectionRange, data) {\r\n        super(kind, name, detail, uri, range, selectionRange);\r\n        if (data !== undefined) {\r\n            this.data = data;\r\n        }\r\n    }\r\n}\r\nexports.default = ProtocolCallHierarchyItem;\r\n//# sourceMappingURL=protocolCallHierarchyItem.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode = require(\"vscode\");\r\nclass ProtocolCodeAction extends vscode.CodeAction {\r\n    constructor(title, data) {\r\n        super(title);\r\n        this.data = data;\r\n    }\r\n}\r\nexports.default = ProtocolCodeAction;\r\n//# sourceMappingURL=protocolCodeAction.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst code = require(\"vscode\");\r\nclass ProtocolCodeLens extends code.CodeLens {\r\n    constructor(range) {\r\n        super(range);\r\n    }\r\n}\r\nexports.default = ProtocolCodeLens;\r\n//# sourceMappingURL=protocolCodeLens.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst code = require(\"vscode\");\r\nclass ProtocolCompletionItem extends code.CompletionItem {\r\n    constructor(label) {\r\n        super(label);\r\n    }\r\n}\r\nexports.default = ProtocolCompletionItem;\r\n//# sourceMappingURL=protocolCompletionItem.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n/// <reference path=\"../../typings/vscode-proposed.d.ts\" />\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.createConverter = void 0;\r\nconst code = require(\"vscode\");\r\nconst ls = require(\"vscode-languageserver-protocol\");\r\nconst Is = require(\"./utils/is\");\r\nconst protocolCompletionItem_1 = require(\"./protocolCompletionItem\");\r\nconst protocolCodeLens_1 = require(\"./protocolCodeLens\");\r\nconst protocolDocumentLink_1 = require(\"./protocolDocumentLink\");\r\nconst protocolCodeAction_1 = require(\"./protocolCodeAction\");\r\nconst protocolDiagnostic_1 = require(\"./protocolDiagnostic\");\r\nconst protocolCallHierarchyItem_1 = require(\"./protocolCallHierarchyItem\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nvar CodeBlock;\r\n(function (CodeBlock) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.string(candidate.language) && Is.string(candidate.value);\r\n    }\r\n    CodeBlock.is = is;\r\n})(CodeBlock || (CodeBlock = {}));\r\nfunction createConverter(uriConverter, trustMarkdown) {\r\n    const nullConverter = (value) => code.Uri.parse(value);\r\n    const _uriConverter = uriConverter || nullConverter;\r\n    function asUri(value) {\r\n        return _uriConverter(value);\r\n    }\r\n    function asDiagnostics(diagnostics) {\r\n        return diagnostics.map(asDiagnostic);\r\n    }\r\n    function asDiagnostic(diagnostic) {\r\n        let result = new protocolDiagnostic_1.ProtocolDiagnostic(asRange(diagnostic.range), diagnostic.message, asDiagnosticSeverity(diagnostic.severity), diagnostic.data);\r\n        if (diagnostic.code !== undefined) {\r\n            if (ls.CodeDescription.is(diagnostic.codeDescription)) {\r\n                result.code = {\r\n                    value: diagnostic.code,\r\n                    target: asUri(diagnostic.codeDescription.href)\r\n                };\r\n            }\r\n            else if (protocolDiagnostic_1.DiagnosticCode.is(diagnostic.code)) {\r\n                result.hasDiagnosticCode = true;\r\n                result.code = {\r\n                    value: diagnostic.code.value,\r\n                    target: asUri(diagnostic.code.target)\r\n                };\r\n            }\r\n            else {\r\n                result.code = diagnostic.code;\r\n            }\r\n        }\r\n        if (diagnostic.source) {\r\n            result.source = diagnostic.source;\r\n        }\r\n        if (diagnostic.relatedInformation) {\r\n            result.relatedInformation = asRelatedInformation(diagnostic.relatedInformation);\r\n        }\r\n        if (Array.isArray(diagnostic.tags)) {\r\n            result.tags = asDiagnosticTags(diagnostic.tags);\r\n        }\r\n        return result;\r\n    }\r\n    function asRelatedInformation(relatedInformation) {\r\n        return relatedInformation.map(asDiagnosticRelatedInformation);\r\n    }\r\n    function asDiagnosticRelatedInformation(information) {\r\n        return new code.DiagnosticRelatedInformation(asLocation(information.location), information.message);\r\n    }\r\n    function asDiagnosticTags(tags) {\r\n        if (!tags) {\r\n            return undefined;\r\n        }\r\n        let result = [];\r\n        for (let tag of tags) {\r\n            let converted = asDiagnosticTag(tag);\r\n            if (converted !== undefined) {\r\n                result.push(converted);\r\n            }\r\n        }\r\n        return result.length > 0 ? result : undefined;\r\n    }\r\n    function asDiagnosticTag(tag) {\r\n        switch (tag) {\r\n            case ls.DiagnosticTag.Unnecessary:\r\n                return code.DiagnosticTag.Unnecessary;\r\n            case ls.DiagnosticTag.Deprecated:\r\n                return code.DiagnosticTag.Deprecated;\r\n            default:\r\n                return undefined;\r\n        }\r\n    }\r\n    function asPosition(value) {\r\n        if (!value) {\r\n            return undefined;\r\n        }\r\n        return new code.Position(value.line, value.character);\r\n    }\r\n    function asRange(value) {\r\n        if (!value) {\r\n            return undefined;\r\n        }\r\n        return new code.Range(asPosition(value.start), asPosition(value.end));\r\n    }\r\n    function asRanges(value) {\r\n        return value.map(value => asRange(value));\r\n    }\r\n    function asDiagnosticSeverity(value) {\r\n        if (value === undefined || value === null) {\r\n            return code.DiagnosticSeverity.Error;\r\n        }\r\n        switch (value) {\r\n            case ls.DiagnosticSeverity.Error:\r\n                return code.DiagnosticSeverity.Error;\r\n            case ls.DiagnosticSeverity.Warning:\r\n                return code.DiagnosticSeverity.Warning;\r\n            case ls.DiagnosticSeverity.Information:\r\n                return code.DiagnosticSeverity.Information;\r\n            case ls.DiagnosticSeverity.Hint:\r\n                return code.DiagnosticSeverity.Hint;\r\n        }\r\n        return code.DiagnosticSeverity.Error;\r\n    }\r\n    function asHoverContent(value) {\r\n        if (Is.string(value)) {\r\n            return asMarkdownString(value);\r\n        }\r\n        else if (CodeBlock.is(value)) {\r\n            let result = asMarkdownString();\r\n            return result.appendCodeblock(value.value, value.language);\r\n        }\r\n        else if (Array.isArray(value)) {\r\n            let result = [];\r\n            for (let element of value) {\r\n                let item = asMarkdownString();\r\n                if (CodeBlock.is(element)) {\r\n                    item.appendCodeblock(element.value, element.language);\r\n                }\r\n                else {\r\n                    item.appendMarkdown(element);\r\n                }\r\n                result.push(item);\r\n            }\r\n            return result;\r\n        }\r\n        else {\r\n            let result;\r\n            switch (value.kind) {\r\n                case ls.MarkupKind.Markdown:\r\n                    return asMarkdownString(value.value);\r\n                case ls.MarkupKind.PlainText:\r\n                    result = asMarkdownString();\r\n                    result.appendText(value.value);\r\n                    return result;\r\n                default:\r\n                    result = asMarkdownString();\r\n                    result.appendText(`Unsupported Markup content received. Kind is: ${value.kind}`);\r\n                    return result;\r\n            }\r\n        }\r\n    }\r\n    function asDocumentation(value) {\r\n        if (Is.string(value)) {\r\n            return value;\r\n        }\r\n        else {\r\n            switch (value.kind) {\r\n                case ls.MarkupKind.Markdown:\r\n                    return asMarkdownString(value.value);\r\n                case ls.MarkupKind.PlainText:\r\n                    return value.value;\r\n                default:\r\n                    return `Unsupported Markup content received. Kind is: ${value.kind}`;\r\n            }\r\n        }\r\n    }\r\n    function asMarkdownString(value) {\r\n        const result = new code.MarkdownString(value);\r\n        if (trustMarkdown === true) {\r\n            result.isTrusted = trustMarkdown;\r\n        }\r\n        return result;\r\n    }\r\n    function asHover(hover) {\r\n        if (!hover) {\r\n            return undefined;\r\n        }\r\n        return new code.Hover(asHoverContent(hover.contents), asRange(hover.range));\r\n    }\r\n    function asCompletionResult(result) {\r\n        if (!result) {\r\n            return undefined;\r\n        }\r\n        if (Array.isArray(result)) {\r\n            let items = result;\r\n            return items.map(asCompletionItem);\r\n        }\r\n        let list = result;\r\n        return new code.CompletionList(list.items.map(asCompletionItem), list.isIncomplete);\r\n    }\r\n    function asCompletionItemKind(value) {\r\n        // Protocol item kind is 1 based, codes item kind is zero based.\r\n        if (ls.CompletionItemKind.Text <= value && value <= ls.CompletionItemKind.TypeParameter) {\r\n            return [value - 1, undefined];\r\n        }\r\n        return [code.CompletionItemKind.Text, value];\r\n    }\r\n    function asCompletionItemTag(tag) {\r\n        switch (tag) {\r\n            case ls.CompletionItemTag.Deprecated:\r\n                return code.CompletionItemTag.Deprecated;\r\n        }\r\n        return undefined;\r\n    }\r\n    function asCompletionItemTags(tags) {\r\n        if (tags === undefined || tags === null) {\r\n            return [];\r\n        }\r\n        const result = [];\r\n        for (let tag of tags) {\r\n            const converted = asCompletionItemTag(tag);\r\n            if (converted !== undefined) {\r\n                result.push(converted);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    function asCompletionItem(item) {\r\n        let tags = asCompletionItemTags(item.tags);\r\n        let result = new protocolCompletionItem_1.default(item.label);\r\n        if (item.detail) {\r\n            result.detail = item.detail;\r\n        }\r\n        if (item.documentation) {\r\n            result.documentation = asDocumentation(item.documentation);\r\n            result.documentationFormat = Is.string(item.documentation) ? '$string' : item.documentation.kind;\r\n        }\r\n        if (item.filterText) {\r\n            result.filterText = item.filterText;\r\n        }\r\n        let insertText = asCompletionInsertText(item);\r\n        if (insertText) {\r\n            result.insertText = insertText.text;\r\n            result.range = insertText.range;\r\n            result.fromEdit = insertText.fromEdit;\r\n        }\r\n        if (Is.number(item.kind)) {\r\n            let [itemKind, original] = asCompletionItemKind(item.kind);\r\n            result.kind = itemKind;\r\n            if (original) {\r\n                result.originalItemKind = original;\r\n            }\r\n        }\r\n        if (item.sortText) {\r\n            result.sortText = item.sortText;\r\n        }\r\n        if (item.additionalTextEdits) {\r\n            result.additionalTextEdits = asTextEdits(item.additionalTextEdits);\r\n        }\r\n        if (Is.stringArray(item.commitCharacters)) {\r\n            result.commitCharacters = item.commitCharacters.slice();\r\n        }\r\n        if (item.command) {\r\n            result.command = asCommand(item.command);\r\n        }\r\n        if (item.deprecated === true || item.deprecated === false) {\r\n            result.deprecated = item.deprecated;\r\n            if (item.deprecated === true) {\r\n                tags.push(code.CompletionItemTag.Deprecated);\r\n            }\r\n        }\r\n        if (item.preselect === true || item.preselect === false) {\r\n            result.preselect = item.preselect;\r\n        }\r\n        if (item.data !== undefined) {\r\n            result.data = item.data;\r\n        }\r\n        if (tags.length > 0) {\r\n            result.tags = tags;\r\n        }\r\n        if (item.insertTextMode !== undefined) {\r\n            result.insertTextMode = item.insertTextMode;\r\n            if (item.insertTextMode === vscode_languageserver_protocol_1.InsertTextMode.asIs) {\r\n                result.keepWhitespace = true;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    function asCompletionInsertText(item) {\r\n        if (item.textEdit) {\r\n            if (item.insertTextFormat === ls.InsertTextFormat.Snippet) {\r\n                return { text: new code.SnippetString(item.textEdit.newText), range: asCompletionRange(item.textEdit), fromEdit: true };\r\n            }\r\n            else {\r\n                return { text: item.textEdit.newText, range: asCompletionRange(item.textEdit), fromEdit: true };\r\n            }\r\n        }\r\n        else if (item.insertText) {\r\n            if (item.insertTextFormat === ls.InsertTextFormat.Snippet) {\r\n                return { text: new code.SnippetString(item.insertText), fromEdit: false };\r\n            }\r\n            else {\r\n                return { text: item.insertText, fromEdit: false };\r\n            }\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    }\r\n    function asCompletionRange(value) {\r\n        if (ls.InsertReplaceEdit.is(value)) {\r\n            return { inserting: asRange(value.insert), replacing: asRange(value.replace) };\r\n        }\r\n        else {\r\n            return asRange(value.range);\r\n        }\r\n    }\r\n    function asTextEdit(edit) {\r\n        if (!edit) {\r\n            return undefined;\r\n        }\r\n        return new code.TextEdit(asRange(edit.range), edit.newText);\r\n    }\r\n    function asTextEdits(items) {\r\n        if (!items) {\r\n            return undefined;\r\n        }\r\n        return items.map(asTextEdit);\r\n    }\r\n    function asSignatureHelp(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        let result = new code.SignatureHelp();\r\n        if (Is.number(item.activeSignature)) {\r\n            result.activeSignature = item.activeSignature;\r\n        }\r\n        else {\r\n            // activeSignature was optional in the past\r\n            result.activeSignature = 0;\r\n        }\r\n        if (Is.number(item.activeParameter)) {\r\n            result.activeParameter = item.activeParameter;\r\n        }\r\n        else {\r\n            // activeParameter was optional in the past\r\n            result.activeParameter = 0;\r\n        }\r\n        if (item.signatures) {\r\n            result.signatures = asSignatureInformations(item.signatures);\r\n        }\r\n        return result;\r\n    }\r\n    function asSignatureInformations(items) {\r\n        return items.map(asSignatureInformation);\r\n    }\r\n    function asSignatureInformation(item) {\r\n        let result = new code.SignatureInformation(item.label);\r\n        if (item.documentation !== undefined) {\r\n            result.documentation = asDocumentation(item.documentation);\r\n        }\r\n        if (item.parameters !== undefined) {\r\n            result.parameters = asParameterInformations(item.parameters);\r\n        }\r\n        if (item.activeParameter !== undefined) {\r\n            result.activeParameter = item.activeParameter;\r\n        }\r\n        {\r\n            return result;\r\n        }\r\n    }\r\n    function asParameterInformations(item) {\r\n        return item.map(asParameterInformation);\r\n    }\r\n    function asParameterInformation(item) {\r\n        let result = new code.ParameterInformation(item.label);\r\n        if (item.documentation) {\r\n            result.documentation = asDocumentation(item.documentation);\r\n        }\r\n        return result;\r\n    }\r\n    function asLocation(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        return new code.Location(_uriConverter(item.uri), asRange(item.range));\r\n    }\r\n    function asDeclarationResult(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        return asLocationResult(item);\r\n    }\r\n    function asDefinitionResult(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        return asLocationResult(item);\r\n    }\r\n    function asLocationLink(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        let result = {\r\n            targetUri: _uriConverter(item.targetUri),\r\n            targetRange: asRange(item.targetRange),\r\n            originSelectionRange: asRange(item.originSelectionRange),\r\n            targetSelectionRange: asRange(item.targetSelectionRange)\r\n        };\r\n        if (!result.targetSelectionRange) {\r\n            throw new Error(`targetSelectionRange must not be undefined or null`);\r\n        }\r\n        return result;\r\n    }\r\n    function asLocationResult(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        if (Is.array(item)) {\r\n            if (item.length === 0) {\r\n                return [];\r\n            }\r\n            else if (ls.LocationLink.is(item[0])) {\r\n                let links = item;\r\n                return links.map((link) => asLocationLink(link));\r\n            }\r\n            else {\r\n                let locations = item;\r\n                return locations.map((location) => asLocation(location));\r\n            }\r\n        }\r\n        else if (ls.LocationLink.is(item)) {\r\n            return [asLocationLink(item)];\r\n        }\r\n        else {\r\n            return asLocation(item);\r\n        }\r\n    }\r\n    function asReferences(values) {\r\n        if (!values) {\r\n            return undefined;\r\n        }\r\n        return values.map(location => asLocation(location));\r\n    }\r\n    function asDocumentHighlights(values) {\r\n        if (!values) {\r\n            return undefined;\r\n        }\r\n        return values.map(asDocumentHighlight);\r\n    }\r\n    function asDocumentHighlight(item) {\r\n        let result = new code.DocumentHighlight(asRange(item.range));\r\n        if (Is.number(item.kind)) {\r\n            result.kind = asDocumentHighlightKind(item.kind);\r\n        }\r\n        return result;\r\n    }\r\n    function asDocumentHighlightKind(item) {\r\n        switch (item) {\r\n            case ls.DocumentHighlightKind.Text:\r\n                return code.DocumentHighlightKind.Text;\r\n            case ls.DocumentHighlightKind.Read:\r\n                return code.DocumentHighlightKind.Read;\r\n            case ls.DocumentHighlightKind.Write:\r\n                return code.DocumentHighlightKind.Write;\r\n        }\r\n        return code.DocumentHighlightKind.Text;\r\n    }\r\n    function asSymbolInformations(values, uri) {\r\n        if (!values) {\r\n            return undefined;\r\n        }\r\n        return values.map(information => asSymbolInformation(information, uri));\r\n    }\r\n    function asSymbolKind(item) {\r\n        if (item <= ls.SymbolKind.TypeParameter) {\r\n            // Symbol kind is one based in the protocol and zero based in code.\r\n            return item - 1;\r\n        }\r\n        return code.SymbolKind.Property;\r\n    }\r\n    function asSymbolTag(value) {\r\n        switch (value) {\r\n            case ls.SymbolTag.Deprecated:\r\n                return code.SymbolTag.Deprecated;\r\n            default:\r\n                return undefined;\r\n        }\r\n    }\r\n    function asSymbolTags(items) {\r\n        if (items === undefined || items === null) {\r\n            return undefined;\r\n        }\r\n        const result = [];\r\n        for (const item of items) {\r\n            const converted = asSymbolTag(item);\r\n            if (converted !== undefined) {\r\n                result.push(converted);\r\n            }\r\n        }\r\n        return result.length === 0 ? undefined : result;\r\n    }\r\n    function asSymbolInformation(item, uri) {\r\n        // Symbol kind is one based in the protocol and zero based in code.\r\n        let result = new code.SymbolInformation(item.name, asSymbolKind(item.kind), asRange(item.location.range), item.location.uri ? _uriConverter(item.location.uri) : uri);\r\n        fillTags(result, item);\r\n        if (item.containerName) {\r\n            result.containerName = item.containerName;\r\n        }\r\n        return result;\r\n    }\r\n    function asDocumentSymbols(values) {\r\n        if (values === undefined || values === null) {\r\n            return undefined;\r\n        }\r\n        return values.map(asDocumentSymbol);\r\n    }\r\n    function asDocumentSymbol(value) {\r\n        let result = new code.DocumentSymbol(value.name, value.detail || '', asSymbolKind(value.kind), asRange(value.range), asRange(value.selectionRange));\r\n        fillTags(result, value);\r\n        if (value.children !== undefined && value.children.length > 0) {\r\n            let children = [];\r\n            for (let child of value.children) {\r\n                children.push(asDocumentSymbol(child));\r\n            }\r\n            result.children = children;\r\n        }\r\n        return result;\r\n    }\r\n    function fillTags(result, value) {\r\n        result.tags = asSymbolTags(value.tags);\r\n        if (value.deprecated) {\r\n            if (!result.tags) {\r\n                result.tags = [code.SymbolTag.Deprecated];\r\n            }\r\n            else {\r\n                if (!result.tags.includes(code.SymbolTag.Deprecated)) {\r\n                    result.tags = result.tags.concat(code.SymbolTag.Deprecated);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    function asCommand(item) {\r\n        let result = { title: item.title, command: item.command };\r\n        if (item.arguments) {\r\n            result.arguments = item.arguments;\r\n        }\r\n        return result;\r\n    }\r\n    function asCommands(items) {\r\n        if (!items) {\r\n            return undefined;\r\n        }\r\n        return items.map(asCommand);\r\n    }\r\n    const kindMapping = new Map();\r\n    kindMapping.set(ls.CodeActionKind.Empty, code.CodeActionKind.Empty);\r\n    kindMapping.set(ls.CodeActionKind.QuickFix, code.CodeActionKind.QuickFix);\r\n    kindMapping.set(ls.CodeActionKind.Refactor, code.CodeActionKind.Refactor);\r\n    kindMapping.set(ls.CodeActionKind.RefactorExtract, code.CodeActionKind.RefactorExtract);\r\n    kindMapping.set(ls.CodeActionKind.RefactorInline, code.CodeActionKind.RefactorInline);\r\n    kindMapping.set(ls.CodeActionKind.RefactorRewrite, code.CodeActionKind.RefactorRewrite);\r\n    kindMapping.set(ls.CodeActionKind.Source, code.CodeActionKind.Source);\r\n    kindMapping.set(ls.CodeActionKind.SourceOrganizeImports, code.CodeActionKind.SourceOrganizeImports);\r\n    function asCodeActionKind(item) {\r\n        if (item === undefined || item === null) {\r\n            return undefined;\r\n        }\r\n        let result = kindMapping.get(item);\r\n        if (result) {\r\n            return result;\r\n        }\r\n        let parts = item.split('.');\r\n        result = code.CodeActionKind.Empty;\r\n        for (let part of parts) {\r\n            result = result.append(part);\r\n        }\r\n        return result;\r\n    }\r\n    function asCodeActionKinds(items) {\r\n        if (items === undefined || items === null) {\r\n            return undefined;\r\n        }\r\n        return items.map(kind => asCodeActionKind(kind));\r\n    }\r\n    function asCodeAction(item) {\r\n        if (item === undefined || item === null) {\r\n            return undefined;\r\n        }\r\n        let result = new protocolCodeAction_1.default(item.title, item.data);\r\n        if (item.kind !== undefined) {\r\n            result.kind = asCodeActionKind(item.kind);\r\n        }\r\n        if (item.diagnostics !== undefined) {\r\n            result.diagnostics = asDiagnostics(item.diagnostics);\r\n        }\r\n        if (item.edit !== undefined) {\r\n            result.edit = asWorkspaceEdit(item.edit);\r\n        }\r\n        if (item.command !== undefined) {\r\n            result.command = asCommand(item.command);\r\n        }\r\n        if (item.isPreferred !== undefined) {\r\n            result.isPreferred = item.isPreferred;\r\n        }\r\n        if (item.disabled !== undefined) {\r\n            result.disabled = { reason: item.disabled.reason };\r\n        }\r\n        return result;\r\n    }\r\n    function asCodeLens(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        let result = new protocolCodeLens_1.default(asRange(item.range));\r\n        if (item.command) {\r\n            result.command = asCommand(item.command);\r\n        }\r\n        if (item.data !== undefined && item.data !== null) {\r\n            result.data = item.data;\r\n        }\r\n        return result;\r\n    }\r\n    function asCodeLenses(items) {\r\n        if (!items) {\r\n            return undefined;\r\n        }\r\n        return items.map((codeLens) => asCodeLens(codeLens));\r\n    }\r\n    function asWorkspaceEdit(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        const sharedMetadata = new Map();\r\n        if (item.changeAnnotations !== undefined) {\r\n            for (const key of Object.keys(item.changeAnnotations)) {\r\n                const metaData = asWorkspaceEditEntryMetadata(item.changeAnnotations[key]);\r\n                sharedMetadata.set(key, metaData);\r\n            }\r\n        }\r\n        const asMetadata = (annotation) => {\r\n            if (annotation === undefined) {\r\n                return undefined;\r\n            }\r\n            else {\r\n                return sharedMetadata.get(annotation);\r\n            }\r\n        };\r\n        const result = new code.WorkspaceEdit();\r\n        if (item.documentChanges) {\r\n            for (const change of item.documentChanges) {\r\n                if (ls.CreateFile.is(change)) {\r\n                    result.createFile(_uriConverter(change.uri), change.options, asMetadata(change.annotationId));\r\n                }\r\n                else if (ls.RenameFile.is(change)) {\r\n                    result.renameFile(_uriConverter(change.oldUri), _uriConverter(change.newUri), change.options, asMetadata(change.annotationId));\r\n                }\r\n                else if (ls.DeleteFile.is(change)) {\r\n                    result.deleteFile(_uriConverter(change.uri), change.options, asMetadata(change.annotationId));\r\n                }\r\n                else if (ls.TextDocumentEdit.is(change)) {\r\n                    const uri = _uriConverter(change.textDocument.uri);\r\n                    for (const edit of change.edits) {\r\n                        if (vscode_languageserver_protocol_1.AnnotatedTextEdit.is(edit)) {\r\n                            result.replace(uri, asRange(edit.range), edit.newText, asMetadata(edit.annotationId));\r\n                        }\r\n                        else {\r\n                            result.replace(uri, asRange(edit.range), edit.newText);\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    throw new Error(`Unknown workspace edit change received:\\n${JSON.stringify(change, undefined, 4)}`);\r\n                }\r\n            }\r\n        }\r\n        else if (item.changes) {\r\n            Object.keys(item.changes).forEach(key => {\r\n                result.set(_uriConverter(key), asTextEdits(item.changes[key]));\r\n            });\r\n        }\r\n        return result;\r\n    }\r\n    function asWorkspaceEditEntryMetadata(annotation) {\r\n        if (annotation === undefined) {\r\n            return undefined;\r\n        }\r\n        return { label: annotation.label, needsConfirmation: !!annotation.needsConfirmation, description: annotation.description };\r\n    }\r\n    function asDocumentLink(item) {\r\n        let range = asRange(item.range);\r\n        let target = item.target ? asUri(item.target) : undefined;\r\n        // target must be optional in DocumentLink\r\n        let link = new protocolDocumentLink_1.default(range, target);\r\n        if (item.tooltip !== undefined) {\r\n            link.tooltip = item.tooltip;\r\n        }\r\n        if (item.data !== undefined && item.data !== null) {\r\n            link.data = item.data;\r\n        }\r\n        return link;\r\n    }\r\n    function asDocumentLinks(items) {\r\n        if (!items) {\r\n            return undefined;\r\n        }\r\n        return items.map(asDocumentLink);\r\n    }\r\n    function asColor(color) {\r\n        return new code.Color(color.red, color.green, color.blue, color.alpha);\r\n    }\r\n    function asColorInformation(ci) {\r\n        return new code.ColorInformation(asRange(ci.range), asColor(ci.color));\r\n    }\r\n    function asColorInformations(colorInformation) {\r\n        if (Array.isArray(colorInformation)) {\r\n            return colorInformation.map(asColorInformation);\r\n        }\r\n        return undefined;\r\n    }\r\n    function asColorPresentation(cp) {\r\n        let presentation = new code.ColorPresentation(cp.label);\r\n        presentation.additionalTextEdits = asTextEdits(cp.additionalTextEdits);\r\n        if (cp.textEdit) {\r\n            presentation.textEdit = asTextEdit(cp.textEdit);\r\n        }\r\n        return presentation;\r\n    }\r\n    function asColorPresentations(colorPresentations) {\r\n        if (Array.isArray(colorPresentations)) {\r\n            return colorPresentations.map(asColorPresentation);\r\n        }\r\n        return undefined;\r\n    }\r\n    function asFoldingRangeKind(kind) {\r\n        if (kind) {\r\n            switch (kind) {\r\n                case ls.FoldingRangeKind.Comment:\r\n                    return code.FoldingRangeKind.Comment;\r\n                case ls.FoldingRangeKind.Imports:\r\n                    return code.FoldingRangeKind.Imports;\r\n                case ls.FoldingRangeKind.Region:\r\n                    return code.FoldingRangeKind.Region;\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n    function asFoldingRange(r) {\r\n        return new code.FoldingRange(r.startLine, r.endLine, asFoldingRangeKind(r.kind));\r\n    }\r\n    function asFoldingRanges(foldingRanges) {\r\n        if (Array.isArray(foldingRanges)) {\r\n            return foldingRanges.map(asFoldingRange);\r\n        }\r\n        return undefined;\r\n    }\r\n    function asSelectionRange(selectionRange) {\r\n        return new code.SelectionRange(asRange(selectionRange.range), selectionRange.parent ? asSelectionRange(selectionRange.parent) : undefined);\r\n    }\r\n    function asSelectionRanges(selectionRanges) {\r\n        if (!Array.isArray(selectionRanges)) {\r\n            return [];\r\n        }\r\n        let result = [];\r\n        for (let range of selectionRanges) {\r\n            result.push(asSelectionRange(range));\r\n        }\r\n        return result;\r\n    }\r\n    function asCallHierarchyItem(item) {\r\n        if (item === null) {\r\n            return undefined;\r\n        }\r\n        let result = new protocolCallHierarchyItem_1.default(asSymbolKind(item.kind), item.name, item.detail || '', asUri(item.uri), asRange(item.range), asRange(item.selectionRange), item.data);\r\n        if (item.tags !== undefined) {\r\n            result.tags = asSymbolTags(item.tags);\r\n        }\r\n        return result;\r\n    }\r\n    function asCallHierarchyItems(items) {\r\n        if (items === null) {\r\n            return undefined;\r\n        }\r\n        return items.map(item => asCallHierarchyItem(item));\r\n    }\r\n    function asCallHierarchyIncomingCall(item) {\r\n        return new code.CallHierarchyIncomingCall(asCallHierarchyItem(item.from), asRanges(item.fromRanges));\r\n    }\r\n    function asCallHierarchyIncomingCalls(items) {\r\n        if (items === null) {\r\n            return undefined;\r\n        }\r\n        return items.map(item => asCallHierarchyIncomingCall(item));\r\n    }\r\n    function asCallHierarchyOutgoingCall(item) {\r\n        return new code.CallHierarchyOutgoingCall(asCallHierarchyItem(item.to), asRanges(item.fromRanges));\r\n    }\r\n    function asCallHierarchyOutgoingCalls(items) {\r\n        if (items === null) {\r\n            return undefined;\r\n        }\r\n        return items.map(item => asCallHierarchyOutgoingCall(item));\r\n    }\r\n    function asSemanticTokens(value) {\r\n        if (value === undefined || value === null) {\r\n            return undefined;\r\n        }\r\n        return new code.SemanticTokens(new Uint32Array(value.data), value.resultId);\r\n    }\r\n    function asSemanticTokensEdit(value) {\r\n        return new code.SemanticTokensEdit(value.start, value.deleteCount, value.data !== undefined ? new Uint32Array(value.data) : undefined);\r\n    }\r\n    function asSemanticTokensEdits(value) {\r\n        if (value === undefined || value === null) {\r\n            return undefined;\r\n        }\r\n        return new code.SemanticTokensEdits(value.edits.map(asSemanticTokensEdit), value.resultId);\r\n    }\r\n    function asSemanticTokensLegend(value) {\r\n        return value;\r\n    }\r\n    function asLinkedEditingRanges(value) {\r\n        if (value === null || value === undefined) {\r\n            return undefined;\r\n        }\r\n        return new code.LinkedEditingRanges(asRanges(value.ranges), asRegularExpression(value.wordPattern));\r\n    }\r\n    function asRegularExpression(value) {\r\n        if (value === null || value === undefined) {\r\n            return undefined;\r\n        }\r\n        return new RegExp(value);\r\n    }\r\n    return {\r\n        asUri,\r\n        asDiagnostics,\r\n        asDiagnostic,\r\n        asRange,\r\n        asRanges,\r\n        asPosition,\r\n        asDiagnosticSeverity,\r\n        asDiagnosticTag,\r\n        asHover,\r\n        asCompletionResult,\r\n        asCompletionItem,\r\n        asTextEdit,\r\n        asTextEdits,\r\n        asSignatureHelp,\r\n        asSignatureInformations,\r\n        asSignatureInformation,\r\n        asParameterInformations,\r\n        asParameterInformation,\r\n        asDeclarationResult,\r\n        asDefinitionResult,\r\n        asLocation,\r\n        asReferences,\r\n        asDocumentHighlights,\r\n        asDocumentHighlight,\r\n        asDocumentHighlightKind,\r\n        asSymbolKind,\r\n        asSymbolTag,\r\n        asSymbolTags,\r\n        asSymbolInformations,\r\n        asSymbolInformation,\r\n        asDocumentSymbols,\r\n        asDocumentSymbol,\r\n        asCommand,\r\n        asCommands,\r\n        asCodeAction,\r\n        asCodeActionKind,\r\n        asCodeActionKinds,\r\n        asCodeLens,\r\n        asCodeLenses,\r\n        asWorkspaceEdit,\r\n        asDocumentLink,\r\n        asDocumentLinks,\r\n        asFoldingRangeKind,\r\n        asFoldingRange,\r\n        asFoldingRanges,\r\n        asColor,\r\n        asColorInformation,\r\n        asColorInformations,\r\n        asColorPresentation,\r\n        asColorPresentations,\r\n        asSelectionRange,\r\n        asSelectionRanges,\r\n        asSemanticTokensLegend,\r\n        asSemanticTokens,\r\n        asSemanticTokensEdit,\r\n        asSemanticTokensEdits,\r\n        asCallHierarchyItem,\r\n        asCallHierarchyItems,\r\n        asCallHierarchyIncomingCall,\r\n        asCallHierarchyIncomingCalls,\r\n        asCallHierarchyOutgoingCall,\r\n        asCallHierarchyOutgoingCalls,\r\n        asLinkedEditingRanges: asLinkedEditingRanges\r\n    };\r\n}\r\nexports.createConverter = createConverter;\r\n//# sourceMappingURL=protocolConverter.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ProtocolDiagnostic = exports.DiagnosticCode = void 0;\r\nconst vscode = require(\"vscode\");\r\nconst Is = require(\"./utils/is\");\r\nvar DiagnosticCode;\r\n(function (DiagnosticCode) {\r\n    function is(value) {\r\n        const candidate = value;\r\n        return candidate !== undefined && candidate !== null && (Is.number(candidate.value) || Is.string(candidate.value)) && Is.string(candidate.target);\r\n    }\r\n    DiagnosticCode.is = is;\r\n})(DiagnosticCode = exports.DiagnosticCode || (exports.DiagnosticCode = {}));\r\nclass ProtocolDiagnostic extends vscode.Diagnostic {\r\n    constructor(range, message, severity, data) {\r\n        super(range, message, severity);\r\n        this.data = data;\r\n        this.hasDiagnosticCode = false;\r\n    }\r\n}\r\nexports.ProtocolDiagnostic = ProtocolDiagnostic;\r\n//# sourceMappingURL=protocolDiagnostic.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst code = require(\"vscode\");\r\nclass ProtocolDocumentLink extends code.DocumentLink {\r\n    constructor(range, target) {\r\n        super(range, target);\r\n    }\r\n}\r\nexports.default = ProtocolDocumentLink;\r\n//# sourceMappingURL=protocolDocumentLink.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SelectionRangeFeature = void 0;\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst client_1 = require(\"./client\");\r\nfunction ensure(target, key) {\r\n    if (target[key] === void 0) {\r\n        target[key] = Object.create(null);\r\n    }\r\n    return target[key];\r\n}\r\nclass SelectionRangeFeature extends client_1.TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.SelectionRangeRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        let capability = ensure(ensure(capabilities, 'textDocument'), 'selectionRange');\r\n        capability.dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let [id, options] = this.getRegistration(documentSelector, capabilities.selectionRangeProvider);\r\n        if (!id || !options) {\r\n            return;\r\n        }\r\n        this.register({ id: id, registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideSelectionRanges: (document, positions, token) => {\r\n                const client = this._client;\r\n                const provideSelectionRanges = (document, positions, token) => {\r\n                    const requestParams = {\r\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\r\n                        positions: client.code2ProtocolConverter.asPositions(positions)\r\n                    };\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, requestParams, token).then((ranges) => client.protocol2CodeConverter.asSelectionRanges(ranges), (error) => {\r\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, error, null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideSelectionRanges\r\n                    ? middleware.provideSelectionRanges(document, positions, token, provideSelectionRanges)\r\n                    : provideSelectionRanges(document, positions, token);\r\n            }\r\n        };\r\n        return [vscode_1.languages.registerSelectionRangeProvider(options.documentSelector, provider), provider];\r\n    }\r\n}\r\nexports.SelectionRangeFeature = SelectionRangeFeature;\r\n//# sourceMappingURL=selectionRange.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SemanticTokensFeature = void 0;\r\nconst vscode = require(\"vscode\");\r\nconst client_1 = require(\"./client\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst Is = require(\"./utils/is\");\r\nfunction ensure(target, key) {\r\n    if (target[key] === void 0) {\r\n        target[key] = {};\r\n    }\r\n    return target[key];\r\n}\r\nclass SemanticTokensFeature extends client_1.TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.SemanticTokensRegistrationType.type);\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        const capability = ensure(ensure(capabilities, 'textDocument'), 'semanticTokens');\r\n        capability.dynamicRegistration = true;\r\n        capability.tokenTypes = [\r\n            vscode_languageserver_protocol_1.SemanticTokenTypes.namespace,\r\n            vscode_languageserver_protocol_1.SemanticTokenTypes.type,\r\n            vscode_languageserver_protocol_1.SemanticTokenTypes.class,\r\n            vscode_languageserver_protocol_1.SemanticTokenTypes.enum,\r\n            vscode_languageserver_protocol_1.SemanticTokenTypes.interface,\r\n            vscode_languageserver_protocol_1.SemanticTokenTypes.struct,\r\n            vscode_languageserver_protocol_1.SemanticTokenTypes.typeParameter,\r\n            vscode_languageserver_protocol_1.SemanticTokenTypes.parameter,\r\n            vscode_languageserver_protocol_1.SemanticTokenTypes.variable,\r\n            vscode_languageserver_protocol_1.SemanticTokenTypes.property,\r\n            vscode_languageserver_protocol_1.SemanticTokenTypes.enumMember,\r\n            vscode_languageserver_protocol_1.SemanticTokenTypes.event,\r\n            vscode_languageserver_protocol_1.SemanticTokenTypes.function,\r\n            vscode_languageserver_protocol_1.SemanticTokenTypes.method,\r\n            vscode_languageserver_protocol_1.SemanticTokenTypes.macro,\r\n            vscode_languageserver_protocol_1.SemanticTokenTypes.keyword,\r\n            vscode_languageserver_protocol_1.SemanticTokenTypes.modifier,\r\n            vscode_languageserver_protocol_1.SemanticTokenTypes.comment,\r\n            vscode_languageserver_protocol_1.SemanticTokenTypes.string,\r\n            vscode_languageserver_protocol_1.SemanticTokenTypes.number,\r\n            vscode_languageserver_protocol_1.SemanticTokenTypes.regexp,\r\n            vscode_languageserver_protocol_1.SemanticTokenTypes.operator\r\n        ];\r\n        capability.tokenModifiers = [\r\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.declaration,\r\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.definition,\r\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.readonly,\r\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.static,\r\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.deprecated,\r\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.abstract,\r\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.async,\r\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.modification,\r\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.documentation,\r\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.defaultLibrary\r\n        ];\r\n        capability.formats = [vscode_languageserver_protocol_1.TokenFormat.Relative];\r\n        capability.requests = {\r\n            range: true,\r\n            full: {\r\n                delta: true\r\n            }\r\n        };\r\n        capability.multilineTokenSupport = false;\r\n        capability.overlappingTokenSupport = false;\r\n        ensure(ensure(capabilities, 'workspace'), 'semanticTokens').refreshSupport = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const client = this._client;\r\n        client.onRequest(vscode_languageserver_protocol_1.SemanticTokensRefreshRequest.type, async () => {\r\n            for (const provider of this.getAllProviders()) {\r\n                provider.onDidChangeSemanticTokensEmitter.fire();\r\n            }\r\n        });\r\n        const [id, options] = this.getRegistration(documentSelector, capabilities.semanticTokensProvider);\r\n        if (!id || !options) {\r\n            return;\r\n        }\r\n        this.register({ id: id, registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const fullProvider = Is.boolean(options.full) ? options.full : options.full !== undefined;\r\n        const hasEditProvider = options.full !== undefined && typeof options.full !== 'boolean' && options.full.delta === true;\r\n        const eventEmitter = new vscode.EventEmitter();\r\n        const documentProvider = fullProvider\r\n            ? {\r\n                onDidChangeSemanticTokens: eventEmitter.event,\r\n                provideDocumentSemanticTokens: (document, token) => {\r\n                    const client = this._client;\r\n                    const middleware = client.clientOptions.middleware;\r\n                    const provideDocumentSemanticTokens = (document, token) => {\r\n                        const params = {\r\n                            textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\r\n                        };\r\n                        return client.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRequest.type, params, token).then((result) => {\r\n                            return client.protocol2CodeConverter.asSemanticTokens(result);\r\n                        }, (error) => {\r\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensRequest.type, error, null);\r\n                        });\r\n                    };\r\n                    return middleware.provideDocumentSemanticTokens\r\n                        ? middleware.provideDocumentSemanticTokens(document, token, provideDocumentSemanticTokens)\r\n                        : provideDocumentSemanticTokens(document, token);\r\n                },\r\n                provideDocumentSemanticTokensEdits: hasEditProvider\r\n                    ? (document, previousResultId, token) => {\r\n                        const client = this._client;\r\n                        const middleware = client.clientOptions.middleware;\r\n                        const provideDocumentSemanticTokensEdits = (document, previousResultId, token) => {\r\n                            const params = {\r\n                                textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\r\n                                previousResultId\r\n                            };\r\n                            return client.sendRequest(vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type, params, token).then((result) => {\r\n                                if (vscode_languageserver_protocol_1.SemanticTokens.is(result)) {\r\n                                    return client.protocol2CodeConverter.asSemanticTokens(result);\r\n                                }\r\n                                else {\r\n                                    return client.protocol2CodeConverter.asSemanticTokensEdits(result);\r\n                                }\r\n                            }, (error) => {\r\n                                return client.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type, error, null);\r\n                            });\r\n                        };\r\n                        return middleware.provideDocumentSemanticTokensEdits\r\n                            ? middleware.provideDocumentSemanticTokensEdits(document, previousResultId, token, provideDocumentSemanticTokensEdits)\r\n                            : provideDocumentSemanticTokensEdits(document, previousResultId, token);\r\n                    }\r\n                    : undefined\r\n            }\r\n            : undefined;\r\n        const hasRangeProvider = options.range === true;\r\n        const rangeProvider = hasRangeProvider\r\n            ? {\r\n                provideDocumentRangeSemanticTokens: (document, range, token) => {\r\n                    const client = this._client;\r\n                    const middleware = client.clientOptions.middleware;\r\n                    const provideDocumentRangeSemanticTokens = (document, range, token) => {\r\n                        const params = {\r\n                            textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\r\n                            range: client.code2ProtocolConverter.asRange(range)\r\n                        };\r\n                        return client.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type, params, token).then((result) => {\r\n                            return client.protocol2CodeConverter.asSemanticTokens(result);\r\n                        }, (error) => {\r\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type, error, null);\r\n                        });\r\n                    };\r\n                    return middleware.provideDocumentRangeSemanticTokens\r\n                        ? middleware.provideDocumentRangeSemanticTokens(document, range, token, provideDocumentRangeSemanticTokens)\r\n                        : provideDocumentRangeSemanticTokens(document, range, token);\r\n                }\r\n            }\r\n            : undefined;\r\n        const disposables = [];\r\n        const client = this._client;\r\n        const legend = client.protocol2CodeConverter.asSemanticTokensLegend(options.legend);\r\n        if (documentProvider !== undefined) {\r\n            disposables.push(vscode.languages.registerDocumentSemanticTokensProvider(options.documentSelector, documentProvider, legend));\r\n        }\r\n        if (rangeProvider !== undefined) {\r\n            disposables.push(vscode.languages.registerDocumentRangeSemanticTokensProvider(options.documentSelector, rangeProvider, legend));\r\n        }\r\n        return [new vscode.Disposable(() => disposables.forEach(item => item.dispose())), { range: rangeProvider, full: documentProvider, onDidChangeSemanticTokensEmitter: eventEmitter }];\r\n    }\r\n}\r\nexports.SemanticTokensFeature = SemanticTokensFeature;\r\n//# sourceMappingURL=semanticTokens.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TypeDefinitionFeature = void 0;\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst client_1 = require(\"./client\");\r\nfunction ensure(target, key) {\r\n    if (target[key] === void 0) {\r\n        target[key] = {};\r\n    }\r\n    return target[key];\r\n}\r\nclass TypeDefinitionFeature extends client_1.TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.TypeDefinitionRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'textDocument'), 'typeDefinition').dynamicRegistration = true;\r\n        let typeDefinitionSupport = ensure(ensure(capabilities, 'textDocument'), 'typeDefinition');\r\n        typeDefinitionSupport.dynamicRegistration = true;\r\n        typeDefinitionSupport.linkSupport = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let [id, options] = this.getRegistration(documentSelector, capabilities.typeDefinitionProvider);\r\n        if (!id || !options) {\r\n            return;\r\n        }\r\n        this.register({ id: id, registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideTypeDefinition: (document, position, token) => {\r\n                const client = this._client;\r\n                const provideTypeDefinition = (document, position, token) => {\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDefinitionResult, (error) => {\r\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, error, null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideTypeDefinition\r\n                    ? middleware.provideTypeDefinition(document, position, token, provideTypeDefinition)\r\n                    : provideTypeDefinition(document, position, token);\r\n            }\r\n        };\r\n        return [vscode_1.languages.registerTypeDefinitionProvider(options.documentSelector, provider), provider];\r\n    }\r\n}\r\nexports.TypeDefinitionFeature = TypeDefinitionFeature;\r\n//# sourceMappingURL=typeDefinition.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Delayer = void 0;\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nclass Delayer {\r\n    constructor(defaultDelay) {\r\n        this.defaultDelay = defaultDelay;\r\n        this.timeout = undefined;\r\n        this.completionPromise = undefined;\r\n        this.onSuccess = undefined;\r\n        this.task = undefined;\r\n    }\r\n    trigger(task, delay = this.defaultDelay) {\r\n        this.task = task;\r\n        if (delay >= 0) {\r\n            this.cancelTimeout();\r\n        }\r\n        if (!this.completionPromise) {\r\n            this.completionPromise = new Promise((resolve) => {\r\n                this.onSuccess = resolve;\r\n            }).then(() => {\r\n                this.completionPromise = undefined;\r\n                this.onSuccess = undefined;\r\n                var result = this.task();\r\n                this.task = undefined;\r\n                return result;\r\n            });\r\n        }\r\n        if (delay >= 0 || this.timeout === void 0) {\r\n            this.timeout = vscode_languageserver_protocol_1.RAL().timer.setTimeout(() => {\r\n                this.timeout = undefined;\r\n                this.onSuccess(undefined);\r\n            }, delay >= 0 ? delay : this.defaultDelay);\r\n        }\r\n        return this.completionPromise;\r\n    }\r\n    forceDelivery() {\r\n        if (!this.completionPromise) {\r\n            return undefined;\r\n        }\r\n        this.cancelTimeout();\r\n        let result = this.task();\r\n        this.completionPromise = undefined;\r\n        this.onSuccess = undefined;\r\n        this.task = undefined;\r\n        return result;\r\n    }\r\n    isTriggered() {\r\n        return this.timeout !== void 0;\r\n    }\r\n    cancel() {\r\n        this.cancelTimeout();\r\n        this.completionPromise = undefined;\r\n    }\r\n    cancelTimeout() {\r\n        if (this.timeout !== void 0) {\r\n            vscode_languageserver_protocol_1.RAL().timer.clearTimeout(this.timeout);\r\n            this.timeout = undefined;\r\n        }\r\n    }\r\n}\r\nexports.Delayer = Delayer;\r\n//# sourceMappingURL=async.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.asPromise = exports.thenable = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\r\nfunction boolean(value) {\r\n    return value === true || value === false;\r\n}\r\nexports.boolean = boolean;\r\nfunction string(value) {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\nexports.string = string;\r\nfunction number(value) {\r\n    return typeof value === 'number' || value instanceof Number;\r\n}\r\nexports.number = number;\r\nfunction error(value) {\r\n    return value instanceof Error;\r\n}\r\nexports.error = error;\r\nfunction func(value) {\r\n    return typeof value === 'function';\r\n}\r\nexports.func = func;\r\nfunction array(value) {\r\n    return Array.isArray(value);\r\n}\r\nexports.array = array;\r\nfunction stringArray(value) {\r\n    return array(value) && value.every(elem => string(elem));\r\n}\r\nexports.stringArray = stringArray;\r\nfunction typedArray(value, check) {\r\n    return Array.isArray(value) && value.every(check);\r\n}\r\nexports.typedArray = typedArray;\r\nfunction thenable(value) {\r\n    return value && func(value.then);\r\n}\r\nexports.thenable = thenable;\r\nfunction asPromise(value) {\r\n    if (value instanceof Promise) {\r\n        return value;\r\n    }\r\n    else if (thenable(value)) {\r\n        return new Promise((resolve, reject) => {\r\n            value.then((resolved) => resolve(resolved), (error) => reject(error));\r\n        });\r\n    }\r\n    else {\r\n        return Promise.resolve(value);\r\n    }\r\n}\r\nexports.asPromise = asPromise;\r\n//# sourceMappingURL=is.js.map","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.generateUuid = exports.parse = exports.isUUID = exports.v4 = exports.empty = void 0;\r\nclass ValueUUID {\r\n    constructor(_value) {\r\n        this._value = _value;\r\n        // empty\r\n    }\r\n    asHex() {\r\n        return this._value;\r\n    }\r\n    equals(other) {\r\n        return this.asHex() === other.asHex();\r\n    }\r\n}\r\nclass V4UUID extends ValueUUID {\r\n    constructor() {\r\n        super([\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            '-',\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            '-',\r\n            '4',\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            '-',\r\n            V4UUID._oneOf(V4UUID._timeHighBits),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            '-',\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n        ].join(''));\r\n    }\r\n    static _oneOf(array) {\r\n        return array[Math.floor(array.length * Math.random())];\r\n    }\r\n    static _randomHex() {\r\n        return V4UUID._oneOf(V4UUID._chars);\r\n    }\r\n}\r\nV4UUID._chars = ['0', '1', '2', '3', '4', '5', '6', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\r\nV4UUID._timeHighBits = ['8', '9', 'a', 'b'];\r\n/**\r\n * An empty UUID that contains only zeros.\r\n */\r\nexports.empty = new ValueUUID('00000000-0000-0000-0000-000000000000');\r\nfunction v4() {\r\n    return new V4UUID();\r\n}\r\nexports.v4 = v4;\r\nconst _UUIDPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\r\nfunction isUUID(value) {\r\n    return _UUIDPattern.test(value);\r\n}\r\nexports.isUUID = isUUID;\r\n/**\r\n * Parses a UUID that is of the format xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.\r\n * @param value A uuid string.\r\n */\r\nfunction parse(value) {\r\n    if (!isUUID(value)) {\r\n        throw new Error('invalid uuid');\r\n    }\r\n    return new ValueUUID(value);\r\n}\r\nexports.parse = parse;\r\nfunction generateUuid() {\r\n    return v4().asHex();\r\n}\r\nexports.generateUuid = generateUuid;\r\n//# sourceMappingURL=uuid.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WorkspaceFoldersFeature = exports.arrayDiff = void 0;\r\nconst UUID = require(\"./utils/uuid\");\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nfunction access(target, key) {\r\n    if (target === void 0) {\r\n        return undefined;\r\n    }\r\n    return target[key];\r\n}\r\nfunction arrayDiff(left, right) {\r\n    return left.filter(element => right.indexOf(element) < 0);\r\n}\r\nexports.arrayDiff = arrayDiff;\r\nclass WorkspaceFoldersFeature {\r\n    constructor(_client) {\r\n        this._client = _client;\r\n        this._listeners = new Map();\r\n    }\r\n    get registrationType() {\r\n        return vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type;\r\n    }\r\n    fillInitializeParams(params) {\r\n        const folders = vscode_1.workspace.workspaceFolders;\r\n        this.initializeWithFolders(folders);\r\n        if (folders === void 0) {\r\n            params.workspaceFolders = null;\r\n        }\r\n        else {\r\n            params.workspaceFolders = folders.map(folder => this.asProtocol(folder));\r\n        }\r\n    }\r\n    initializeWithFolders(currentWorkspaceFolders) {\r\n        this._initialFolders = currentWorkspaceFolders;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        capabilities.workspace = capabilities.workspace || {};\r\n        capabilities.workspace.workspaceFolders = true;\r\n    }\r\n    initialize(capabilities) {\r\n        const client = this._client;\r\n        client.onRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type, (token) => {\r\n            const workspaceFolders = () => {\r\n                const folders = vscode_1.workspace.workspaceFolders;\r\n                if (folders === undefined) {\r\n                    return null;\r\n                }\r\n                const result = folders.map((folder) => {\r\n                    return this.asProtocol(folder);\r\n                });\r\n                return result;\r\n            };\r\n            const middleware = client.clientOptions.middleware.workspace;\r\n            return middleware && middleware.workspaceFolders\r\n                ? middleware.workspaceFolders(token, workspaceFolders)\r\n                : workspaceFolders(token);\r\n        });\r\n        const value = access(access(access(capabilities, 'workspace'), 'workspaceFolders'), 'changeNotifications');\r\n        let id;\r\n        if (typeof value === 'string') {\r\n            id = value;\r\n        }\r\n        else if (value === true) {\r\n            id = UUID.generateUuid();\r\n        }\r\n        if (id) {\r\n            this.register({ id: id, registerOptions: undefined });\r\n        }\r\n    }\r\n    sendInitialEvent(currentWorkspaceFolders) {\r\n        if (this._initialFolders && currentWorkspaceFolders) {\r\n            const removed = arrayDiff(this._initialFolders, currentWorkspaceFolders);\r\n            const added = arrayDiff(currentWorkspaceFolders, this._initialFolders);\r\n            if (added.length > 0 || removed.length > 0) {\r\n                this.doSendEvent(added, removed);\r\n            }\r\n        }\r\n        else if (this._initialFolders) {\r\n            this.doSendEvent([], this._initialFolders);\r\n        }\r\n        else if (currentWorkspaceFolders) {\r\n            this.doSendEvent(currentWorkspaceFolders, []);\r\n        }\r\n    }\r\n    doSendEvent(addedFolders, removedFolders) {\r\n        let params = {\r\n            event: {\r\n                added: addedFolders.map(folder => this.asProtocol(folder)),\r\n                removed: removedFolders.map(folder => this.asProtocol(folder))\r\n            }\r\n        };\r\n        this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type, params);\r\n    }\r\n    register(data) {\r\n        let id = data.id;\r\n        let client = this._client;\r\n        let disposable = vscode_1.workspace.onDidChangeWorkspaceFolders((event) => {\r\n            let didChangeWorkspaceFolders = (event) => {\r\n                this.doSendEvent(event.added, event.removed);\r\n            };\r\n            let middleware = client.clientOptions.middleware.workspace;\r\n            middleware && middleware.didChangeWorkspaceFolders\r\n                ? middleware.didChangeWorkspaceFolders(event, didChangeWorkspaceFolders)\r\n                : didChangeWorkspaceFolders(event);\r\n        });\r\n        this._listeners.set(id, disposable);\r\n        this.sendInitialEvent(vscode_1.workspace.workspaceFolders);\r\n    }\r\n    unregister(id) {\r\n        let disposable = this._listeners.get(id);\r\n        if (disposable === void 0) {\r\n            return;\r\n        }\r\n        this._listeners.delete(id);\r\n        disposable.dispose();\r\n    }\r\n    dispose() {\r\n        for (let disposable of this._listeners.values()) {\r\n            disposable.dispose();\r\n        }\r\n        this._listeners.clear();\r\n    }\r\n    asProtocol(workspaceFolder) {\r\n        if (workspaceFolder === void 0) {\r\n            return null;\r\n        }\r\n        return { uri: this._client.code2ProtocolConverter.asUri(workspaceFolder.uri), name: workspaceFolder.name };\r\n    }\r\n}\r\nexports.WorkspaceFoldersFeature = WorkspaceFoldersFeature;\r\n//# sourceMappingURL=workspaceFolders.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SettingMonitor = exports.LanguageClient = exports.TransportKind = void 0;\r\nconst cp = require(\"child_process\");\r\nconst fs = require(\"fs\");\r\nconst path = require(\"path\");\r\nconst SemVer = require(\"semver\");\r\nconst vscode_1 = require(\"vscode\");\r\nconst Is = require(\"../common/utils/is\");\r\nconst commonClient_1 = require(\"../common/commonClient\");\r\nconst client_1 = require(\"../common/client\");\r\nconst processes_1 = require(\"./processes\");\r\nconst node_1 = require(\"vscode-languageserver-protocol/node\");\r\n__exportStar(require(\"vscode-languageserver-protocol/node\"), exports);\r\n__exportStar(require(\"../common/api\"), exports);\r\nconst REQUIRED_VSCODE_VERSION = '^1.52.0'; // do not change format, updated by `updateVSCode` script\r\nvar Executable;\r\n(function (Executable) {\r\n    function is(value) {\r\n        return Is.string(value.command);\r\n    }\r\n    Executable.is = is;\r\n})(Executable || (Executable = {}));\r\nvar TransportKind;\r\n(function (TransportKind) {\r\n    TransportKind[TransportKind[\"stdio\"] = 0] = \"stdio\";\r\n    TransportKind[TransportKind[\"ipc\"] = 1] = \"ipc\";\r\n    TransportKind[TransportKind[\"pipe\"] = 2] = \"pipe\";\r\n    TransportKind[TransportKind[\"socket\"] = 3] = \"socket\";\r\n})(TransportKind = exports.TransportKind || (exports.TransportKind = {}));\r\nvar Transport;\r\n(function (Transport) {\r\n    function isSocket(value) {\r\n        let candidate = value;\r\n        return candidate && candidate.kind === TransportKind.socket && Is.number(candidate.port);\r\n    }\r\n    Transport.isSocket = isSocket;\r\n})(Transport || (Transport = {}));\r\nvar NodeModule;\r\n(function (NodeModule) {\r\n    function is(value) {\r\n        return Is.string(value.module);\r\n    }\r\n    NodeModule.is = is;\r\n})(NodeModule || (NodeModule = {}));\r\nvar StreamInfo;\r\n(function (StreamInfo) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && candidate.writer !== void 0 && candidate.reader !== void 0;\r\n    }\r\n    StreamInfo.is = is;\r\n})(StreamInfo || (StreamInfo = {}));\r\nvar ChildProcessInfo;\r\n(function (ChildProcessInfo) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && candidate.process !== void 0 && typeof candidate.detached === 'boolean';\r\n    }\r\n    ChildProcessInfo.is = is;\r\n})(ChildProcessInfo || (ChildProcessInfo = {}));\r\nclass LanguageClient extends commonClient_1.CommonLanguageClient {\r\n    constructor(arg1, arg2, arg3, arg4, arg5) {\r\n        let id;\r\n        let name;\r\n        let serverOptions;\r\n        let clientOptions;\r\n        let forceDebug;\r\n        if (Is.string(arg2)) {\r\n            id = arg1;\r\n            name = arg2;\r\n            serverOptions = arg3;\r\n            clientOptions = arg4;\r\n            forceDebug = !!arg5;\r\n        }\r\n        else {\r\n            id = arg1.toLowerCase();\r\n            name = arg1;\r\n            serverOptions = arg2;\r\n            clientOptions = arg3;\r\n            forceDebug = arg4;\r\n        }\r\n        if (forceDebug === void 0) {\r\n            forceDebug = false;\r\n        }\r\n        super(id, name, clientOptions);\r\n        this._serverOptions = serverOptions;\r\n        this._forceDebug = forceDebug;\r\n        try {\r\n            this.checkVersion();\r\n        }\r\n        catch (error) {\r\n            if (Is.string(error.message)) {\r\n                this.outputChannel.appendLine(error.message);\r\n            }\r\n            throw error;\r\n        }\r\n    }\r\n    checkVersion() {\r\n        let codeVersion = SemVer.parse(vscode_1.version);\r\n        if (!codeVersion) {\r\n            throw new Error(`No valid VS Code version detected. Version string is: ${vscode_1.version}`);\r\n        }\r\n        // Remove the insider pre-release since we stay API compatible.\r\n        if (codeVersion.prerelease && codeVersion.prerelease.length > 0) {\r\n            codeVersion.prerelease = [];\r\n        }\r\n        if (!SemVer.satisfies(codeVersion, REQUIRED_VSCODE_VERSION)) {\r\n            throw new Error(`The language client requires VS Code version ${REQUIRED_VSCODE_VERSION} but received version ${vscode_1.version}`);\r\n        }\r\n    }\r\n    stop() {\r\n        return super.stop().then(() => {\r\n            if (this._serverProcess) {\r\n                let toCheck = this._serverProcess;\r\n                this._serverProcess = undefined;\r\n                if (this._isDetached === void 0 || !this._isDetached) {\r\n                    this.checkProcessDied(toCheck);\r\n                }\r\n                this._isDetached = undefined;\r\n            }\r\n        });\r\n    }\r\n    checkProcessDied(childProcess) {\r\n        if (!childProcess) {\r\n            return;\r\n        }\r\n        setTimeout(() => {\r\n            // Test if the process is still alive. Throws an exception if not\r\n            try {\r\n                process.kill(childProcess.pid, 0);\r\n                processes_1.terminate(childProcess);\r\n            }\r\n            catch (error) {\r\n                // All is fine.\r\n            }\r\n        }, 2000);\r\n    }\r\n    handleConnectionClosed() {\r\n        this._serverProcess = undefined;\r\n        super.handleConnectionClosed();\r\n    }\r\n    fillInitializeParams(params) {\r\n        super.fillInitializeParams(params);\r\n        if (params.processId === null) {\r\n            params.processId = process.pid;\r\n        }\r\n    }\r\n    createMessageTransports(encoding) {\r\n        function getEnvironment(env, fork) {\r\n            if (!env && !fork) {\r\n                return undefined;\r\n            }\r\n            let result = Object.create(null);\r\n            Object.keys(process.env).forEach(key => result[key] = process.env[key]);\r\n            if (fork) {\r\n                result['ELECTRON_RUN_AS_NODE'] = '1';\r\n                result['ELECTRON_NO_ASAR'] = '1';\r\n            }\r\n            if (env) {\r\n                Object.keys(env).forEach(key => result[key] = env[key]);\r\n            }\r\n            return result;\r\n        }\r\n        const debugStartWith = ['--debug=', '--debug-brk=', '--inspect=', '--inspect-brk='];\r\n        const debugEquals = ['--debug', '--debug-brk', '--inspect', '--inspect-brk'];\r\n        function startedInDebugMode() {\r\n            let args = process.execArgv;\r\n            if (args) {\r\n                return args.some((arg) => {\r\n                    return debugStartWith.some(value => arg.startsWith(value)) ||\r\n                        debugEquals.some(value => arg === value);\r\n                });\r\n            }\r\n            return false;\r\n        }\r\n        function assertStdio(process) {\r\n            if (process.stdin === null || process.stdout === null || process.stderr === null) {\r\n                throw new Error('Process created without stdio streams');\r\n            }\r\n        }\r\n        let server = this._serverOptions;\r\n        // We got a function.\r\n        if (Is.func(server)) {\r\n            return server().then((result) => {\r\n                if (client_1.MessageTransports.is(result)) {\r\n                    this._isDetached = !!result.detached;\r\n                    return result;\r\n                }\r\n                else if (StreamInfo.is(result)) {\r\n                    this._isDetached = !!result.detached;\r\n                    return { reader: new node_1.StreamMessageReader(result.reader), writer: new node_1.StreamMessageWriter(result.writer) };\r\n                }\r\n                else {\r\n                    let cp;\r\n                    if (ChildProcessInfo.is(result)) {\r\n                        cp = result.process;\r\n                        this._isDetached = result.detached;\r\n                    }\r\n                    else {\r\n                        cp = result;\r\n                        this._isDetached = false;\r\n                    }\r\n                    cp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                    return { reader: new node_1.StreamMessageReader(cp.stdout), writer: new node_1.StreamMessageWriter(cp.stdin) };\r\n                }\r\n            });\r\n        }\r\n        let json;\r\n        let runDebug = server;\r\n        if (runDebug.run || runDebug.debug) {\r\n            if (this._forceDebug || startedInDebugMode()) {\r\n                json = runDebug.debug;\r\n            }\r\n            else {\r\n                json = runDebug.run;\r\n            }\r\n        }\r\n        else {\r\n            json = server;\r\n        }\r\n        return this._getServerWorkingDir(json.options).then(serverWorkingDir => {\r\n            if (NodeModule.is(json) && json.module) {\r\n                let node = json;\r\n                let transport = node.transport || TransportKind.stdio;\r\n                if (node.runtime) {\r\n                    let args = [];\r\n                    let options = node.options || Object.create(null);\r\n                    if (options.execArgv) {\r\n                        options.execArgv.forEach(element => args.push(element));\r\n                    }\r\n                    args.push(node.module);\r\n                    if (node.args) {\r\n                        node.args.forEach(element => args.push(element));\r\n                    }\r\n                    const execOptions = Object.create(null);\r\n                    execOptions.cwd = serverWorkingDir;\r\n                    execOptions.env = getEnvironment(options.env, false);\r\n                    const runtime = this._getRuntimePath(node.runtime, serverWorkingDir);\r\n                    let pipeName = undefined;\r\n                    if (transport === TransportKind.ipc) {\r\n                        // exec options not correctly typed in lib\r\n                        execOptions.stdio = [null, null, null, 'ipc'];\r\n                        args.push('--node-ipc');\r\n                    }\r\n                    else if (transport === TransportKind.stdio) {\r\n                        args.push('--stdio');\r\n                    }\r\n                    else if (transport === TransportKind.pipe) {\r\n                        pipeName = node_1.generateRandomPipeName();\r\n                        args.push(`--pipe=${pipeName}`);\r\n                    }\r\n                    else if (Transport.isSocket(transport)) {\r\n                        args.push(`--socket=${transport.port}`);\r\n                    }\r\n                    args.push(`--clientProcessId=${process.pid.toString()}`);\r\n                    if (transport === TransportKind.ipc || transport === TransportKind.stdio) {\r\n                        let serverProcess = cp.spawn(runtime, args, execOptions);\r\n                        if (!serverProcess || !serverProcess.pid) {\r\n                            return Promise.reject(`Launching server using runtime ${runtime} failed.`);\r\n                        }\r\n                        this._serverProcess = serverProcess;\r\n                        serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                        if (transport === TransportKind.ipc) {\r\n                            serverProcess.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                            return Promise.resolve({ reader: new node_1.IPCMessageReader(serverProcess), writer: new node_1.IPCMessageWriter(serverProcess) });\r\n                        }\r\n                        else {\r\n                            return Promise.resolve({ reader: new node_1.StreamMessageReader(serverProcess.stdout), writer: new node_1.StreamMessageWriter(serverProcess.stdin) });\r\n                        }\r\n                    }\r\n                    else if (transport === TransportKind.pipe) {\r\n                        return node_1.createClientPipeTransport(pipeName).then((transport) => {\r\n                            let process = cp.spawn(runtime, args, execOptions);\r\n                            if (!process || !process.pid) {\r\n                                return Promise.reject(`Launching server using runtime ${runtime} failed.`);\r\n                            }\r\n                            this._serverProcess = process;\r\n                            process.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                            process.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                            return transport.onConnected().then((protocol) => {\r\n                                return { reader: protocol[0], writer: protocol[1] };\r\n                            });\r\n                        });\r\n                    }\r\n                    else if (Transport.isSocket(transport)) {\r\n                        return node_1.createClientSocketTransport(transport.port).then((transport) => {\r\n                            let process = cp.spawn(runtime, args, execOptions);\r\n                            if (!process || !process.pid) {\r\n                                return Promise.reject(`Launching server using runtime ${runtime} failed.`);\r\n                            }\r\n                            this._serverProcess = process;\r\n                            process.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                            process.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                            return transport.onConnected().then((protocol) => {\r\n                                return { reader: protocol[0], writer: protocol[1] };\r\n                            });\r\n                        });\r\n                    }\r\n                }\r\n                else {\r\n                    let pipeName = undefined;\r\n                    return new Promise((resolve, _reject) => {\r\n                        let args = node.args && node.args.slice() || [];\r\n                        if (transport === TransportKind.ipc) {\r\n                            args.push('--node-ipc');\r\n                        }\r\n                        else if (transport === TransportKind.stdio) {\r\n                            args.push('--stdio');\r\n                        }\r\n                        else if (transport === TransportKind.pipe) {\r\n                            pipeName = node_1.generateRandomPipeName();\r\n                            args.push(`--pipe=${pipeName}`);\r\n                        }\r\n                        else if (Transport.isSocket(transport)) {\r\n                            args.push(`--socket=${transport.port}`);\r\n                        }\r\n                        args.push(`--clientProcessId=${process.pid.toString()}`);\r\n                        let options = node.options || Object.create(null);\r\n                        options.env = getEnvironment(options.env, true);\r\n                        options.execArgv = options.execArgv || [];\r\n                        options.cwd = serverWorkingDir;\r\n                        options.silent = true;\r\n                        if (transport === TransportKind.ipc || transport === TransportKind.stdio) {\r\n                            let sp = cp.fork(node.module, args || [], options);\r\n                            assertStdio(sp);\r\n                            this._serverProcess = sp;\r\n                            sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                            if (transport === TransportKind.ipc) {\r\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                                resolve({ reader: new node_1.IPCMessageReader(this._serverProcess), writer: new node_1.IPCMessageWriter(this._serverProcess) });\r\n                            }\r\n                            else {\r\n                                resolve({ reader: new node_1.StreamMessageReader(sp.stdout), writer: new node_1.StreamMessageWriter(sp.stdin) });\r\n                            }\r\n                        }\r\n                        else if (transport === TransportKind.pipe) {\r\n                            node_1.createClientPipeTransport(pipeName).then((transport) => {\r\n                                let sp = cp.fork(node.module, args || [], options);\r\n                                assertStdio(sp);\r\n                                this._serverProcess = sp;\r\n                                sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                                transport.onConnected().then((protocol) => {\r\n                                    resolve({ reader: protocol[0], writer: protocol[1] });\r\n                                });\r\n                            });\r\n                        }\r\n                        else if (Transport.isSocket(transport)) {\r\n                            node_1.createClientSocketTransport(transport.port).then((transport) => {\r\n                                let sp = cp.fork(node.module, args || [], options);\r\n                                assertStdio(sp);\r\n                                this._serverProcess = sp;\r\n                                sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                                transport.onConnected().then((protocol) => {\r\n                                    resolve({ reader: protocol[0], writer: protocol[1] });\r\n                                });\r\n                            });\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            else if (Executable.is(json) && json.command) {\r\n                let command = json;\r\n                let args = command.args || [];\r\n                let options = Object.assign({}, command.options);\r\n                options.cwd = options.cwd || serverWorkingDir;\r\n                let serverProcess = cp.spawn(command.command, args, options);\r\n                if (!serverProcess || !serverProcess.pid) {\r\n                    return Promise.reject(`Launching server using command ${command.command} failed.`);\r\n                }\r\n                serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\r\n                this._serverProcess = serverProcess;\r\n                this._isDetached = !!options.detached;\r\n                return Promise.resolve({ reader: new node_1.StreamMessageReader(serverProcess.stdout), writer: new node_1.StreamMessageWriter(serverProcess.stdin) });\r\n            }\r\n            return Promise.reject(new Error(`Unsupported server configuration ` + JSON.stringify(server, null, 4)));\r\n        });\r\n    }\r\n    _getRuntimePath(runtime, serverWorkingDirectory) {\r\n        if (path.isAbsolute(runtime)) {\r\n            return runtime;\r\n        }\r\n        const mainRootPath = this._mainGetRootPath();\r\n        if (mainRootPath !== undefined) {\r\n            const result = path.join(mainRootPath, runtime);\r\n            if (fs.existsSync(result)) {\r\n                return result;\r\n            }\r\n        }\r\n        if (serverWorkingDirectory !== undefined) {\r\n            const result = path.join(serverWorkingDirectory, runtime);\r\n            if (fs.existsSync(result)) {\r\n                return result;\r\n            }\r\n        }\r\n        return runtime;\r\n    }\r\n    _mainGetRootPath() {\r\n        let folders = vscode_1.workspace.workspaceFolders;\r\n        if (!folders || folders.length === 0) {\r\n            return undefined;\r\n        }\r\n        let folder = folders[0];\r\n        if (folder.uri.scheme === 'file') {\r\n            return folder.uri.fsPath;\r\n        }\r\n        return undefined;\r\n    }\r\n    _getServerWorkingDir(options) {\r\n        let cwd = options && options.cwd;\r\n        if (!cwd) {\r\n            cwd = this.clientOptions.workspaceFolder\r\n                ? this.clientOptions.workspaceFolder.uri.fsPath\r\n                : this._mainGetRootPath();\r\n        }\r\n        if (cwd) {\r\n            // make sure the folder exists otherwise creating the process will fail\r\n            return new Promise(s => {\r\n                fs.lstat(cwd, (err, stats) => {\r\n                    s(!err && stats.isDirectory() ? cwd : undefined);\r\n                });\r\n            });\r\n        }\r\n        return Promise.resolve(undefined);\r\n    }\r\n    getLocale() {\r\n        const envValue = process.env['VSCODE_NLS_CONFIG'];\r\n        if (envValue === undefined) {\r\n            return 'en';\r\n        }\r\n        let config = undefined;\r\n        try {\r\n            config = JSON.parse(envValue);\r\n        }\r\n        catch (err) {\r\n        }\r\n        if (config === undefined || typeof config.locale !== 'string') {\r\n            return 'en';\r\n        }\r\n        return config.locale;\r\n    }\r\n}\r\nexports.LanguageClient = LanguageClient;\r\nclass SettingMonitor {\r\n    constructor(_client, _setting) {\r\n        this._client = _client;\r\n        this._setting = _setting;\r\n        this._listeners = [];\r\n    }\r\n    start() {\r\n        vscode_1.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration, this, this._listeners);\r\n        this.onDidChangeConfiguration();\r\n        return new vscode_1.Disposable(() => {\r\n            if (this._client.needsStop()) {\r\n                this._client.stop();\r\n            }\r\n        });\r\n    }\r\n    onDidChangeConfiguration() {\r\n        let index = this._setting.indexOf('.');\r\n        let primary = index >= 0 ? this._setting.substr(0, index) : this._setting;\r\n        let rest = index >= 0 ? this._setting.substr(index + 1) : undefined;\r\n        let enabled = rest ? vscode_1.workspace.getConfiguration(primary).get(rest, false) : vscode_1.workspace.getConfiguration(primary);\r\n        if (enabled && this._client.needsStart()) {\r\n            this._client.start();\r\n        }\r\n        else if (!enabled && this._client.needsStop()) {\r\n            this._client.stop();\r\n        }\r\n    }\r\n}\r\nexports.SettingMonitor = SettingMonitor;\r\n//# sourceMappingURL=main.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.terminate = void 0;\r\nconst cp = require(\"child_process\");\r\nconst path_1 = require(\"path\");\r\nconst isWindows = (process.platform === 'win32');\r\nconst isMacintosh = (process.platform === 'darwin');\r\nconst isLinux = (process.platform === 'linux');\r\nfunction terminate(process, cwd) {\r\n    if (isWindows) {\r\n        try {\r\n            // This we run in Atom execFileSync is available.\r\n            // Ignore stderr since this is otherwise piped to parent.stderr\r\n            // which might be already closed.\r\n            let options = {\r\n                stdio: ['pipe', 'pipe', 'ignore']\r\n            };\r\n            if (cwd) {\r\n                options.cwd = cwd;\r\n            }\r\n            cp.execFileSync('taskkill', ['/T', '/F', '/PID', process.pid.toString()], options);\r\n            return true;\r\n        }\r\n        catch (err) {\r\n            return false;\r\n        }\r\n    }\r\n    else if (isLinux || isMacintosh) {\r\n        try {\r\n            var cmd = path_1.join(__dirname, 'terminateProcess.sh');\r\n            var result = cp.spawnSync(cmd, [process.pid.toString()]);\r\n            return result.error ? false : true;\r\n        }\r\n        catch (err) {\r\n            return false;\r\n        }\r\n    }\r\n    else {\r\n        process.kill('SIGKILL');\r\n        return true;\r\n    }\r\n}\r\nexports.terminate = terminate;\r\n//# sourceMappingURL=processes.js.map","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ----------------------------------------------------------------------------------------- */\r\n'use strict';\r\n\r\nmodule.exports = require('./lib/node/main');","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LSPErrorCodes = exports.createProtocolConnection = void 0;\r\n__exportStar(require(\"vscode-jsonrpc\"), exports);\r\n__exportStar(require(\"vscode-languageserver-types\"), exports);\r\n__exportStar(require(\"./messages\"), exports);\r\n__exportStar(require(\"./protocol\"), exports);\r\nvar connection_1 = require(\"./connection\");\r\nObject.defineProperty(exports, \"createProtocolConnection\", { enumerable: true, get: function () { return connection_1.createProtocolConnection; } });\r\nvar LSPErrorCodes;\r\n(function (LSPErrorCodes) {\r\n    /**\r\n    * This is the start range of LSP reserved error codes.\r\n    * It doesn't denote a real error code.\r\n    *\r\n    * @since 3.16.0\r\n    */\r\n    LSPErrorCodes.lspReservedErrorRangeStart = -32899;\r\n    LSPErrorCodes.ContentModified = -32801;\r\n    LSPErrorCodes.RequestCancelled = -32800;\r\n    /**\r\n    * This is the end range of LSP reserved error codes.\r\n    * It doesn't denote a real error code.\r\n    *\r\n    * @since 3.16.0\r\n    */\r\n    LSPErrorCodes.lspReservedErrorRangeEnd = -32800;\r\n})(LSPErrorCodes = exports.LSPErrorCodes || (exports.LSPErrorCodes = {}));\r\n//# sourceMappingURL=api.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.createProtocolConnection = void 0;\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nfunction createProtocolConnection(input, output, logger, options) {\r\n    if (vscode_jsonrpc_1.ConnectionStrategy.is(options)) {\r\n        options = { connectionStrategy: options };\r\n    }\r\n    return vscode_jsonrpc_1.createMessageConnection(input, output, logger, options);\r\n}\r\nexports.createProtocolConnection = createProtocolConnection;\r\n//# sourceMappingURL=connection.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ProtocolNotificationType = exports.ProtocolNotificationType0 = exports.ProtocolRequestType = exports.ProtocolRequestType0 = exports.RegistrationType = void 0;\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nclass RegistrationType {\r\n    constructor(method) {\r\n        this.method = method;\r\n    }\r\n}\r\nexports.RegistrationType = RegistrationType;\r\nclass ProtocolRequestType0 extends vscode_jsonrpc_1.RequestType0 {\r\n    constructor(method) {\r\n        super(method);\r\n    }\r\n}\r\nexports.ProtocolRequestType0 = ProtocolRequestType0;\r\nclass ProtocolRequestType extends vscode_jsonrpc_1.RequestType {\r\n    constructor(method) {\r\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\r\n    }\r\n}\r\nexports.ProtocolRequestType = ProtocolRequestType;\r\nclass ProtocolNotificationType0 extends vscode_jsonrpc_1.NotificationType0 {\r\n    constructor(method) {\r\n        super(method);\r\n    }\r\n}\r\nexports.ProtocolNotificationType0 = ProtocolNotificationType0;\r\nclass ProtocolNotificationType extends vscode_jsonrpc_1.NotificationType {\r\n    constructor(method) {\r\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\r\n    }\r\n}\r\nexports.ProtocolNotificationType = ProtocolNotificationType;\r\n// let x: ProtocolNotificationType<number, { value: number}>;\r\n// let y: ProtocolNotificationType<string, { value: number}>;\r\n// x = y;\r\n//# sourceMappingURL=messages.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) TypeFox and others. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.CallHierarchyPrepareRequest = void 0;\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * A request to result a `CallHierarchyItem` in a document at a given position.\r\n * Can be used as an input to a incoming or outgoing call hierarchy.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar CallHierarchyPrepareRequest;\r\n(function (CallHierarchyPrepareRequest) {\r\n    CallHierarchyPrepareRequest.method = 'textDocument/prepareCallHierarchy';\r\n    CallHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(CallHierarchyPrepareRequest.method);\r\n})(CallHierarchyPrepareRequest = exports.CallHierarchyPrepareRequest || (exports.CallHierarchyPrepareRequest = {}));\r\n/**\r\n * A request to resolve the incoming calls for a given `CallHierarchyItem`.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar CallHierarchyIncomingCallsRequest;\r\n(function (CallHierarchyIncomingCallsRequest) {\r\n    CallHierarchyIncomingCallsRequest.method = 'callHierarchy/incomingCalls';\r\n    CallHierarchyIncomingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyIncomingCallsRequest.method);\r\n})(CallHierarchyIncomingCallsRequest = exports.CallHierarchyIncomingCallsRequest || (exports.CallHierarchyIncomingCallsRequest = {}));\r\n/**\r\n * A request to resolve the outgoing calls for a given `CallHierarchyItem`.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar CallHierarchyOutgoingCallsRequest;\r\n(function (CallHierarchyOutgoingCallsRequest) {\r\n    CallHierarchyOutgoingCallsRequest.method = 'callHierarchy/outgoingCalls';\r\n    CallHierarchyOutgoingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyOutgoingCallsRequest.method);\r\n})(CallHierarchyOutgoingCallsRequest = exports.CallHierarchyOutgoingCallsRequest || (exports.CallHierarchyOutgoingCallsRequest = {}));\r\n//# sourceMappingURL=protocol.callHierarchy.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ColorPresentationRequest = exports.DocumentColorRequest = void 0;\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * A request to list all color symbols found in a given text document. The request's\r\n * parameter is of type [DocumentColorParams](#DocumentColorParams) the\r\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar DocumentColorRequest;\r\n(function (DocumentColorRequest) {\r\n    DocumentColorRequest.method = 'textDocument/documentColor';\r\n    DocumentColorRequest.type = new messages_1.ProtocolRequestType(DocumentColorRequest.method);\r\n})(DocumentColorRequest = exports.DocumentColorRequest || (exports.DocumentColorRequest = {}));\r\n/**\r\n * A request to list all presentation for a color. The request's\r\n * parameter is of type [ColorPresentationParams](#ColorPresentationParams) the\r\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar ColorPresentationRequest;\r\n(function (ColorPresentationRequest) {\r\n    ColorPresentationRequest.type = new messages_1.ProtocolRequestType('textDocument/colorPresentation');\r\n})(ColorPresentationRequest = exports.ColorPresentationRequest || (exports.ColorPresentationRequest = {}));\r\n//# sourceMappingURL=protocol.colorProvider.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ConfigurationRequest = void 0;\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * The 'workspace/configuration' request is sent from the server to the client to fetch a certain\r\n * configuration setting.\r\n *\r\n * This pull model replaces the old push model were the client signaled configuration change via an\r\n * event. If the server still needs to react to configuration changes (since the server caches the\r\n * result of `workspace/configuration` requests) the server should register for an empty configuration\r\n * change event and empty the cache if such an event is received.\r\n */\r\nvar ConfigurationRequest;\r\n(function (ConfigurationRequest) {\r\n    ConfigurationRequest.type = new messages_1.ProtocolRequestType('workspace/configuration');\r\n})(ConfigurationRequest = exports.ConfigurationRequest || (exports.ConfigurationRequest = {}));\r\n//# sourceMappingURL=protocol.configuration.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DeclarationRequest = void 0;\r\nconst messages_1 = require(\"./messages\");\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * A request to resolve the type definition locations of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPositioParams]\r\n * (#TextDocumentPositionParams) the response is of type [Declaration](#Declaration)\r\n * or a typed array of [DeclarationLink](#DeclarationLink) or a Thenable that resolves\r\n * to such.\r\n */\r\nvar DeclarationRequest;\r\n(function (DeclarationRequest) {\r\n    DeclarationRequest.method = 'textDocument/declaration';\r\n    DeclarationRequest.type = new messages_1.ProtocolRequestType(DeclarationRequest.method);\r\n})(DeclarationRequest = exports.DeclarationRequest || (exports.DeclarationRequest = {}));\r\n//# sourceMappingURL=protocol.declaration.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.DidRenameFilesNotification = exports.WillRenameFilesRequest = exports.DidCreateFilesNotification = exports.WillCreateFilesRequest = exports.FileOperationPatternKind = void 0;\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * A pattern kind describing if a glob pattern matches a file a folder or\r\n * both.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar FileOperationPatternKind;\r\n(function (FileOperationPatternKind) {\r\n    /**\r\n     * The pattern matches a file only.\r\n     */\r\n    FileOperationPatternKind.file = 'file';\r\n    /**\r\n     * The pattern matches a folder only.\r\n     */\r\n    FileOperationPatternKind.folder = 'folder';\r\n})(FileOperationPatternKind = exports.FileOperationPatternKind || (exports.FileOperationPatternKind = {}));\r\n/**\r\n * The will create files request is sent from the client to the server before files are actually\r\n * created as long as the creation is triggered from within the client.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar WillCreateFilesRequest;\r\n(function (WillCreateFilesRequest) {\r\n    WillCreateFilesRequest.method = 'workspace/willCreateFiles';\r\n    WillCreateFilesRequest.type = new messages_1.ProtocolRequestType(WillCreateFilesRequest.method);\r\n})(WillCreateFilesRequest = exports.WillCreateFilesRequest || (exports.WillCreateFilesRequest = {}));\r\n/**\r\n * The did create files notification is sent from the client to the server when\r\n * files were created from within the client.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar DidCreateFilesNotification;\r\n(function (DidCreateFilesNotification) {\r\n    DidCreateFilesNotification.method = 'workspace/didCreateFiles';\r\n    DidCreateFilesNotification.type = new messages_1.ProtocolNotificationType(DidCreateFilesNotification.method);\r\n})(DidCreateFilesNotification = exports.DidCreateFilesNotification || (exports.DidCreateFilesNotification = {}));\r\n/**\r\n * The will rename files request is sent from the client to the server before files are actually\r\n * renamed as long as the rename is triggered from within the client.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar WillRenameFilesRequest;\r\n(function (WillRenameFilesRequest) {\r\n    WillRenameFilesRequest.method = 'workspace/willRenameFiles';\r\n    WillRenameFilesRequest.type = new messages_1.ProtocolRequestType(WillRenameFilesRequest.method);\r\n})(WillRenameFilesRequest = exports.WillRenameFilesRequest || (exports.WillRenameFilesRequest = {}));\r\n/**\r\n * The did rename files notification is sent from the client to the server when\r\n * files were renamed from within the client.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar DidRenameFilesNotification;\r\n(function (DidRenameFilesNotification) {\r\n    DidRenameFilesNotification.method = 'workspace/didRenameFiles';\r\n    DidRenameFilesNotification.type = new messages_1.ProtocolNotificationType(DidRenameFilesNotification.method);\r\n})(DidRenameFilesNotification = exports.DidRenameFilesNotification || (exports.DidRenameFilesNotification = {}));\r\n/**\r\n * The will delete files request is sent from the client to the server before files are actually\r\n * deleted as long as the deletion is triggered from within the client.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar DidDeleteFilesNotification;\r\n(function (DidDeleteFilesNotification) {\r\n    DidDeleteFilesNotification.method = 'workspace/didDeleteFiles';\r\n    DidDeleteFilesNotification.type = new messages_1.ProtocolNotificationType(DidDeleteFilesNotification.method);\r\n})(DidDeleteFilesNotification = exports.DidDeleteFilesNotification || (exports.DidDeleteFilesNotification = {}));\r\n/**\r\n * The did delete files notification is sent from the client to the server when\r\n * files were deleted from within the client.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar WillDeleteFilesRequest;\r\n(function (WillDeleteFilesRequest) {\r\n    WillDeleteFilesRequest.method = 'workspace/willDeleteFiles';\r\n    WillDeleteFilesRequest.type = new messages_1.ProtocolRequestType(WillDeleteFilesRequest.method);\r\n})(WillDeleteFilesRequest = exports.WillDeleteFilesRequest || (exports.WillDeleteFilesRequest = {}));\r\n//# sourceMappingURL=protocol.fileOperations.js.map","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.FoldingRangeRequest = exports.FoldingRangeKind = void 0;\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * Enum of known range kinds\r\n */\r\nvar FoldingRangeKind;\r\n(function (FoldingRangeKind) {\r\n    /**\r\n     * Folding range for a comment\r\n     */\r\n    FoldingRangeKind[\"Comment\"] = \"comment\";\r\n    /**\r\n     * Folding range for a imports or includes\r\n     */\r\n    FoldingRangeKind[\"Imports\"] = \"imports\";\r\n    /**\r\n     * Folding range for a region (e.g. `#region`)\r\n     */\r\n    FoldingRangeKind[\"Region\"] = \"region\";\r\n})(FoldingRangeKind = exports.FoldingRangeKind || (exports.FoldingRangeKind = {}));\r\n/**\r\n * A request to provide folding ranges in a document. The request's\r\n * parameter is of type [FoldingRangeParams](#FoldingRangeParams), the\r\n * response is of type [FoldingRangeList](#FoldingRangeList) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar FoldingRangeRequest;\r\n(function (FoldingRangeRequest) {\r\n    FoldingRangeRequest.method = 'textDocument/foldingRange';\r\n    FoldingRangeRequest.type = new messages_1.ProtocolRequestType(FoldingRangeRequest.method);\r\n})(FoldingRangeRequest = exports.FoldingRangeRequest || (exports.FoldingRangeRequest = {}));\r\n//# sourceMappingURL=protocol.foldingRange.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ImplementationRequest = void 0;\r\nconst messages_1 = require(\"./messages\");\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * A request to resolve the implementation locations of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPositioParams]\r\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\r\n * Thenable that resolves to such.\r\n */\r\nvar ImplementationRequest;\r\n(function (ImplementationRequest) {\r\n    ImplementationRequest.method = 'textDocument/implementation';\r\n    ImplementationRequest.type = new messages_1.ProtocolRequestType(ImplementationRequest.method);\r\n})(ImplementationRequest = exports.ImplementationRequest || (exports.ImplementationRequest = {}));\r\n//# sourceMappingURL=protocol.implementation.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DocumentLinkRequest = exports.CodeLensRefreshRequest = exports.CodeLensResolveRequest = exports.CodeLensRequest = exports.WorkspaceSymbolRequest = exports.CodeActionResolveRequest = exports.CodeActionRequest = exports.DocumentSymbolRequest = exports.DocumentHighlightRequest = exports.ReferencesRequest = exports.DefinitionRequest = exports.SignatureHelpRequest = exports.SignatureHelpTriggerKind = exports.HoverRequest = exports.CompletionResolveRequest = exports.CompletionRequest = exports.CompletionTriggerKind = exports.PublishDiagnosticsNotification = exports.WatchKind = exports.FileChangeType = exports.DidChangeWatchedFilesNotification = exports.WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentNotification = exports.TextDocumentSaveReason = exports.DidSaveTextDocumentNotification = exports.DidCloseTextDocumentNotification = exports.DidChangeTextDocumentNotification = exports.TextDocumentContentChangeEvent = exports.DidOpenTextDocumentNotification = exports.TextDocumentSyncKind = exports.TelemetryEventNotification = exports.LogMessageNotification = exports.ShowMessageRequest = exports.ShowMessageNotification = exports.MessageType = exports.DidChangeConfigurationNotification = exports.ExitNotification = exports.ShutdownRequest = exports.InitializedNotification = exports.InitializeError = exports.InitializeRequest = exports.WorkDoneProgressOptions = exports.TextDocumentRegistrationOptions = exports.StaticRegistrationOptions = exports.FailureHandlingKind = exports.ResourceOperationKind = exports.UnregistrationRequest = exports.RegistrationRequest = exports.DocumentSelector = exports.DocumentFilter = void 0;\r\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = exports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.WillRenameFilesRequest = exports.DidRenameFilesNotification = exports.WillCreateFilesRequest = exports.DidCreateFilesNotification = exports.FileOperationPatternKind = exports.LinkedEditingRangeRequest = exports.ShowDocumentRequest = exports.SemanticTokensRegistrationType = exports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.TokenFormat = exports.SemanticTokens = exports.SemanticTokenModifiers = exports.SemanticTokenTypes = exports.CallHierarchyPrepareRequest = exports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = exports.SelectionRangeRequest = exports.DeclarationRequest = exports.FoldingRangeRequest = exports.ColorPresentationRequest = exports.DocumentColorRequest = exports.ConfigurationRequest = exports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = exports.TypeDefinitionRequest = exports.ImplementationRequest = exports.ApplyWorkspaceEditRequest = exports.ExecuteCommandRequest = exports.PrepareRenameRequest = exports.RenameRequest = exports.PrepareSupportDefaultBehavior = exports.DocumentOnTypeFormattingRequest = exports.DocumentRangeFormattingRequest = exports.DocumentFormattingRequest = exports.DocumentLinkResolveRequest = void 0;\r\nconst Is = require(\"./utils/is\");\r\nconst messages_1 = require(\"./messages\");\r\nconst protocol_implementation_1 = require(\"./protocol.implementation\");\r\nObject.defineProperty(exports, \"ImplementationRequest\", { enumerable: true, get: function () { return protocol_implementation_1.ImplementationRequest; } });\r\nconst protocol_typeDefinition_1 = require(\"./protocol.typeDefinition\");\r\nObject.defineProperty(exports, \"TypeDefinitionRequest\", { enumerable: true, get: function () { return protocol_typeDefinition_1.TypeDefinitionRequest; } });\r\nconst protocol_workspaceFolders_1 = require(\"./protocol.workspaceFolders\");\r\nObject.defineProperty(exports, \"WorkspaceFoldersRequest\", { enumerable: true, get: function () { return protocol_workspaceFolders_1.WorkspaceFoldersRequest; } });\r\nObject.defineProperty(exports, \"DidChangeWorkspaceFoldersNotification\", { enumerable: true, get: function () { return protocol_workspaceFolders_1.DidChangeWorkspaceFoldersNotification; } });\r\nconst protocol_configuration_1 = require(\"./protocol.configuration\");\r\nObject.defineProperty(exports, \"ConfigurationRequest\", { enumerable: true, get: function () { return protocol_configuration_1.ConfigurationRequest; } });\r\nconst protocol_colorProvider_1 = require(\"./protocol.colorProvider\");\r\nObject.defineProperty(exports, \"DocumentColorRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.DocumentColorRequest; } });\r\nObject.defineProperty(exports, \"ColorPresentationRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.ColorPresentationRequest; } });\r\nconst protocol_foldingRange_1 = require(\"./protocol.foldingRange\");\r\nObject.defineProperty(exports, \"FoldingRangeRequest\", { enumerable: true, get: function () { return protocol_foldingRange_1.FoldingRangeRequest; } });\r\nconst protocol_declaration_1 = require(\"./protocol.declaration\");\r\nObject.defineProperty(exports, \"DeclarationRequest\", { enumerable: true, get: function () { return protocol_declaration_1.DeclarationRequest; } });\r\nconst protocol_selectionRange_1 = require(\"./protocol.selectionRange\");\r\nObject.defineProperty(exports, \"SelectionRangeRequest\", { enumerable: true, get: function () { return protocol_selectionRange_1.SelectionRangeRequest; } });\r\nconst protocol_progress_1 = require(\"./protocol.progress\");\r\nObject.defineProperty(exports, \"WorkDoneProgress\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgress; } });\r\nObject.defineProperty(exports, \"WorkDoneProgressCreateRequest\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCreateRequest; } });\r\nObject.defineProperty(exports, \"WorkDoneProgressCancelNotification\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCancelNotification; } });\r\nconst protocol_callHierarchy_1 = require(\"./protocol.callHierarchy\");\r\nObject.defineProperty(exports, \"CallHierarchyIncomingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyIncomingCallsRequest; } });\r\nObject.defineProperty(exports, \"CallHierarchyOutgoingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyOutgoingCallsRequest; } });\r\nObject.defineProperty(exports, \"CallHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyPrepareRequest; } });\r\nconst protocol_semanticTokens_1 = require(\"./protocol.semanticTokens\");\r\nObject.defineProperty(exports, \"SemanticTokenTypes\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokenTypes; } });\r\nObject.defineProperty(exports, \"SemanticTokenModifiers\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokenModifiers; } });\r\nObject.defineProperty(exports, \"SemanticTokens\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokens; } });\r\nObject.defineProperty(exports, \"TokenFormat\", { enumerable: true, get: function () { return protocol_semanticTokens_1.TokenFormat; } });\r\nObject.defineProperty(exports, \"SemanticTokensRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRequest; } });\r\nObject.defineProperty(exports, \"SemanticTokensDeltaRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensDeltaRequest; } });\r\nObject.defineProperty(exports, \"SemanticTokensRangeRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRangeRequest; } });\r\nObject.defineProperty(exports, \"SemanticTokensRefreshRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRefreshRequest; } });\r\nObject.defineProperty(exports, \"SemanticTokensRegistrationType\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRegistrationType; } });\r\nconst protocol_showDocument_1 = require(\"./protocol.showDocument\");\r\nObject.defineProperty(exports, \"ShowDocumentRequest\", { enumerable: true, get: function () { return protocol_showDocument_1.ShowDocumentRequest; } });\r\nconst protocol_linkedEditingRange_1 = require(\"./protocol.linkedEditingRange\");\r\nObject.defineProperty(exports, \"LinkedEditingRangeRequest\", { enumerable: true, get: function () { return protocol_linkedEditingRange_1.LinkedEditingRangeRequest; } });\r\nconst protocol_fileOperations_1 = require(\"./protocol.fileOperations\");\r\nObject.defineProperty(exports, \"FileOperationPatternKind\", { enumerable: true, get: function () { return protocol_fileOperations_1.FileOperationPatternKind; } });\r\nObject.defineProperty(exports, \"DidCreateFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidCreateFilesNotification; } });\r\nObject.defineProperty(exports, \"WillCreateFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillCreateFilesRequest; } });\r\nObject.defineProperty(exports, \"DidRenameFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidRenameFilesNotification; } });\r\nObject.defineProperty(exports, \"WillRenameFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillRenameFilesRequest; } });\r\nObject.defineProperty(exports, \"DidDeleteFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidDeleteFilesNotification; } });\r\nObject.defineProperty(exports, \"WillDeleteFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillDeleteFilesRequest; } });\r\nconst protocol_moniker_1 = require(\"./protocol.moniker\");\r\nObject.defineProperty(exports, \"UniquenessLevel\", { enumerable: true, get: function () { return protocol_moniker_1.UniquenessLevel; } });\r\nObject.defineProperty(exports, \"MonikerKind\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerKind; } });\r\nObject.defineProperty(exports, \"MonikerRequest\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerRequest; } });\r\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * The DocumentFilter namespace provides helper functions to work with\r\n * [DocumentFilter](#DocumentFilter) literals.\r\n */\r\nvar DocumentFilter;\r\n(function (DocumentFilter) {\r\n    function is(value) {\r\n        const candidate = value;\r\n        return Is.string(candidate.language) || Is.string(candidate.scheme) || Is.string(candidate.pattern);\r\n    }\r\n    DocumentFilter.is = is;\r\n})(DocumentFilter = exports.DocumentFilter || (exports.DocumentFilter = {}));\r\n/**\r\n * The DocumentSelector namespace provides helper functions to work with\r\n * [DocumentSelector](#DocumentSelector)s.\r\n */\r\nvar DocumentSelector;\r\n(function (DocumentSelector) {\r\n    function is(value) {\r\n        if (!Array.isArray(value)) {\r\n            return false;\r\n        }\r\n        for (let elem of value) {\r\n            if (!Is.string(elem) && !DocumentFilter.is(elem)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    DocumentSelector.is = is;\r\n})(DocumentSelector = exports.DocumentSelector || (exports.DocumentSelector = {}));\r\n/**\r\n * The `client/registerCapability` request is sent from the server to the client to register a new capability\r\n * handler on the client side.\r\n */\r\nvar RegistrationRequest;\r\n(function (RegistrationRequest) {\r\n    RegistrationRequest.type = new messages_1.ProtocolRequestType('client/registerCapability');\r\n})(RegistrationRequest = exports.RegistrationRequest || (exports.RegistrationRequest = {}));\r\n/**\r\n * The `client/unregisterCapability` request is sent from the server to the client to unregister a previously registered capability\r\n * handler on the client side.\r\n */\r\nvar UnregistrationRequest;\r\n(function (UnregistrationRequest) {\r\n    UnregistrationRequest.type = new messages_1.ProtocolRequestType('client/unregisterCapability');\r\n})(UnregistrationRequest = exports.UnregistrationRequest || (exports.UnregistrationRequest = {}));\r\nvar ResourceOperationKind;\r\n(function (ResourceOperationKind) {\r\n    /**\r\n     * Supports creating new files and folders.\r\n     */\r\n    ResourceOperationKind.Create = 'create';\r\n    /**\r\n     * Supports renaming existing files and folders.\r\n     */\r\n    ResourceOperationKind.Rename = 'rename';\r\n    /**\r\n     * Supports deleting existing files and folders.\r\n     */\r\n    ResourceOperationKind.Delete = 'delete';\r\n})(ResourceOperationKind = exports.ResourceOperationKind || (exports.ResourceOperationKind = {}));\r\nvar FailureHandlingKind;\r\n(function (FailureHandlingKind) {\r\n    /**\r\n     * Applying the workspace change is simply aborted if one of the changes provided\r\n     * fails. All operations executed before the failing operation stay executed.\r\n     */\r\n    FailureHandlingKind.Abort = 'abort';\r\n    /**\r\n     * All operations are executed transactional. That means they either all\r\n     * succeed or no changes at all are applied to the workspace.\r\n     */\r\n    FailureHandlingKind.Transactional = 'transactional';\r\n    /**\r\n     * If the workspace edit contains only textual file changes they are executed transactional.\r\n     * If resource changes (create, rename or delete file) are part of the change the failure\r\n     * handling strategy is abort.\r\n     */\r\n    FailureHandlingKind.TextOnlyTransactional = 'textOnlyTransactional';\r\n    /**\r\n     * The client tries to undo the operations already executed. But there is no\r\n     * guarantee that this is succeeding.\r\n     */\r\n    FailureHandlingKind.Undo = 'undo';\r\n})(FailureHandlingKind = exports.FailureHandlingKind || (exports.FailureHandlingKind = {}));\r\n/**\r\n * The StaticRegistrationOptions namespace provides helper functions to work with\r\n * [StaticRegistrationOptions](#StaticRegistrationOptions) literals.\r\n */\r\nvar StaticRegistrationOptions;\r\n(function (StaticRegistrationOptions) {\r\n    function hasId(value) {\r\n        const candidate = value;\r\n        return candidate && Is.string(candidate.id) && candidate.id.length > 0;\r\n    }\r\n    StaticRegistrationOptions.hasId = hasId;\r\n})(StaticRegistrationOptions = exports.StaticRegistrationOptions || (exports.StaticRegistrationOptions = {}));\r\n/**\r\n * The TextDocumentRegistrationOptions namespace provides helper functions to work with\r\n * [TextDocumentRegistrationOptions](#TextDocumentRegistrationOptions) literals.\r\n */\r\nvar TextDocumentRegistrationOptions;\r\n(function (TextDocumentRegistrationOptions) {\r\n    function is(value) {\r\n        const candidate = value;\r\n        return candidate && (candidate.documentSelector === null || DocumentSelector.is(candidate.documentSelector));\r\n    }\r\n    TextDocumentRegistrationOptions.is = is;\r\n})(TextDocumentRegistrationOptions = exports.TextDocumentRegistrationOptions || (exports.TextDocumentRegistrationOptions = {}));\r\n/**\r\n * The WorkDoneProgressOptions namespace provides helper functions to work with\r\n * [WorkDoneProgressOptions](#WorkDoneProgressOptions) literals.\r\n */\r\nvar WorkDoneProgressOptions;\r\n(function (WorkDoneProgressOptions) {\r\n    function is(value) {\r\n        const candidate = value;\r\n        return Is.objectLiteral(candidate) && (candidate.workDoneProgress === undefined || Is.boolean(candidate.workDoneProgress));\r\n    }\r\n    WorkDoneProgressOptions.is = is;\r\n    function hasWorkDoneProgress(value) {\r\n        const candidate = value;\r\n        return candidate && Is.boolean(candidate.workDoneProgress);\r\n    }\r\n    WorkDoneProgressOptions.hasWorkDoneProgress = hasWorkDoneProgress;\r\n})(WorkDoneProgressOptions = exports.WorkDoneProgressOptions || (exports.WorkDoneProgressOptions = {}));\r\n/**\r\n * The initialize request is sent from the client to the server.\r\n * It is sent once as the request after starting up the server.\r\n * The requests parameter is of type [InitializeParams](#InitializeParams)\r\n * the response if of type [InitializeResult](#InitializeResult) of a Thenable that\r\n * resolves to such.\r\n */\r\nvar InitializeRequest;\r\n(function (InitializeRequest) {\r\n    InitializeRequest.type = new messages_1.ProtocolRequestType('initialize');\r\n})(InitializeRequest = exports.InitializeRequest || (exports.InitializeRequest = {}));\r\n/**\r\n * Known error codes for an `InitializeError`;\r\n */\r\nvar InitializeError;\r\n(function (InitializeError) {\r\n    /**\r\n     * If the protocol version provided by the client can't be handled by the server.\r\n     * @deprecated This initialize error got replaced by client capabilities. There is\r\n     * no version handshake in version 3.0x\r\n     */\r\n    InitializeError.unknownProtocolVersion = 1;\r\n})(InitializeError = exports.InitializeError || (exports.InitializeError = {}));\r\n/**\r\n * The initialized notification is sent from the client to the\r\n * server after the client is fully initialized and the server\r\n * is allowed to send requests from the server to the client.\r\n */\r\nvar InitializedNotification;\r\n(function (InitializedNotification) {\r\n    InitializedNotification.type = new messages_1.ProtocolNotificationType('initialized');\r\n})(InitializedNotification = exports.InitializedNotification || (exports.InitializedNotification = {}));\r\n//---- Shutdown Method ----\r\n/**\r\n * A shutdown request is sent from the client to the server.\r\n * It is sent once when the client decides to shutdown the\r\n * server. The only notification that is sent after a shutdown request\r\n * is the exit event.\r\n */\r\nvar ShutdownRequest;\r\n(function (ShutdownRequest) {\r\n    ShutdownRequest.type = new messages_1.ProtocolRequestType0('shutdown');\r\n})(ShutdownRequest = exports.ShutdownRequest || (exports.ShutdownRequest = {}));\r\n//---- Exit Notification ----\r\n/**\r\n * The exit event is sent from the client to the server to\r\n * ask the server to exit its process.\r\n */\r\nvar ExitNotification;\r\n(function (ExitNotification) {\r\n    ExitNotification.type = new messages_1.ProtocolNotificationType0('exit');\r\n})(ExitNotification = exports.ExitNotification || (exports.ExitNotification = {}));\r\n/**\r\n * The configuration change notification is sent from the client to the server\r\n * when the client's configuration has changed. The notification contains\r\n * the changed configuration as defined by the language client.\r\n */\r\nvar DidChangeConfigurationNotification;\r\n(function (DidChangeConfigurationNotification) {\r\n    DidChangeConfigurationNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeConfiguration');\r\n})(DidChangeConfigurationNotification = exports.DidChangeConfigurationNotification || (exports.DidChangeConfigurationNotification = {}));\r\n//---- Message show and log notifications ----\r\n/**\r\n * The message type\r\n */\r\nvar MessageType;\r\n(function (MessageType) {\r\n    /**\r\n     * An error message.\r\n     */\r\n    MessageType.Error = 1;\r\n    /**\r\n     * A warning message.\r\n     */\r\n    MessageType.Warning = 2;\r\n    /**\r\n     * An information message.\r\n     */\r\n    MessageType.Info = 3;\r\n    /**\r\n     * A log message.\r\n     */\r\n    MessageType.Log = 4;\r\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\r\n/**\r\n * The show message notification is sent from a server to a client to ask\r\n * the client to display a particular message in the user interface.\r\n */\r\nvar ShowMessageNotification;\r\n(function (ShowMessageNotification) {\r\n    ShowMessageNotification.type = new messages_1.ProtocolNotificationType('window/showMessage');\r\n})(ShowMessageNotification = exports.ShowMessageNotification || (exports.ShowMessageNotification = {}));\r\n/**\r\n * The show message request is sent from the server to the client to show a message\r\n * and a set of options actions to the user.\r\n */\r\nvar ShowMessageRequest;\r\n(function (ShowMessageRequest) {\r\n    ShowMessageRequest.type = new messages_1.ProtocolRequestType('window/showMessageRequest');\r\n})(ShowMessageRequest = exports.ShowMessageRequest || (exports.ShowMessageRequest = {}));\r\n/**\r\n * The log message notification is sent from the server to the client to ask\r\n * the client to log a particular message.\r\n */\r\nvar LogMessageNotification;\r\n(function (LogMessageNotification) {\r\n    LogMessageNotification.type = new messages_1.ProtocolNotificationType('window/logMessage');\r\n})(LogMessageNotification = exports.LogMessageNotification || (exports.LogMessageNotification = {}));\r\n//---- Telemetry notification\r\n/**\r\n * The telemetry event notification is sent from the server to the client to ask\r\n * the client to log telemetry data.\r\n */\r\nvar TelemetryEventNotification;\r\n(function (TelemetryEventNotification) {\r\n    TelemetryEventNotification.type = new messages_1.ProtocolNotificationType('telemetry/event');\r\n})(TelemetryEventNotification = exports.TelemetryEventNotification || (exports.TelemetryEventNotification = {}));\r\n/**\r\n * Defines how the host (editor) should sync\r\n * document changes to the language server.\r\n */\r\nvar TextDocumentSyncKind;\r\n(function (TextDocumentSyncKind) {\r\n    /**\r\n     * Documents should not be synced at all.\r\n     */\r\n    TextDocumentSyncKind.None = 0;\r\n    /**\r\n     * Documents are synced by always sending the full content\r\n     * of the document.\r\n     */\r\n    TextDocumentSyncKind.Full = 1;\r\n    /**\r\n     * Documents are synced by sending the full content on open.\r\n     * After that only incremental updates to the document are\r\n     * send.\r\n     */\r\n    TextDocumentSyncKind.Incremental = 2;\r\n})(TextDocumentSyncKind = exports.TextDocumentSyncKind || (exports.TextDocumentSyncKind = {}));\r\n/**\r\n * The document open notification is sent from the client to the server to signal\r\n * newly opened text documents. The document's truth is now managed by the client\r\n * and the server must not try to read the document's truth using the document's\r\n * uri. Open in this sense means it is managed by the client. It doesn't necessarily\r\n * mean that its content is presented in an editor. An open notification must not\r\n * be sent more than once without a corresponding close notification send before.\r\n * This means open and close notification must be balanced and the max open count\r\n * is one.\r\n */\r\nvar DidOpenTextDocumentNotification;\r\n(function (DidOpenTextDocumentNotification) {\r\n    DidOpenTextDocumentNotification.method = 'textDocument/didOpen';\r\n    DidOpenTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenTextDocumentNotification.method);\r\n})(DidOpenTextDocumentNotification = exports.DidOpenTextDocumentNotification || (exports.DidOpenTextDocumentNotification = {}));\r\nvar TextDocumentContentChangeEvent;\r\n(function (TextDocumentContentChangeEvent) {\r\n    /**\r\n     * Checks whether the information describes a delta event.\r\n     */\r\n    function isIncremental(event) {\r\n        let candidate = event;\r\n        return candidate !== undefined && candidate !== null &&\r\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\r\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\r\n    }\r\n    TextDocumentContentChangeEvent.isIncremental = isIncremental;\r\n    /**\r\n     * Checks whether the information describes a full replacement event.\r\n     */\r\n    function isFull(event) {\r\n        let candidate = event;\r\n        return candidate !== undefined && candidate !== null &&\r\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\r\n    }\r\n    TextDocumentContentChangeEvent.isFull = isFull;\r\n})(TextDocumentContentChangeEvent = exports.TextDocumentContentChangeEvent || (exports.TextDocumentContentChangeEvent = {}));\r\n/**\r\n * The document change notification is sent from the client to the server to signal\r\n * changes to a text document.\r\n */\r\nvar DidChangeTextDocumentNotification;\r\n(function (DidChangeTextDocumentNotification) {\r\n    DidChangeTextDocumentNotification.method = 'textDocument/didChange';\r\n    DidChangeTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeTextDocumentNotification.method);\r\n})(DidChangeTextDocumentNotification = exports.DidChangeTextDocumentNotification || (exports.DidChangeTextDocumentNotification = {}));\r\n/**\r\n * The document close notification is sent from the client to the server when\r\n * the document got closed in the client. The document's truth now exists where\r\n * the document's uri points to (e.g. if the document's uri is a file uri the\r\n * truth now exists on disk). As with the open notification the close notification\r\n * is about managing the document's content. Receiving a close notification\r\n * doesn't mean that the document was open in an editor before. A close\r\n * notification requires a previous open notification to be sent.\r\n */\r\nvar DidCloseTextDocumentNotification;\r\n(function (DidCloseTextDocumentNotification) {\r\n    DidCloseTextDocumentNotification.method = 'textDocument/didClose';\r\n    DidCloseTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseTextDocumentNotification.method);\r\n})(DidCloseTextDocumentNotification = exports.DidCloseTextDocumentNotification || (exports.DidCloseTextDocumentNotification = {}));\r\n/**\r\n * The document save notification is sent from the client to the server when\r\n * the document got saved in the client.\r\n */\r\nvar DidSaveTextDocumentNotification;\r\n(function (DidSaveTextDocumentNotification) {\r\n    DidSaveTextDocumentNotification.method = 'textDocument/didSave';\r\n    DidSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveTextDocumentNotification.method);\r\n})(DidSaveTextDocumentNotification = exports.DidSaveTextDocumentNotification || (exports.DidSaveTextDocumentNotification = {}));\r\n/**\r\n * Represents reasons why a text document is saved.\r\n */\r\nvar TextDocumentSaveReason;\r\n(function (TextDocumentSaveReason) {\r\n    /**\r\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\r\n     * or by an API call.\r\n     */\r\n    TextDocumentSaveReason.Manual = 1;\r\n    /**\r\n     * Automatic after a delay.\r\n     */\r\n    TextDocumentSaveReason.AfterDelay = 2;\r\n    /**\r\n     * When the editor lost focus.\r\n     */\r\n    TextDocumentSaveReason.FocusOut = 3;\r\n})(TextDocumentSaveReason = exports.TextDocumentSaveReason || (exports.TextDocumentSaveReason = {}));\r\n/**\r\n * A document will save notification is sent from the client to the server before\r\n * the document is actually saved.\r\n */\r\nvar WillSaveTextDocumentNotification;\r\n(function (WillSaveTextDocumentNotification) {\r\n    WillSaveTextDocumentNotification.method = 'textDocument/willSave';\r\n    WillSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(WillSaveTextDocumentNotification.method);\r\n})(WillSaveTextDocumentNotification = exports.WillSaveTextDocumentNotification || (exports.WillSaveTextDocumentNotification = {}));\r\n/**\r\n * A document will save request is sent from the client to the server before\r\n * the document is actually saved. The request can return an array of TextEdits\r\n * which will be applied to the text document before it is saved. Please note that\r\n * clients might drop results if computing the text edits took too long or if a\r\n * server constantly fails on this request. This is done to keep the save fast and\r\n * reliable.\r\n */\r\nvar WillSaveTextDocumentWaitUntilRequest;\r\n(function (WillSaveTextDocumentWaitUntilRequest) {\r\n    WillSaveTextDocumentWaitUntilRequest.method = 'textDocument/willSaveWaitUntil';\r\n    WillSaveTextDocumentWaitUntilRequest.type = new messages_1.ProtocolRequestType(WillSaveTextDocumentWaitUntilRequest.method);\r\n})(WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentWaitUntilRequest || (exports.WillSaveTextDocumentWaitUntilRequest = {}));\r\n/**\r\n * The watched files notification is sent from the client to the server when\r\n * the client detects changes to file watched by the language client.\r\n */\r\nvar DidChangeWatchedFilesNotification;\r\n(function (DidChangeWatchedFilesNotification) {\r\n    DidChangeWatchedFilesNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeWatchedFiles');\r\n})(DidChangeWatchedFilesNotification = exports.DidChangeWatchedFilesNotification || (exports.DidChangeWatchedFilesNotification = {}));\r\n/**\r\n * The file event type\r\n */\r\nvar FileChangeType;\r\n(function (FileChangeType) {\r\n    /**\r\n     * The file got created.\r\n     */\r\n    FileChangeType.Created = 1;\r\n    /**\r\n     * The file got changed.\r\n     */\r\n    FileChangeType.Changed = 2;\r\n    /**\r\n     * The file got deleted.\r\n     */\r\n    FileChangeType.Deleted = 3;\r\n})(FileChangeType = exports.FileChangeType || (exports.FileChangeType = {}));\r\nvar WatchKind;\r\n(function (WatchKind) {\r\n    /**\r\n     * Interested in create events.\r\n     */\r\n    WatchKind.Create = 1;\r\n    /**\r\n     * Interested in change events\r\n     */\r\n    WatchKind.Change = 2;\r\n    /**\r\n     * Interested in delete events\r\n     */\r\n    WatchKind.Delete = 4;\r\n})(WatchKind = exports.WatchKind || (exports.WatchKind = {}));\r\n/**\r\n * Diagnostics notification are sent from the server to the client to signal\r\n * results of validation runs.\r\n */\r\nvar PublishDiagnosticsNotification;\r\n(function (PublishDiagnosticsNotification) {\r\n    PublishDiagnosticsNotification.type = new messages_1.ProtocolNotificationType('textDocument/publishDiagnostics');\r\n})(PublishDiagnosticsNotification = exports.PublishDiagnosticsNotification || (exports.PublishDiagnosticsNotification = {}));\r\n/**\r\n * How a completion was triggered\r\n */\r\nvar CompletionTriggerKind;\r\n(function (CompletionTriggerKind) {\r\n    /**\r\n     * Completion was triggered by typing an identifier (24x7 code\r\n     * complete), manual invocation (e.g Ctrl+Space) or via API.\r\n     */\r\n    CompletionTriggerKind.Invoked = 1;\r\n    /**\r\n     * Completion was triggered by a trigger character specified by\r\n     * the `triggerCharacters` properties of the `CompletionRegistrationOptions`.\r\n     */\r\n    CompletionTriggerKind.TriggerCharacter = 2;\r\n    /**\r\n     * Completion was re-triggered as current completion list is incomplete\r\n     */\r\n    CompletionTriggerKind.TriggerForIncompleteCompletions = 3;\r\n})(CompletionTriggerKind = exports.CompletionTriggerKind || (exports.CompletionTriggerKind = {}));\r\n/**\r\n * Request to request completion at a given text document position. The request's\r\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response\r\n * is of type [CompletionItem[]](#CompletionItem) or [CompletionList](#CompletionList)\r\n * or a Thenable that resolves to such.\r\n *\r\n * The request can delay the computation of the [`detail`](#CompletionItem.detail)\r\n * and [`documentation`](#CompletionItem.documentation) properties to the `completionItem/resolve`\r\n * request. However, properties that are needed for the initial sorting and filtering, like `sortText`,\r\n * `filterText`, `insertText`, and `textEdit`, must not be changed during resolve.\r\n */\r\nvar CompletionRequest;\r\n(function (CompletionRequest) {\r\n    CompletionRequest.method = 'textDocument/completion';\r\n    CompletionRequest.type = new messages_1.ProtocolRequestType(CompletionRequest.method);\r\n})(CompletionRequest = exports.CompletionRequest || (exports.CompletionRequest = {}));\r\n/**\r\n * Request to resolve additional information for a given completion item.The request's\r\n * parameter is of type [CompletionItem](#CompletionItem) the response\r\n * is of type [CompletionItem](#CompletionItem) or a Thenable that resolves to such.\r\n */\r\nvar CompletionResolveRequest;\r\n(function (CompletionResolveRequest) {\r\n    CompletionResolveRequest.method = 'completionItem/resolve';\r\n    CompletionResolveRequest.type = new messages_1.ProtocolRequestType(CompletionResolveRequest.method);\r\n})(CompletionResolveRequest = exports.CompletionResolveRequest || (exports.CompletionResolveRequest = {}));\r\n/**\r\n * Request to request hover information at a given text document position. The request's\r\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response is of\r\n * type [Hover](#Hover) or a Thenable that resolves to such.\r\n */\r\nvar HoverRequest;\r\n(function (HoverRequest) {\r\n    HoverRequest.method = 'textDocument/hover';\r\n    HoverRequest.type = new messages_1.ProtocolRequestType(HoverRequest.method);\r\n})(HoverRequest = exports.HoverRequest || (exports.HoverRequest = {}));\r\n/**\r\n * How a signature help was triggered.\r\n *\r\n * @since 3.15.0\r\n */\r\nvar SignatureHelpTriggerKind;\r\n(function (SignatureHelpTriggerKind) {\r\n    /**\r\n     * Signature help was invoked manually by the user or by a command.\r\n     */\r\n    SignatureHelpTriggerKind.Invoked = 1;\r\n    /**\r\n     * Signature help was triggered by a trigger character.\r\n     */\r\n    SignatureHelpTriggerKind.TriggerCharacter = 2;\r\n    /**\r\n     * Signature help was triggered by the cursor moving or by the document content changing.\r\n     */\r\n    SignatureHelpTriggerKind.ContentChange = 3;\r\n})(SignatureHelpTriggerKind = exports.SignatureHelpTriggerKind || (exports.SignatureHelpTriggerKind = {}));\r\nvar SignatureHelpRequest;\r\n(function (SignatureHelpRequest) {\r\n    SignatureHelpRequest.method = 'textDocument/signatureHelp';\r\n    SignatureHelpRequest.type = new messages_1.ProtocolRequestType(SignatureHelpRequest.method);\r\n})(SignatureHelpRequest = exports.SignatureHelpRequest || (exports.SignatureHelpRequest = {}));\r\n/**\r\n * A request to resolve the definition location of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPosition]\r\n * (#TextDocumentPosition) the response is of either type [Definition](#Definition)\r\n * or a typed array of [DefinitionLink](#DefinitionLink) or a Thenable that resolves\r\n * to such.\r\n */\r\nvar DefinitionRequest;\r\n(function (DefinitionRequest) {\r\n    DefinitionRequest.method = 'textDocument/definition';\r\n    DefinitionRequest.type = new messages_1.ProtocolRequestType(DefinitionRequest.method);\r\n})(DefinitionRequest = exports.DefinitionRequest || (exports.DefinitionRequest = {}));\r\n/**\r\n * A request to resolve project-wide references for the symbol denoted\r\n * by the given text document position. The request's parameter is of\r\n * type [ReferenceParams](#ReferenceParams) the response is of type\r\n * [Location[]](#Location) or a Thenable that resolves to such.\r\n */\r\nvar ReferencesRequest;\r\n(function (ReferencesRequest) {\r\n    ReferencesRequest.method = 'textDocument/references';\r\n    ReferencesRequest.type = new messages_1.ProtocolRequestType(ReferencesRequest.method);\r\n})(ReferencesRequest = exports.ReferencesRequest || (exports.ReferencesRequest = {}));\r\n/**\r\n * Request to resolve a [DocumentHighlight](#DocumentHighlight) for a given\r\n * text document position. The request's parameter is of type [TextDocumentPosition]\r\n * (#TextDocumentPosition) the request response is of type [DocumentHighlight[]]\r\n * (#DocumentHighlight) or a Thenable that resolves to such.\r\n */\r\nvar DocumentHighlightRequest;\r\n(function (DocumentHighlightRequest) {\r\n    DocumentHighlightRequest.method = 'textDocument/documentHighlight';\r\n    DocumentHighlightRequest.type = new messages_1.ProtocolRequestType(DocumentHighlightRequest.method);\r\n})(DocumentHighlightRequest = exports.DocumentHighlightRequest || (exports.DocumentHighlightRequest = {}));\r\n/**\r\n * A request to list all symbols found in a given text document. The request's\r\n * parameter is of type [TextDocumentIdentifier](#TextDocumentIdentifier) the\r\n * response is of type [SymbolInformation[]](#SymbolInformation) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar DocumentSymbolRequest;\r\n(function (DocumentSymbolRequest) {\r\n    DocumentSymbolRequest.method = 'textDocument/documentSymbol';\r\n    DocumentSymbolRequest.type = new messages_1.ProtocolRequestType(DocumentSymbolRequest.method);\r\n})(DocumentSymbolRequest = exports.DocumentSymbolRequest || (exports.DocumentSymbolRequest = {}));\r\n/**\r\n * A request to provide commands for the given text document and range.\r\n */\r\nvar CodeActionRequest;\r\n(function (CodeActionRequest) {\r\n    CodeActionRequest.method = 'textDocument/codeAction';\r\n    CodeActionRequest.type = new messages_1.ProtocolRequestType(CodeActionRequest.method);\r\n})(CodeActionRequest = exports.CodeActionRequest || (exports.CodeActionRequest = {}));\r\n/**\r\n * Request to resolve additional information for a given code action.The request's\r\n * parameter is of type [CodeAction](#CodeAction) the response\r\n * is of type [CodeAction](#CodeAction) or a Thenable that resolves to such.\r\n */\r\nvar CodeActionResolveRequest;\r\n(function (CodeActionResolveRequest) {\r\n    CodeActionResolveRequest.method = 'codeAction/resolve';\r\n    CodeActionResolveRequest.type = new messages_1.ProtocolRequestType(CodeActionResolveRequest.method);\r\n})(CodeActionResolveRequest = exports.CodeActionResolveRequest || (exports.CodeActionResolveRequest = {}));\r\n/**\r\n * A request to list project-wide symbols matching the query string given\r\n * by the [WorkspaceSymbolParams](#WorkspaceSymbolParams). The response is\r\n * of type [SymbolInformation[]](#SymbolInformation) or a Thenable that\r\n * resolves to such.\r\n */\r\nvar WorkspaceSymbolRequest;\r\n(function (WorkspaceSymbolRequest) {\r\n    WorkspaceSymbolRequest.method = 'workspace/symbol';\r\n    WorkspaceSymbolRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolRequest.method);\r\n})(WorkspaceSymbolRequest = exports.WorkspaceSymbolRequest || (exports.WorkspaceSymbolRequest = {}));\r\n/**\r\n * A request to provide code lens for the given text document.\r\n */\r\nvar CodeLensRequest;\r\n(function (CodeLensRequest) {\r\n    CodeLensRequest.method = 'textDocument/codeLens';\r\n    CodeLensRequest.type = new messages_1.ProtocolRequestType(CodeLensRequest.method);\r\n})(CodeLensRequest = exports.CodeLensRequest || (exports.CodeLensRequest = {}));\r\n/**\r\n * A request to resolve a command for a given code lens.\r\n */\r\nvar CodeLensResolveRequest;\r\n(function (CodeLensResolveRequest) {\r\n    CodeLensResolveRequest.method = 'codeLens/resolve';\r\n    CodeLensResolveRequest.type = new messages_1.ProtocolRequestType(CodeLensResolveRequest.method);\r\n})(CodeLensResolveRequest = exports.CodeLensResolveRequest || (exports.CodeLensResolveRequest = {}));\r\n/**\r\n * A request to refresh all code actions\r\n *\r\n * @since 3.16.0\r\n */\r\nvar CodeLensRefreshRequest;\r\n(function (CodeLensRefreshRequest) {\r\n    CodeLensRefreshRequest.method = `workspace/codeLens/refresh`;\r\n    CodeLensRefreshRequest.type = new messages_1.ProtocolRequestType0(CodeLensRefreshRequest.method);\r\n})(CodeLensRefreshRequest = exports.CodeLensRefreshRequest || (exports.CodeLensRefreshRequest = {}));\r\n/**\r\n * A request to provide document links\r\n */\r\nvar DocumentLinkRequest;\r\n(function (DocumentLinkRequest) {\r\n    DocumentLinkRequest.method = 'textDocument/documentLink';\r\n    DocumentLinkRequest.type = new messages_1.ProtocolRequestType(DocumentLinkRequest.method);\r\n})(DocumentLinkRequest = exports.DocumentLinkRequest || (exports.DocumentLinkRequest = {}));\r\n/**\r\n * Request to resolve additional information for a given document link. The request's\r\n * parameter is of type [DocumentLink](#DocumentLink) the response\r\n * is of type [DocumentLink](#DocumentLink) or a Thenable that resolves to such.\r\n */\r\nvar DocumentLinkResolveRequest;\r\n(function (DocumentLinkResolveRequest) {\r\n    DocumentLinkResolveRequest.method = 'documentLink/resolve';\r\n    DocumentLinkResolveRequest.type = new messages_1.ProtocolRequestType(DocumentLinkResolveRequest.method);\r\n})(DocumentLinkResolveRequest = exports.DocumentLinkResolveRequest || (exports.DocumentLinkResolveRequest = {}));\r\n/**\r\n * A request to to format a whole document.\r\n */\r\nvar DocumentFormattingRequest;\r\n(function (DocumentFormattingRequest) {\r\n    DocumentFormattingRequest.method = 'textDocument/formatting';\r\n    DocumentFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentFormattingRequest.method);\r\n})(DocumentFormattingRequest = exports.DocumentFormattingRequest || (exports.DocumentFormattingRequest = {}));\r\n/**\r\n * A request to to format a range in a document.\r\n */\r\nvar DocumentRangeFormattingRequest;\r\n(function (DocumentRangeFormattingRequest) {\r\n    DocumentRangeFormattingRequest.method = 'textDocument/rangeFormatting';\r\n    DocumentRangeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangeFormattingRequest.method);\r\n})(DocumentRangeFormattingRequest = exports.DocumentRangeFormattingRequest || (exports.DocumentRangeFormattingRequest = {}));\r\n/**\r\n * A request to format a document on type.\r\n */\r\nvar DocumentOnTypeFormattingRequest;\r\n(function (DocumentOnTypeFormattingRequest) {\r\n    DocumentOnTypeFormattingRequest.method = 'textDocument/onTypeFormatting';\r\n    DocumentOnTypeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentOnTypeFormattingRequest.method);\r\n})(DocumentOnTypeFormattingRequest = exports.DocumentOnTypeFormattingRequest || (exports.DocumentOnTypeFormattingRequest = {}));\r\n//---- Rename ----------------------------------------------\r\nvar PrepareSupportDefaultBehavior;\r\n(function (PrepareSupportDefaultBehavior) {\r\n    /**\r\n     * The client's default behavior is to select the identifier\r\n     * according the to language's syntax rule.\r\n     */\r\n    PrepareSupportDefaultBehavior.Identifier = 1;\r\n})(PrepareSupportDefaultBehavior = exports.PrepareSupportDefaultBehavior || (exports.PrepareSupportDefaultBehavior = {}));\r\n/**\r\n * A request to rename a symbol.\r\n */\r\nvar RenameRequest;\r\n(function (RenameRequest) {\r\n    RenameRequest.method = 'textDocument/rename';\r\n    RenameRequest.type = new messages_1.ProtocolRequestType(RenameRequest.method);\r\n})(RenameRequest = exports.RenameRequest || (exports.RenameRequest = {}));\r\n/**\r\n * A request to test and perform the setup necessary for a rename.\r\n *\r\n * @since 3.16 - support for default behavior\r\n */\r\nvar PrepareRenameRequest;\r\n(function (PrepareRenameRequest) {\r\n    PrepareRenameRequest.method = 'textDocument/prepareRename';\r\n    PrepareRenameRequest.type = new messages_1.ProtocolRequestType(PrepareRenameRequest.method);\r\n})(PrepareRenameRequest = exports.PrepareRenameRequest || (exports.PrepareRenameRequest = {}));\r\n/**\r\n * A request send from the client to the server to execute a command. The request might return\r\n * a workspace edit which the client will apply to the workspace.\r\n */\r\nvar ExecuteCommandRequest;\r\n(function (ExecuteCommandRequest) {\r\n    ExecuteCommandRequest.type = new messages_1.ProtocolRequestType('workspace/executeCommand');\r\n})(ExecuteCommandRequest = exports.ExecuteCommandRequest || (exports.ExecuteCommandRequest = {}));\r\n/**\r\n * A request sent from the server to the client to modified certain resources.\r\n */\r\nvar ApplyWorkspaceEditRequest;\r\n(function (ApplyWorkspaceEditRequest) {\r\n    ApplyWorkspaceEditRequest.type = new messages_1.ProtocolRequestType('workspace/applyEdit');\r\n})(ApplyWorkspaceEditRequest = exports.ApplyWorkspaceEditRequest || (exports.ApplyWorkspaceEditRequest = {}));\r\n//# sourceMappingURL=protocol.js.map","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LinkedEditingRangeRequest = void 0;\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * A request to provide ranges that can be edited together.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar LinkedEditingRangeRequest;\r\n(function (LinkedEditingRangeRequest) {\r\n    LinkedEditingRangeRequest.method = 'textDocument/linkedEditingRange';\r\n    LinkedEditingRangeRequest.type = new messages_1.ProtocolRequestType(LinkedEditingRangeRequest.method);\r\n})(LinkedEditingRangeRequest = exports.LinkedEditingRangeRequest || (exports.LinkedEditingRangeRequest = {}));\r\n//# sourceMappingURL=protocol.linkedEditingRange.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = void 0;\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * Moniker uniqueness level to define scope of the moniker.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar UniquenessLevel;\r\n(function (UniquenessLevel) {\r\n    /**\r\n     * The moniker is only unique inside a document\r\n     */\r\n    UniquenessLevel[\"document\"] = \"document\";\r\n    /**\r\n     * The moniker is unique inside a project for which a dump got created\r\n     */\r\n    UniquenessLevel[\"project\"] = \"project\";\r\n    /**\r\n     * The moniker is unique inside the group to which a project belongs\r\n     */\r\n    UniquenessLevel[\"group\"] = \"group\";\r\n    /**\r\n     * The moniker is unique inside the moniker scheme.\r\n     */\r\n    UniquenessLevel[\"scheme\"] = \"scheme\";\r\n    /**\r\n     * The moniker is globally unique\r\n     */\r\n    UniquenessLevel[\"global\"] = \"global\";\r\n})(UniquenessLevel = exports.UniquenessLevel || (exports.UniquenessLevel = {}));\r\n/**\r\n * The moniker kind.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar MonikerKind;\r\n(function (MonikerKind) {\r\n    /**\r\n     * The moniker represent a symbol that is imported into a project\r\n     */\r\n    MonikerKind[\"import\"] = \"import\";\r\n    /**\r\n     * The moniker represents a symbol that is exported from a project\r\n     */\r\n    MonikerKind[\"export\"] = \"export\";\r\n    /**\r\n     * The moniker represents a symbol that is local to a project (e.g. a local\r\n     * variable of a function, a class not visible outside the project, ...)\r\n     */\r\n    MonikerKind[\"local\"] = \"local\";\r\n})(MonikerKind = exports.MonikerKind || (exports.MonikerKind = {}));\r\n/**\r\n * A request to get the moniker of a symbol at a given text document position.\r\n * The request parameter is of type [TextDocumentPositionParams](#TextDocumentPositionParams).\r\n * The response is of type [Moniker[]](#Moniker[]) or `null`.\r\n */\r\nvar MonikerRequest;\r\n(function (MonikerRequest) {\r\n    MonikerRequest.method = 'textDocument/moniker';\r\n    MonikerRequest.type = new messages_1.ProtocolRequestType(MonikerRequest.method);\r\n})(MonikerRequest = exports.MonikerRequest || (exports.MonikerRequest = {}));\r\n//# sourceMappingURL=protocol.moniker.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = void 0;\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst messages_1 = require(\"./messages\");\r\nvar WorkDoneProgress;\r\n(function (WorkDoneProgress) {\r\n    WorkDoneProgress.type = new vscode_jsonrpc_1.ProgressType();\r\n    function is(value) {\r\n        return value === WorkDoneProgress.type;\r\n    }\r\n    WorkDoneProgress.is = is;\r\n})(WorkDoneProgress = exports.WorkDoneProgress || (exports.WorkDoneProgress = {}));\r\n/**\r\n * The `window/workDoneProgress/create` request is sent from the server to the client to initiate progress\r\n * reporting from the server.\r\n */\r\nvar WorkDoneProgressCreateRequest;\r\n(function (WorkDoneProgressCreateRequest) {\r\n    WorkDoneProgressCreateRequest.type = new messages_1.ProtocolRequestType('window/workDoneProgress/create');\r\n})(WorkDoneProgressCreateRequest = exports.WorkDoneProgressCreateRequest || (exports.WorkDoneProgressCreateRequest = {}));\r\n/**\r\n * The `window/workDoneProgress/cancel` notification is sent from  the client to the server to cancel a progress\r\n * initiated on the server side.\r\n */\r\nvar WorkDoneProgressCancelNotification;\r\n(function (WorkDoneProgressCancelNotification) {\r\n    WorkDoneProgressCancelNotification.type = new messages_1.ProtocolNotificationType('window/workDoneProgress/cancel');\r\n})(WorkDoneProgressCancelNotification = exports.WorkDoneProgressCancelNotification || (exports.WorkDoneProgressCancelNotification = {}));\r\n//# sourceMappingURL=protocol.progress.js.map","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SelectionRangeRequest = void 0;\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * A request to provide selection ranges in a document. The request's\r\n * parameter is of type [SelectionRangeParams](#SelectionRangeParams), the\r\n * response is of type [SelectionRange[]](#SelectionRange[]) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar SelectionRangeRequest;\r\n(function (SelectionRangeRequest) {\r\n    SelectionRangeRequest.method = 'textDocument/selectionRange';\r\n    SelectionRangeRequest.type = new messages_1.ProtocolRequestType(SelectionRangeRequest.method);\r\n})(SelectionRangeRequest = exports.SelectionRangeRequest || (exports.SelectionRangeRequest = {}));\r\n//# sourceMappingURL=protocol.selectionRange.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.SemanticTokensRegistrationType = exports.TokenFormat = exports.SemanticTokens = exports.SemanticTokenModifiers = exports.SemanticTokenTypes = void 0;\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * A set of predefined token types. This set is not fixed\r\n * an clients can specify additional token types via the\r\n * corresponding client capabilities.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar SemanticTokenTypes;\r\n(function (SemanticTokenTypes) {\r\n    SemanticTokenTypes[\"namespace\"] = \"namespace\";\r\n    /**\r\n     * Represents a generic type. Acts as a fallback for types which can't be mapped to\r\n     * a specific type like class or enum.\r\n     */\r\n    SemanticTokenTypes[\"type\"] = \"type\";\r\n    SemanticTokenTypes[\"class\"] = \"class\";\r\n    SemanticTokenTypes[\"enum\"] = \"enum\";\r\n    SemanticTokenTypes[\"interface\"] = \"interface\";\r\n    SemanticTokenTypes[\"struct\"] = \"struct\";\r\n    SemanticTokenTypes[\"typeParameter\"] = \"typeParameter\";\r\n    SemanticTokenTypes[\"parameter\"] = \"parameter\";\r\n    SemanticTokenTypes[\"variable\"] = \"variable\";\r\n    SemanticTokenTypes[\"property\"] = \"property\";\r\n    SemanticTokenTypes[\"enumMember\"] = \"enumMember\";\r\n    SemanticTokenTypes[\"event\"] = \"event\";\r\n    SemanticTokenTypes[\"function\"] = \"function\";\r\n    SemanticTokenTypes[\"method\"] = \"method\";\r\n    SemanticTokenTypes[\"macro\"] = \"macro\";\r\n    SemanticTokenTypes[\"keyword\"] = \"keyword\";\r\n    SemanticTokenTypes[\"modifier\"] = \"modifier\";\r\n    SemanticTokenTypes[\"comment\"] = \"comment\";\r\n    SemanticTokenTypes[\"string\"] = \"string\";\r\n    SemanticTokenTypes[\"number\"] = \"number\";\r\n    SemanticTokenTypes[\"regexp\"] = \"regexp\";\r\n    SemanticTokenTypes[\"operator\"] = \"operator\";\r\n})(SemanticTokenTypes = exports.SemanticTokenTypes || (exports.SemanticTokenTypes = {}));\r\n/**\r\n * A set of predefined token modifiers. This set is not fixed\r\n * an clients can specify additional token types via the\r\n * corresponding client capabilities.\r\n *\r\n * @since 3.16.0\r\n */\r\nvar SemanticTokenModifiers;\r\n(function (SemanticTokenModifiers) {\r\n    SemanticTokenModifiers[\"declaration\"] = \"declaration\";\r\n    SemanticTokenModifiers[\"definition\"] = \"definition\";\r\n    SemanticTokenModifiers[\"readonly\"] = \"readonly\";\r\n    SemanticTokenModifiers[\"static\"] = \"static\";\r\n    SemanticTokenModifiers[\"deprecated\"] = \"deprecated\";\r\n    SemanticTokenModifiers[\"abstract\"] = \"abstract\";\r\n    SemanticTokenModifiers[\"async\"] = \"async\";\r\n    SemanticTokenModifiers[\"modification\"] = \"modification\";\r\n    SemanticTokenModifiers[\"documentation\"] = \"documentation\";\r\n    SemanticTokenModifiers[\"defaultLibrary\"] = \"defaultLibrary\";\r\n})(SemanticTokenModifiers = exports.SemanticTokenModifiers || (exports.SemanticTokenModifiers = {}));\r\n/**\r\n * @since 3.16.0\r\n */\r\nvar SemanticTokens;\r\n(function (SemanticTokens) {\r\n    function is(value) {\r\n        const candidate = value;\r\n        return candidate !== undefined && (candidate.resultId === undefined || typeof candidate.resultId === 'string') &&\r\n            Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === 'number');\r\n    }\r\n    SemanticTokens.is = is;\r\n})(SemanticTokens = exports.SemanticTokens || (exports.SemanticTokens = {}));\r\n//------- 'textDocument/semanticTokens' -----\r\nvar TokenFormat;\r\n(function (TokenFormat) {\r\n    TokenFormat.Relative = 'relative';\r\n})(TokenFormat = exports.TokenFormat || (exports.TokenFormat = {}));\r\nvar SemanticTokensRegistrationType;\r\n(function (SemanticTokensRegistrationType) {\r\n    SemanticTokensRegistrationType.method = 'textDocument/semanticTokens';\r\n    SemanticTokensRegistrationType.type = new messages_1.RegistrationType(SemanticTokensRegistrationType.method);\r\n})(SemanticTokensRegistrationType = exports.SemanticTokensRegistrationType || (exports.SemanticTokensRegistrationType = {}));\r\n/**\r\n * @since 3.16.0\r\n */\r\nvar SemanticTokensRequest;\r\n(function (SemanticTokensRequest) {\r\n    SemanticTokensRequest.method = 'textDocument/semanticTokens/full';\r\n    SemanticTokensRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRequest.method);\r\n})(SemanticTokensRequest = exports.SemanticTokensRequest || (exports.SemanticTokensRequest = {}));\r\n/**\r\n * @since 3.16.0\r\n */\r\nvar SemanticTokensDeltaRequest;\r\n(function (SemanticTokensDeltaRequest) {\r\n    SemanticTokensDeltaRequest.method = 'textDocument/semanticTokens/full/delta';\r\n    SemanticTokensDeltaRequest.type = new messages_1.ProtocolRequestType(SemanticTokensDeltaRequest.method);\r\n})(SemanticTokensDeltaRequest = exports.SemanticTokensDeltaRequest || (exports.SemanticTokensDeltaRequest = {}));\r\n/**\r\n * @since 3.16.0\r\n */\r\nvar SemanticTokensRangeRequest;\r\n(function (SemanticTokensRangeRequest) {\r\n    SemanticTokensRangeRequest.method = 'textDocument/semanticTokens/range';\r\n    SemanticTokensRangeRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRangeRequest.method);\r\n})(SemanticTokensRangeRequest = exports.SemanticTokensRangeRequest || (exports.SemanticTokensRangeRequest = {}));\r\n/**\r\n * @since 3.16.0\r\n */\r\nvar SemanticTokensRefreshRequest;\r\n(function (SemanticTokensRefreshRequest) {\r\n    SemanticTokensRefreshRequest.method = `workspace/semanticTokens/refresh`;\r\n    SemanticTokensRefreshRequest.type = new messages_1.ProtocolRequestType0(SemanticTokensRefreshRequest.method);\r\n})(SemanticTokensRefreshRequest = exports.SemanticTokensRefreshRequest || (exports.SemanticTokensRefreshRequest = {}));\r\n//# sourceMappingURL=protocol.semanticTokens.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ShowDocumentRequest = void 0;\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * A request to show a document. This request might open an\r\n * external program depending on the value of the URI to open.\r\n * For example a request to open `https://code.visualstudio.com/`\r\n * will very likely open the URI in a WEB browser.\r\n *\r\n * @since 3.16.0\r\n*/\r\nvar ShowDocumentRequest;\r\n(function (ShowDocumentRequest) {\r\n    ShowDocumentRequest.method = 'window/showDocument';\r\n    ShowDocumentRequest.type = new messages_1.ProtocolRequestType(ShowDocumentRequest.method);\r\n})(ShowDocumentRequest = exports.ShowDocumentRequest || (exports.ShowDocumentRequest = {}));\r\n//# sourceMappingURL=protocol.showDocument.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TypeDefinitionRequest = void 0;\r\nconst messages_1 = require(\"./messages\");\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * A request to resolve the type definition locations of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPositioParams]\r\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\r\n * Thenable that resolves to such.\r\n */\r\nvar TypeDefinitionRequest;\r\n(function (TypeDefinitionRequest) {\r\n    TypeDefinitionRequest.method = 'textDocument/typeDefinition';\r\n    TypeDefinitionRequest.type = new messages_1.ProtocolRequestType(TypeDefinitionRequest.method);\r\n})(TypeDefinitionRequest = exports.TypeDefinitionRequest || (exports.TypeDefinitionRequest = {}));\r\n//# sourceMappingURL=protocol.typeDefinition.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = void 0;\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * The `workspace/workspaceFolders` is sent from the server to the client to fetch the open workspace folders.\r\n */\r\nvar WorkspaceFoldersRequest;\r\n(function (WorkspaceFoldersRequest) {\r\n    WorkspaceFoldersRequest.type = new messages_1.ProtocolRequestType0('workspace/workspaceFolders');\r\n})(WorkspaceFoldersRequest = exports.WorkspaceFoldersRequest || (exports.WorkspaceFoldersRequest = {}));\r\n/**\r\n * The `workspace/didChangeWorkspaceFolders` notification is sent from the client to the server when the workspace\r\n * folder configuration changes.\r\n */\r\nvar DidChangeWorkspaceFoldersNotification;\r\n(function (DidChangeWorkspaceFoldersNotification) {\r\n    DidChangeWorkspaceFoldersNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeWorkspaceFolders');\r\n})(DidChangeWorkspaceFoldersNotification = exports.DidChangeWorkspaceFoldersNotification || (exports.DidChangeWorkspaceFoldersNotification = {}));\r\n//# sourceMappingURL=protocol.workspaceFolders.js.map","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.objectLiteral = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\r\nfunction boolean(value) {\r\n    return value === true || value === false;\r\n}\r\nexports.boolean = boolean;\r\nfunction string(value) {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\nexports.string = string;\r\nfunction number(value) {\r\n    return typeof value === 'number' || value instanceof Number;\r\n}\r\nexports.number = number;\r\nfunction error(value) {\r\n    return value instanceof Error;\r\n}\r\nexports.error = error;\r\nfunction func(value) {\r\n    return typeof value === 'function';\r\n}\r\nexports.func = func;\r\nfunction array(value) {\r\n    return Array.isArray(value);\r\n}\r\nexports.array = array;\r\nfunction stringArray(value) {\r\n    return array(value) && value.every(elem => string(elem));\r\n}\r\nexports.stringArray = stringArray;\r\nfunction typedArray(value, check) {\r\n    return Array.isArray(value) && value.every(check);\r\n}\r\nexports.typedArray = typedArray;\r\nfunction objectLiteral(value) {\r\n    // Strictly speaking class instances pass this check as well. Since the LSP\r\n    // doesn't use classes we ignore this for now. If we do we need to add something\r\n    // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\r\n    return value !== null && typeof value === 'object';\r\n}\r\nexports.objectLiteral = objectLiteral;\r\n//# sourceMappingURL=is.js.map","\"use strict\";\r\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.createProtocolConnection = void 0;\r\nconst node_1 = require(\"vscode-jsonrpc/node\");\r\n__exportStar(require(\"vscode-jsonrpc/node\"), exports);\r\n__exportStar(require(\"../common/api\"), exports);\r\nfunction createProtocolConnection(input, output, logger, options) {\r\n    return node_1.createMessageConnection(input, output, logger, options);\r\n}\r\nexports.createProtocolConnection = createProtocolConnection;\r\n//# sourceMappingURL=main.js.map","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ----------------------------------------------------------------------------------------- */\r\n'use strict';\r\n\r\nmodule.exports = require('./lib/node/main');","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nexport var integer;\r\n(function (integer) {\r\n    integer.MIN_VALUE = -2147483648;\r\n    integer.MAX_VALUE = 2147483647;\r\n})(integer || (integer = {}));\r\nexport var uinteger;\r\n(function (uinteger) {\r\n    uinteger.MIN_VALUE = 0;\r\n    uinteger.MAX_VALUE = 2147483647;\r\n})(uinteger || (uinteger = {}));\r\n/**\r\n * The Position namespace provides helper functions to work with\r\n * [Position](#Position) literals.\r\n */\r\nexport var Position;\r\n(function (Position) {\r\n    /**\r\n     * Creates a new Position literal from the given line and character.\r\n     * @param line The position's line.\r\n     * @param character The position's character.\r\n     */\r\n    function create(line, character) {\r\n        if (line === Number.MAX_VALUE) {\r\n            line = uinteger.MAX_VALUE;\r\n        }\r\n        if (character === Number.MAX_VALUE) {\r\n            character = uinteger.MAX_VALUE;\r\n        }\r\n        return { line: line, character: character };\r\n    }\r\n    Position.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Position](#Position) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.line) && Is.uinteger(candidate.character);\r\n    }\r\n    Position.is = is;\r\n})(Position || (Position = {}));\r\n/**\r\n * The Range namespace provides helper functions to work with\r\n * [Range](#Range) literals.\r\n */\r\nexport var Range;\r\n(function (Range) {\r\n    function create(one, two, three, four) {\r\n        if (Is.uinteger(one) && Is.uinteger(two) && Is.uinteger(three) && Is.uinteger(four)) {\r\n            return { start: Position.create(one, two), end: Position.create(three, four) };\r\n        }\r\n        else if (Position.is(one) && Position.is(two)) {\r\n            return { start: one, end: two };\r\n        }\r\n        else {\r\n            throw new Error(\"Range#create called with invalid arguments[\" + one + \", \" + two + \", \" + three + \", \" + four + \"]\");\r\n        }\r\n    }\r\n    Range.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Range](#Range) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\r\n    }\r\n    Range.is = is;\r\n})(Range || (Range = {}));\r\n/**\r\n * The Location namespace provides helper functions to work with\r\n * [Location](#Location) literals.\r\n */\r\nexport var Location;\r\n(function (Location) {\r\n    /**\r\n     * Creates a Location literal.\r\n     * @param uri The location's uri.\r\n     * @param range The location's range.\r\n     */\r\n    function create(uri, range) {\r\n        return { uri: uri, range: range };\r\n    }\r\n    Location.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Location](#Location) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\r\n    }\r\n    Location.is = is;\r\n})(Location || (Location = {}));\r\n/**\r\n * The LocationLink namespace provides helper functions to work with\r\n * [LocationLink](#LocationLink) literals.\r\n */\r\nexport var LocationLink;\r\n(function (LocationLink) {\r\n    /**\r\n     * Creates a LocationLink literal.\r\n     * @param targetUri The definition's uri.\r\n     * @param targetRange The full range of the definition.\r\n     * @param targetSelectionRange The span of the symbol definition at the target.\r\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\r\n     */\r\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\r\n        return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\r\n    }\r\n    LocationLink.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [LocationLink](#LocationLink) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\r\n            && (Range.is(candidate.targetSelectionRange) || Is.undefined(candidate.targetSelectionRange))\r\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\r\n    }\r\n    LocationLink.is = is;\r\n})(LocationLink || (LocationLink = {}));\r\n/**\r\n * The Color namespace provides helper functions to work with\r\n * [Color](#Color) literals.\r\n */\r\nexport var Color;\r\n(function (Color) {\r\n    /**\r\n     * Creates a new Color literal.\r\n     */\r\n    function create(red, green, blue, alpha) {\r\n        return {\r\n            red: red,\r\n            green: green,\r\n            blue: blue,\r\n            alpha: alpha,\r\n        };\r\n    }\r\n    Color.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Color](#Color) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.numberRange(candidate.red, 0, 1)\r\n            && Is.numberRange(candidate.green, 0, 1)\r\n            && Is.numberRange(candidate.blue, 0, 1)\r\n            && Is.numberRange(candidate.alpha, 0, 1);\r\n    }\r\n    Color.is = is;\r\n})(Color || (Color = {}));\r\n/**\r\n * The ColorInformation namespace provides helper functions to work with\r\n * [ColorInformation](#ColorInformation) literals.\r\n */\r\nexport var ColorInformation;\r\n(function (ColorInformation) {\r\n    /**\r\n     * Creates a new ColorInformation literal.\r\n     */\r\n    function create(range, color) {\r\n        return {\r\n            range: range,\r\n            color: color,\r\n        };\r\n    }\r\n    ColorInformation.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Range.is(candidate.range) && Color.is(candidate.color);\r\n    }\r\n    ColorInformation.is = is;\r\n})(ColorInformation || (ColorInformation = {}));\r\n/**\r\n * The Color namespace provides helper functions to work with\r\n * [ColorPresentation](#ColorPresentation) literals.\r\n */\r\nexport var ColorPresentation;\r\n(function (ColorPresentation) {\r\n    /**\r\n     * Creates a new ColorInformation literal.\r\n     */\r\n    function create(label, textEdit, additionalTextEdits) {\r\n        return {\r\n            label: label,\r\n            textEdit: textEdit,\r\n            additionalTextEdits: additionalTextEdits,\r\n        };\r\n    }\r\n    ColorPresentation.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.string(candidate.label)\r\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\r\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\r\n    }\r\n    ColorPresentation.is = is;\r\n})(ColorPresentation || (ColorPresentation = {}));\r\n/**\r\n * Enum of known range kinds\r\n */\r\nexport var FoldingRangeKind;\r\n(function (FoldingRangeKind) {\r\n    /**\r\n     * Folding range for a comment\r\n     */\r\n    FoldingRangeKind[\"Comment\"] = \"comment\";\r\n    /**\r\n     * Folding range for a imports or includes\r\n     */\r\n    FoldingRangeKind[\"Imports\"] = \"imports\";\r\n    /**\r\n     * Folding range for a region (e.g. `#region`)\r\n     */\r\n    FoldingRangeKind[\"Region\"] = \"region\";\r\n})(FoldingRangeKind || (FoldingRangeKind = {}));\r\n/**\r\n * The folding range namespace provides helper functions to work with\r\n * [FoldingRange](#FoldingRange) literals.\r\n */\r\nexport var FoldingRange;\r\n(function (FoldingRange) {\r\n    /**\r\n     * Creates a new FoldingRange literal.\r\n     */\r\n    function create(startLine, endLine, startCharacter, endCharacter, kind) {\r\n        var result = {\r\n            startLine: startLine,\r\n            endLine: endLine\r\n        };\r\n        if (Is.defined(startCharacter)) {\r\n            result.startCharacter = startCharacter;\r\n        }\r\n        if (Is.defined(endCharacter)) {\r\n            result.endCharacter = endCharacter;\r\n        }\r\n        if (Is.defined(kind)) {\r\n            result.kind = kind;\r\n        }\r\n        return result;\r\n    }\r\n    FoldingRange.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [FoldingRange](#FoldingRange) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.uinteger(candidate.startLine) && Is.uinteger(candidate.startLine)\r\n            && (Is.undefined(candidate.startCharacter) || Is.uinteger(candidate.startCharacter))\r\n            && (Is.undefined(candidate.endCharacter) || Is.uinteger(candidate.endCharacter))\r\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\r\n    }\r\n    FoldingRange.is = is;\r\n})(FoldingRange || (FoldingRange = {}));\r\n/**\r\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\r\n * [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) literals.\r\n */\r\nexport var DiagnosticRelatedInformation;\r\n(function (DiagnosticRelatedInformation) {\r\n    /**\r\n     * Creates a new DiagnosticRelatedInformation literal.\r\n     */\r\n    function create(location, message) {\r\n        return {\r\n            location: location,\r\n            message: message\r\n        };\r\n    }\r\n    DiagnosticRelatedInformation.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\r\n    }\r\n    DiagnosticRelatedInformation.is = is;\r\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\r\n/**\r\n * The diagnostic's severity.\r\n */\r\nexport var DiagnosticSeverity;\r\n(function (DiagnosticSeverity) {\r\n    /**\r\n     * Reports an error.\r\n     */\r\n    DiagnosticSeverity.Error = 1;\r\n    /**\r\n     * Reports a warning.\r\n     */\r\n    DiagnosticSeverity.Warning = 2;\r\n    /**\r\n     * Reports an information.\r\n     */\r\n    DiagnosticSeverity.Information = 3;\r\n    /**\r\n     * Reports a hint.\r\n     */\r\n    DiagnosticSeverity.Hint = 4;\r\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\r\n/**\r\n * The diagnostic tags.\r\n *\r\n * @since 3.15.0\r\n */\r\nexport var DiagnosticTag;\r\n(function (DiagnosticTag) {\r\n    /**\r\n     * Unused or unnecessary code.\r\n     *\r\n     * Clients are allowed to render diagnostics with this tag faded out instead of having\r\n     * an error squiggle.\r\n     */\r\n    DiagnosticTag.Unnecessary = 1;\r\n    /**\r\n     * Deprecated or obsolete code.\r\n     *\r\n     * Clients are allowed to rendered diagnostics with this tag strike through.\r\n     */\r\n    DiagnosticTag.Deprecated = 2;\r\n})(DiagnosticTag || (DiagnosticTag = {}));\r\n/**\r\n * The CodeDescription namespace provides functions to deal with descriptions for diagnostic codes.\r\n *\r\n * @since 3.16.0\r\n */\r\nexport var CodeDescription;\r\n(function (CodeDescription) {\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate !== undefined && candidate !== null && Is.string(candidate.href);\r\n    }\r\n    CodeDescription.is = is;\r\n})(CodeDescription || (CodeDescription = {}));\r\n/**\r\n * The Diagnostic namespace provides helper functions to work with\r\n * [Diagnostic](#Diagnostic) literals.\r\n */\r\nexport var Diagnostic;\r\n(function (Diagnostic) {\r\n    /**\r\n     * Creates a new Diagnostic literal.\r\n     */\r\n    function create(range, message, severity, code, source, relatedInformation) {\r\n        var result = { range: range, message: message };\r\n        if (Is.defined(severity)) {\r\n            result.severity = severity;\r\n        }\r\n        if (Is.defined(code)) {\r\n            result.code = code;\r\n        }\r\n        if (Is.defined(source)) {\r\n            result.source = source;\r\n        }\r\n        if (Is.defined(relatedInformation)) {\r\n            result.relatedInformation = relatedInformation;\r\n        }\r\n        return result;\r\n    }\r\n    Diagnostic.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Diagnostic](#Diagnostic) interface.\r\n     */\r\n    function is(value) {\r\n        var _a;\r\n        var candidate = value;\r\n        return Is.defined(candidate)\r\n            && Range.is(candidate.range)\r\n            && Is.string(candidate.message)\r\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\r\n            && (Is.integer(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\r\n            && (Is.undefined(candidate.codeDescription) || (Is.string((_a = candidate.codeDescription) === null || _a === void 0 ? void 0 : _a.href)))\r\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\r\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\r\n    }\r\n    Diagnostic.is = is;\r\n})(Diagnostic || (Diagnostic = {}));\r\n/**\r\n * The Command namespace provides helper functions to work with\r\n * [Command](#Command) literals.\r\n */\r\nexport var Command;\r\n(function (Command) {\r\n    /**\r\n     * Creates a new Command literal.\r\n     */\r\n    function create(title, command) {\r\n        var args = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            args[_i - 2] = arguments[_i];\r\n        }\r\n        var result = { title: title, command: command };\r\n        if (Is.defined(args) && args.length > 0) {\r\n            result.arguments = args;\r\n        }\r\n        return result;\r\n    }\r\n    Command.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Command](#Command) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\r\n    }\r\n    Command.is = is;\r\n})(Command || (Command = {}));\r\n/**\r\n * The TextEdit namespace provides helper function to create replace,\r\n * insert and delete edits more easily.\r\n */\r\nexport var TextEdit;\r\n(function (TextEdit) {\r\n    /**\r\n     * Creates a replace text edit.\r\n     * @param range The range of text to be replaced.\r\n     * @param newText The new text.\r\n     */\r\n    function replace(range, newText) {\r\n        return { range: range, newText: newText };\r\n    }\r\n    TextEdit.replace = replace;\r\n    /**\r\n     * Creates a insert text edit.\r\n     * @param position The position to insert the text at.\r\n     * @param newText The text to be inserted.\r\n     */\r\n    function insert(position, newText) {\r\n        return { range: { start: position, end: position }, newText: newText };\r\n    }\r\n    TextEdit.insert = insert;\r\n    /**\r\n     * Creates a delete text edit.\r\n     * @param range The range of text to be deleted.\r\n     */\r\n    function del(range) {\r\n        return { range: range, newText: '' };\r\n    }\r\n    TextEdit.del = del;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(candidate)\r\n            && Is.string(candidate.newText)\r\n            && Range.is(candidate.range);\r\n    }\r\n    TextEdit.is = is;\r\n})(TextEdit || (TextEdit = {}));\r\nexport var ChangeAnnotation;\r\n(function (ChangeAnnotation) {\r\n    function create(label, needsConfirmation, description) {\r\n        var result = { label: label };\r\n        if (needsConfirmation !== undefined) {\r\n            result.needsConfirmation = needsConfirmation;\r\n        }\r\n        if (description !== undefined) {\r\n            result.description = description;\r\n        }\r\n        return result;\r\n    }\r\n    ChangeAnnotation.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate !== undefined && Is.objectLiteral(candidate) && Is.string(candidate.label) &&\r\n            (Is.boolean(candidate.needsConfirmation) || candidate.needsConfirmation === undefined) &&\r\n            (Is.string(candidate.description) || candidate.description === undefined);\r\n    }\r\n    ChangeAnnotation.is = is;\r\n})(ChangeAnnotation || (ChangeAnnotation = {}));\r\nexport var ChangeAnnotationIdentifier;\r\n(function (ChangeAnnotationIdentifier) {\r\n    function is(value) {\r\n        var candidate = value;\r\n        return typeof candidate === 'string';\r\n    }\r\n    ChangeAnnotationIdentifier.is = is;\r\n})(ChangeAnnotationIdentifier || (ChangeAnnotationIdentifier = {}));\r\nexport var AnnotatedTextEdit;\r\n(function (AnnotatedTextEdit) {\r\n    /**\r\n     * Creates an annotated replace text edit.\r\n     *\r\n     * @param range The range of text to be replaced.\r\n     * @param newText The new text.\r\n     * @param annotation The annotation.\r\n     */\r\n    function replace(range, newText, annotation) {\r\n        return { range: range, newText: newText, annotationId: annotation };\r\n    }\r\n    AnnotatedTextEdit.replace = replace;\r\n    /**\r\n     * Creates an annotated insert text edit.\r\n     *\r\n     * @param position The position to insert the text at.\r\n     * @param newText The text to be inserted.\r\n     * @param annotation The annotation.\r\n     */\r\n    function insert(position, newText, annotation) {\r\n        return { range: { start: position, end: position }, newText: newText, annotationId: annotation };\r\n    }\r\n    AnnotatedTextEdit.insert = insert;\r\n    /**\r\n     * Creates an annotated delete text edit.\r\n     *\r\n     * @param range The range of text to be deleted.\r\n     * @param annotation The annotation.\r\n     */\r\n    function del(range, annotation) {\r\n        return { range: range, newText: '', annotationId: annotation };\r\n    }\r\n    AnnotatedTextEdit.del = del;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return TextEdit.is(candidate) && (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId));\r\n    }\r\n    AnnotatedTextEdit.is = is;\r\n})(AnnotatedTextEdit || (AnnotatedTextEdit = {}));\r\n/**\r\n * The TextDocumentEdit namespace provides helper function to create\r\n * an edit that manipulates a text document.\r\n */\r\nexport var TextDocumentEdit;\r\n(function (TextDocumentEdit) {\r\n    /**\r\n     * Creates a new `TextDocumentEdit`\r\n     */\r\n    function create(textDocument, edits) {\r\n        return { textDocument: textDocument, edits: edits };\r\n    }\r\n    TextDocumentEdit.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate)\r\n            && OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)\r\n            && Array.isArray(candidate.edits);\r\n    }\r\n    TextDocumentEdit.is = is;\r\n})(TextDocumentEdit || (TextDocumentEdit = {}));\r\nexport var CreateFile;\r\n(function (CreateFile) {\r\n    function create(uri, options, annotation) {\r\n        var result = {\r\n            kind: 'create',\r\n            uri: uri\r\n        };\r\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\r\n            result.options = options;\r\n        }\r\n        if (annotation !== undefined) {\r\n            result.annotationId = annotation;\r\n        }\r\n        return result;\r\n    }\r\n    CreateFile.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) && (candidate.options === undefined ||\r\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\r\n    }\r\n    CreateFile.is = is;\r\n})(CreateFile || (CreateFile = {}));\r\nexport var RenameFile;\r\n(function (RenameFile) {\r\n    function create(oldUri, newUri, options, annotation) {\r\n        var result = {\r\n            kind: 'rename',\r\n            oldUri: oldUri,\r\n            newUri: newUri\r\n        };\r\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\r\n            result.options = options;\r\n        }\r\n        if (annotation !== undefined) {\r\n            result.annotationId = annotation;\r\n        }\r\n        return result;\r\n    }\r\n    RenameFile.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) && (candidate.options === undefined ||\r\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\r\n    }\r\n    RenameFile.is = is;\r\n})(RenameFile || (RenameFile = {}));\r\nexport var DeleteFile;\r\n(function (DeleteFile) {\r\n    function create(uri, options, annotation) {\r\n        var result = {\r\n            kind: 'delete',\r\n            uri: uri\r\n        };\r\n        if (options !== undefined && (options.recursive !== undefined || options.ignoreIfNotExists !== undefined)) {\r\n            result.options = options;\r\n        }\r\n        if (annotation !== undefined) {\r\n            result.annotationId = annotation;\r\n        }\r\n        return result;\r\n    }\r\n    DeleteFile.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) && (candidate.options === undefined ||\r\n            ((candidate.options.recursive === undefined || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === undefined || Is.boolean(candidate.options.ignoreIfNotExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\r\n    }\r\n    DeleteFile.is = is;\r\n})(DeleteFile || (DeleteFile = {}));\r\nexport var WorkspaceEdit;\r\n(function (WorkspaceEdit) {\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate &&\r\n            (candidate.changes !== undefined || candidate.documentChanges !== undefined) &&\r\n            (candidate.documentChanges === undefined || candidate.documentChanges.every(function (change) {\r\n                if (Is.string(change.kind)) {\r\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\r\n                }\r\n                else {\r\n                    return TextDocumentEdit.is(change);\r\n                }\r\n            }));\r\n    }\r\n    WorkspaceEdit.is = is;\r\n})(WorkspaceEdit || (WorkspaceEdit = {}));\r\nvar TextEditChangeImpl = /** @class */ (function () {\r\n    function TextEditChangeImpl(edits, changeAnnotations) {\r\n        this.edits = edits;\r\n        this.changeAnnotations = changeAnnotations;\r\n    }\r\n    TextEditChangeImpl.prototype.insert = function (position, newText, annotation) {\r\n        var edit;\r\n        var id;\r\n        if (annotation === undefined) {\r\n            edit = TextEdit.insert(position, newText);\r\n        }\r\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\r\n            id = annotation;\r\n            edit = AnnotatedTextEdit.insert(position, newText, annotation);\r\n        }\r\n        else {\r\n            this.assertChangeAnnotations(this.changeAnnotations);\r\n            id = this.changeAnnotations.manage(annotation);\r\n            edit = AnnotatedTextEdit.insert(position, newText, id);\r\n        }\r\n        this.edits.push(edit);\r\n        if (id !== undefined) {\r\n            return id;\r\n        }\r\n    };\r\n    TextEditChangeImpl.prototype.replace = function (range, newText, annotation) {\r\n        var edit;\r\n        var id;\r\n        if (annotation === undefined) {\r\n            edit = TextEdit.replace(range, newText);\r\n        }\r\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\r\n            id = annotation;\r\n            edit = AnnotatedTextEdit.replace(range, newText, annotation);\r\n        }\r\n        else {\r\n            this.assertChangeAnnotations(this.changeAnnotations);\r\n            id = this.changeAnnotations.manage(annotation);\r\n            edit = AnnotatedTextEdit.replace(range, newText, id);\r\n        }\r\n        this.edits.push(edit);\r\n        if (id !== undefined) {\r\n            return id;\r\n        }\r\n    };\r\n    TextEditChangeImpl.prototype.delete = function (range, annotation) {\r\n        var edit;\r\n        var id;\r\n        if (annotation === undefined) {\r\n            edit = TextEdit.del(range);\r\n        }\r\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\r\n            id = annotation;\r\n            edit = AnnotatedTextEdit.del(range, annotation);\r\n        }\r\n        else {\r\n            this.assertChangeAnnotations(this.changeAnnotations);\r\n            id = this.changeAnnotations.manage(annotation);\r\n            edit = AnnotatedTextEdit.del(range, id);\r\n        }\r\n        this.edits.push(edit);\r\n        if (id !== undefined) {\r\n            return id;\r\n        }\r\n    };\r\n    TextEditChangeImpl.prototype.add = function (edit) {\r\n        this.edits.push(edit);\r\n    };\r\n    TextEditChangeImpl.prototype.all = function () {\r\n        return this.edits;\r\n    };\r\n    TextEditChangeImpl.prototype.clear = function () {\r\n        this.edits.splice(0, this.edits.length);\r\n    };\r\n    TextEditChangeImpl.prototype.assertChangeAnnotations = function (value) {\r\n        if (value === undefined) {\r\n            throw new Error(\"Text edit change is not configured to manage change annotations.\");\r\n        }\r\n    };\r\n    return TextEditChangeImpl;\r\n}());\r\n/**\r\n * A helper class\r\n */\r\nvar ChangeAnnotations = /** @class */ (function () {\r\n    function ChangeAnnotations(annotations) {\r\n        this._annotations = annotations === undefined ? Object.create(null) : annotations;\r\n        this._counter = 0;\r\n        this._size = 0;\r\n    }\r\n    ChangeAnnotations.prototype.all = function () {\r\n        return this._annotations;\r\n    };\r\n    Object.defineProperty(ChangeAnnotations.prototype, \"size\", {\r\n        get: function () {\r\n            return this._size;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    ChangeAnnotations.prototype.manage = function (idOrAnnotation, annotation) {\r\n        var id;\r\n        if (ChangeAnnotationIdentifier.is(idOrAnnotation)) {\r\n            id = idOrAnnotation;\r\n        }\r\n        else {\r\n            id = this.nextId();\r\n            annotation = idOrAnnotation;\r\n        }\r\n        if (this._annotations[id] !== undefined) {\r\n            throw new Error(\"Id \" + id + \" is already in use.\");\r\n        }\r\n        if (annotation === undefined) {\r\n            throw new Error(\"No annotation provided for id \" + id);\r\n        }\r\n        this._annotations[id] = annotation;\r\n        this._size++;\r\n        return id;\r\n    };\r\n    ChangeAnnotations.prototype.nextId = function () {\r\n        this._counter++;\r\n        return this._counter.toString();\r\n    };\r\n    return ChangeAnnotations;\r\n}());\r\n/**\r\n * A workspace change helps constructing changes to a workspace.\r\n */\r\nvar WorkspaceChange = /** @class */ (function () {\r\n    function WorkspaceChange(workspaceEdit) {\r\n        var _this = this;\r\n        this._textEditChanges = Object.create(null);\r\n        if (workspaceEdit !== undefined) {\r\n            this._workspaceEdit = workspaceEdit;\r\n            if (workspaceEdit.documentChanges) {\r\n                this._changeAnnotations = new ChangeAnnotations(workspaceEdit.changeAnnotations);\r\n                workspaceEdit.changeAnnotations = this._changeAnnotations.all();\r\n                workspaceEdit.documentChanges.forEach(function (change) {\r\n                    if (TextDocumentEdit.is(change)) {\r\n                        var textEditChange = new TextEditChangeImpl(change.edits, _this._changeAnnotations);\r\n                        _this._textEditChanges[change.textDocument.uri] = textEditChange;\r\n                    }\r\n                });\r\n            }\r\n            else if (workspaceEdit.changes) {\r\n                Object.keys(workspaceEdit.changes).forEach(function (key) {\r\n                    var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\r\n                    _this._textEditChanges[key] = textEditChange;\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            this._workspaceEdit = {};\r\n        }\r\n    }\r\n    Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\r\n        /**\r\n         * Returns the underlying [WorkspaceEdit](#WorkspaceEdit) literal\r\n         * use to be returned from a workspace edit operation like rename.\r\n         */\r\n        get: function () {\r\n            this.initDocumentChanges();\r\n            if (this._changeAnnotations !== undefined) {\r\n                if (this._changeAnnotations.size === 0) {\r\n                    this._workspaceEdit.changeAnnotations = undefined;\r\n                }\r\n                else {\r\n                    this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\r\n                }\r\n            }\r\n            return this._workspaceEdit;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    WorkspaceChange.prototype.getTextEditChange = function (key) {\r\n        if (OptionalVersionedTextDocumentIdentifier.is(key)) {\r\n            this.initDocumentChanges();\r\n            if (this._workspaceEdit.documentChanges === undefined) {\r\n                throw new Error('Workspace edit is not configured for document changes.');\r\n            }\r\n            var textDocument = { uri: key.uri, version: key.version };\r\n            var result = this._textEditChanges[textDocument.uri];\r\n            if (!result) {\r\n                var edits = [];\r\n                var textDocumentEdit = {\r\n                    textDocument: textDocument,\r\n                    edits: edits\r\n                };\r\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\r\n                result = new TextEditChangeImpl(edits, this._changeAnnotations);\r\n                this._textEditChanges[textDocument.uri] = result;\r\n            }\r\n            return result;\r\n        }\r\n        else {\r\n            this.initChanges();\r\n            if (this._workspaceEdit.changes === undefined) {\r\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\r\n            }\r\n            var result = this._textEditChanges[key];\r\n            if (!result) {\r\n                var edits = [];\r\n                this._workspaceEdit.changes[key] = edits;\r\n                result = new TextEditChangeImpl(edits);\r\n                this._textEditChanges[key] = result;\r\n            }\r\n            return result;\r\n        }\r\n    };\r\n    WorkspaceChange.prototype.initDocumentChanges = function () {\r\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\r\n            this._changeAnnotations = new ChangeAnnotations();\r\n            this._workspaceEdit.documentChanges = [];\r\n            this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\r\n        }\r\n    };\r\n    WorkspaceChange.prototype.initChanges = function () {\r\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\r\n            this._workspaceEdit.changes = Object.create(null);\r\n        }\r\n    };\r\n    WorkspaceChange.prototype.createFile = function (uri, optionsOrAnnotation, options) {\r\n        this.initDocumentChanges();\r\n        if (this._workspaceEdit.documentChanges === undefined) {\r\n            throw new Error('Workspace edit is not configured for document changes.');\r\n        }\r\n        var annotation;\r\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\r\n            annotation = optionsOrAnnotation;\r\n        }\r\n        else {\r\n            options = optionsOrAnnotation;\r\n        }\r\n        var operation;\r\n        var id;\r\n        if (annotation === undefined) {\r\n            operation = CreateFile.create(uri, options);\r\n        }\r\n        else {\r\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\r\n            operation = CreateFile.create(uri, options, id);\r\n        }\r\n        this._workspaceEdit.documentChanges.push(operation);\r\n        if (id !== undefined) {\r\n            return id;\r\n        }\r\n    };\r\n    WorkspaceChange.prototype.renameFile = function (oldUri, newUri, optionsOrAnnotation, options) {\r\n        this.initDocumentChanges();\r\n        if (this._workspaceEdit.documentChanges === undefined) {\r\n            throw new Error('Workspace edit is not configured for document changes.');\r\n        }\r\n        var annotation;\r\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\r\n            annotation = optionsOrAnnotation;\r\n        }\r\n        else {\r\n            options = optionsOrAnnotation;\r\n        }\r\n        var operation;\r\n        var id;\r\n        if (annotation === undefined) {\r\n            operation = RenameFile.create(oldUri, newUri, options);\r\n        }\r\n        else {\r\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\r\n            operation = RenameFile.create(oldUri, newUri, options, id);\r\n        }\r\n        this._workspaceEdit.documentChanges.push(operation);\r\n        if (id !== undefined) {\r\n            return id;\r\n        }\r\n    };\r\n    WorkspaceChange.prototype.deleteFile = function (uri, optionsOrAnnotation, options) {\r\n        this.initDocumentChanges();\r\n        if (this._workspaceEdit.documentChanges === undefined) {\r\n            throw new Error('Workspace edit is not configured for document changes.');\r\n        }\r\n        var annotation;\r\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\r\n            annotation = optionsOrAnnotation;\r\n        }\r\n        else {\r\n            options = optionsOrAnnotation;\r\n        }\r\n        var operation;\r\n        var id;\r\n        if (annotation === undefined) {\r\n            operation = DeleteFile.create(uri, options);\r\n        }\r\n        else {\r\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\r\n            operation = DeleteFile.create(uri, options, id);\r\n        }\r\n        this._workspaceEdit.documentChanges.push(operation);\r\n        if (id !== undefined) {\r\n            return id;\r\n        }\r\n    };\r\n    return WorkspaceChange;\r\n}());\r\nexport { WorkspaceChange };\r\n/**\r\n * The TextDocumentIdentifier namespace provides helper functions to work with\r\n * [TextDocumentIdentifier](#TextDocumentIdentifier) literals.\r\n */\r\nexport var TextDocumentIdentifier;\r\n(function (TextDocumentIdentifier) {\r\n    /**\r\n     * Creates a new TextDocumentIdentifier literal.\r\n     * @param uri The document's uri.\r\n     */\r\n    function create(uri) {\r\n        return { uri: uri };\r\n    }\r\n    TextDocumentIdentifier.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [TextDocumentIdentifier](#TextDocumentIdentifier) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri);\r\n    }\r\n    TextDocumentIdentifier.is = is;\r\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\r\n/**\r\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\r\n * [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) literals.\r\n */\r\nexport var VersionedTextDocumentIdentifier;\r\n(function (VersionedTextDocumentIdentifier) {\r\n    /**\r\n     * Creates a new VersionedTextDocumentIdentifier literal.\r\n     * @param uri The document's uri.\r\n     * @param uri The document's text.\r\n     */\r\n    function create(uri, version) {\r\n        return { uri: uri, version: version };\r\n    }\r\n    VersionedTextDocumentIdentifier.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.integer(candidate.version);\r\n    }\r\n    VersionedTextDocumentIdentifier.is = is;\r\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\r\n/**\r\n * The OptionalVersionedTextDocumentIdentifier namespace provides helper functions to work with\r\n * [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) literals.\r\n */\r\nexport var OptionalVersionedTextDocumentIdentifier;\r\n(function (OptionalVersionedTextDocumentIdentifier) {\r\n    /**\r\n     * Creates a new OptionalVersionedTextDocumentIdentifier literal.\r\n     * @param uri The document's uri.\r\n     * @param uri The document's text.\r\n     */\r\n    function create(uri, version) {\r\n        return { uri: uri, version: version };\r\n    }\r\n    OptionalVersionedTextDocumentIdentifier.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.integer(candidate.version));\r\n    }\r\n    OptionalVersionedTextDocumentIdentifier.is = is;\r\n})(OptionalVersionedTextDocumentIdentifier || (OptionalVersionedTextDocumentIdentifier = {}));\r\n/**\r\n * The TextDocumentItem namespace provides helper functions to work with\r\n * [TextDocumentItem](#TextDocumentItem) literals.\r\n */\r\nexport var TextDocumentItem;\r\n(function (TextDocumentItem) {\r\n    /**\r\n     * Creates a new TextDocumentItem literal.\r\n     * @param uri The document's uri.\r\n     * @param languageId The document's language identifier.\r\n     * @param version The document's version number.\r\n     * @param text The document's text.\r\n     */\r\n    function create(uri, languageId, version, text) {\r\n        return { uri: uri, languageId: languageId, version: version, text: text };\r\n    }\r\n    TextDocumentItem.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [TextDocumentItem](#TextDocumentItem) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.integer(candidate.version) && Is.string(candidate.text);\r\n    }\r\n    TextDocumentItem.is = is;\r\n})(TextDocumentItem || (TextDocumentItem = {}));\r\n/**\r\n * Describes the content type that a client supports in various\r\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\r\n *\r\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\r\n * are reserved for internal usage.\r\n */\r\nexport var MarkupKind;\r\n(function (MarkupKind) {\r\n    /**\r\n     * Plain text is supported as a content format\r\n     */\r\n    MarkupKind.PlainText = 'plaintext';\r\n    /**\r\n     * Markdown is supported as a content format\r\n     */\r\n    MarkupKind.Markdown = 'markdown';\r\n})(MarkupKind || (MarkupKind = {}));\r\n(function (MarkupKind) {\r\n    /**\r\n     * Checks whether the given value is a value of the [MarkupKind](#MarkupKind) type.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\r\n    }\r\n    MarkupKind.is = is;\r\n})(MarkupKind || (MarkupKind = {}));\r\nexport var MarkupContent;\r\n(function (MarkupContent) {\r\n    /**\r\n     * Checks whether the given value conforms to the [MarkupContent](#MarkupContent) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\r\n    }\r\n    MarkupContent.is = is;\r\n})(MarkupContent || (MarkupContent = {}));\r\n/**\r\n * The kind of a completion entry.\r\n */\r\nexport var CompletionItemKind;\r\n(function (CompletionItemKind) {\r\n    CompletionItemKind.Text = 1;\r\n    CompletionItemKind.Method = 2;\r\n    CompletionItemKind.Function = 3;\r\n    CompletionItemKind.Constructor = 4;\r\n    CompletionItemKind.Field = 5;\r\n    CompletionItemKind.Variable = 6;\r\n    CompletionItemKind.Class = 7;\r\n    CompletionItemKind.Interface = 8;\r\n    CompletionItemKind.Module = 9;\r\n    CompletionItemKind.Property = 10;\r\n    CompletionItemKind.Unit = 11;\r\n    CompletionItemKind.Value = 12;\r\n    CompletionItemKind.Enum = 13;\r\n    CompletionItemKind.Keyword = 14;\r\n    CompletionItemKind.Snippet = 15;\r\n    CompletionItemKind.Color = 16;\r\n    CompletionItemKind.File = 17;\r\n    CompletionItemKind.Reference = 18;\r\n    CompletionItemKind.Folder = 19;\r\n    CompletionItemKind.EnumMember = 20;\r\n    CompletionItemKind.Constant = 21;\r\n    CompletionItemKind.Struct = 22;\r\n    CompletionItemKind.Event = 23;\r\n    CompletionItemKind.Operator = 24;\r\n    CompletionItemKind.TypeParameter = 25;\r\n})(CompletionItemKind || (CompletionItemKind = {}));\r\n/**\r\n * Defines whether the insert text in a completion item should be interpreted as\r\n * plain text or a snippet.\r\n */\r\nexport var InsertTextFormat;\r\n(function (InsertTextFormat) {\r\n    /**\r\n     * The primary text to be inserted is treated as a plain string.\r\n     */\r\n    InsertTextFormat.PlainText = 1;\r\n    /**\r\n     * The primary text to be inserted is treated as a snippet.\r\n     *\r\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\r\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\r\n     * the end of the snippet. Placeholders with equal identifiers are linked,\r\n     * that is typing in one will update others too.\r\n     *\r\n     * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\r\n     */\r\n    InsertTextFormat.Snippet = 2;\r\n})(InsertTextFormat || (InsertTextFormat = {}));\r\n/**\r\n * Completion item tags are extra annotations that tweak the rendering of a completion\r\n * item.\r\n *\r\n * @since 3.15.0\r\n */\r\nexport var CompletionItemTag;\r\n(function (CompletionItemTag) {\r\n    /**\r\n     * Render a completion as obsolete, usually using a strike-out.\r\n     */\r\n    CompletionItemTag.Deprecated = 1;\r\n})(CompletionItemTag || (CompletionItemTag = {}));\r\n/**\r\n * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\r\n *\r\n * @since 3.16.0\r\n */\r\nexport var InsertReplaceEdit;\r\n(function (InsertReplaceEdit) {\r\n    /**\r\n     * Creates a new insert / replace edit\r\n     */\r\n    function create(newText, insert, replace) {\r\n        return { newText: newText, insert: insert, replace: replace };\r\n    }\r\n    InsertReplaceEdit.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [InsertReplaceEdit](#InsertReplaceEdit) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\r\n    }\r\n    InsertReplaceEdit.is = is;\r\n})(InsertReplaceEdit || (InsertReplaceEdit = {}));\r\n/**\r\n * How whitespace and indentation is handled during completion\r\n * item insertion.\r\n *\r\n * @since 3.16.0\r\n */\r\nexport var InsertTextMode;\r\n(function (InsertTextMode) {\r\n    /**\r\n     * The insertion or replace strings is taken as it is. If the\r\n     * value is multi line the lines below the cursor will be\r\n     * inserted using the indentation defined in the string value.\r\n     * The client will not apply any kind of adjustments to the\r\n     * string.\r\n     */\r\n    InsertTextMode.asIs = 1;\r\n    /**\r\n     * The editor adjusts leading whitespace of new lines so that\r\n     * they match the indentation up to the cursor of the line for\r\n     * which the item is accepted.\r\n     *\r\n     * Consider a line like this: <2tabs><cursor><3tabs>foo. Accepting a\r\n     * multi line completion item is indented using 2 tabs and all\r\n     * following lines inserted will be indented using 2 tabs as well.\r\n     */\r\n    InsertTextMode.adjustIndentation = 2;\r\n})(InsertTextMode || (InsertTextMode = {}));\r\n/**\r\n * The CompletionItem namespace provides functions to deal with\r\n * completion items.\r\n */\r\nexport var CompletionItem;\r\n(function (CompletionItem) {\r\n    /**\r\n     * Create a completion item and seed it with a label.\r\n     * @param label The completion item's label\r\n     */\r\n    function create(label) {\r\n        return { label: label };\r\n    }\r\n    CompletionItem.create = create;\r\n})(CompletionItem || (CompletionItem = {}));\r\n/**\r\n * The CompletionList namespace provides functions to deal with\r\n * completion lists.\r\n */\r\nexport var CompletionList;\r\n(function (CompletionList) {\r\n    /**\r\n     * Creates a new completion list.\r\n     *\r\n     * @param items The completion items.\r\n     * @param isIncomplete The list is not complete.\r\n     */\r\n    function create(items, isIncomplete) {\r\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\r\n    }\r\n    CompletionList.create = create;\r\n})(CompletionList || (CompletionList = {}));\r\nexport var MarkedString;\r\n(function (MarkedString) {\r\n    /**\r\n     * Creates a marked string from plain text.\r\n     *\r\n     * @param plainText The plain text.\r\n     */\r\n    function fromPlainText(plainText) {\r\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\r\n    }\r\n    MarkedString.fromPlainText = fromPlainText;\r\n    /**\r\n     * Checks whether the given value conforms to the [MarkedString](#MarkedString) type.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\r\n    }\r\n    MarkedString.is = is;\r\n})(MarkedString || (MarkedString = {}));\r\nexport var Hover;\r\n(function (Hover) {\r\n    /**\r\n     * Checks whether the given value conforms to the [Hover](#Hover) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\r\n            MarkedString.is(candidate.contents) ||\r\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === undefined || Range.is(value.range));\r\n    }\r\n    Hover.is = is;\r\n})(Hover || (Hover = {}));\r\n/**\r\n * The ParameterInformation namespace provides helper functions to work with\r\n * [ParameterInformation](#ParameterInformation) literals.\r\n */\r\nexport var ParameterInformation;\r\n(function (ParameterInformation) {\r\n    /**\r\n     * Creates a new parameter information literal.\r\n     *\r\n     * @param label A label string.\r\n     * @param documentation A doc string.\r\n     */\r\n    function create(label, documentation) {\r\n        return documentation ? { label: label, documentation: documentation } : { label: label };\r\n    }\r\n    ParameterInformation.create = create;\r\n})(ParameterInformation || (ParameterInformation = {}));\r\n/**\r\n * The SignatureInformation namespace provides helper functions to work with\r\n * [SignatureInformation](#SignatureInformation) literals.\r\n */\r\nexport var SignatureInformation;\r\n(function (SignatureInformation) {\r\n    function create(label, documentation) {\r\n        var parameters = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            parameters[_i - 2] = arguments[_i];\r\n        }\r\n        var result = { label: label };\r\n        if (Is.defined(documentation)) {\r\n            result.documentation = documentation;\r\n        }\r\n        if (Is.defined(parameters)) {\r\n            result.parameters = parameters;\r\n        }\r\n        else {\r\n            result.parameters = [];\r\n        }\r\n        return result;\r\n    }\r\n    SignatureInformation.create = create;\r\n})(SignatureInformation || (SignatureInformation = {}));\r\n/**\r\n * A document highlight kind.\r\n */\r\nexport var DocumentHighlightKind;\r\n(function (DocumentHighlightKind) {\r\n    /**\r\n     * A textual occurrence.\r\n     */\r\n    DocumentHighlightKind.Text = 1;\r\n    /**\r\n     * Read-access of a symbol, like reading a variable.\r\n     */\r\n    DocumentHighlightKind.Read = 2;\r\n    /**\r\n     * Write-access of a symbol, like writing to a variable.\r\n     */\r\n    DocumentHighlightKind.Write = 3;\r\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\r\n/**\r\n * DocumentHighlight namespace to provide helper functions to work with\r\n * [DocumentHighlight](#DocumentHighlight) literals.\r\n */\r\nexport var DocumentHighlight;\r\n(function (DocumentHighlight) {\r\n    /**\r\n     * Create a DocumentHighlight object.\r\n     * @param range The range the highlight applies to.\r\n     */\r\n    function create(range, kind) {\r\n        var result = { range: range };\r\n        if (Is.number(kind)) {\r\n            result.kind = kind;\r\n        }\r\n        return result;\r\n    }\r\n    DocumentHighlight.create = create;\r\n})(DocumentHighlight || (DocumentHighlight = {}));\r\n/**\r\n * A symbol kind.\r\n */\r\nexport var SymbolKind;\r\n(function (SymbolKind) {\r\n    SymbolKind.File = 1;\r\n    SymbolKind.Module = 2;\r\n    SymbolKind.Namespace = 3;\r\n    SymbolKind.Package = 4;\r\n    SymbolKind.Class = 5;\r\n    SymbolKind.Method = 6;\r\n    SymbolKind.Property = 7;\r\n    SymbolKind.Field = 8;\r\n    SymbolKind.Constructor = 9;\r\n    SymbolKind.Enum = 10;\r\n    SymbolKind.Interface = 11;\r\n    SymbolKind.Function = 12;\r\n    SymbolKind.Variable = 13;\r\n    SymbolKind.Constant = 14;\r\n    SymbolKind.String = 15;\r\n    SymbolKind.Number = 16;\r\n    SymbolKind.Boolean = 17;\r\n    SymbolKind.Array = 18;\r\n    SymbolKind.Object = 19;\r\n    SymbolKind.Key = 20;\r\n    SymbolKind.Null = 21;\r\n    SymbolKind.EnumMember = 22;\r\n    SymbolKind.Struct = 23;\r\n    SymbolKind.Event = 24;\r\n    SymbolKind.Operator = 25;\r\n    SymbolKind.TypeParameter = 26;\r\n})(SymbolKind || (SymbolKind = {}));\r\n/**\r\n * Symbol tags are extra annotations that tweak the rendering of a symbol.\r\n * @since 3.16\r\n */\r\nexport var SymbolTag;\r\n(function (SymbolTag) {\r\n    /**\r\n     * Render a symbol as obsolete, usually using a strike-out.\r\n     */\r\n    SymbolTag.Deprecated = 1;\r\n})(SymbolTag || (SymbolTag = {}));\r\nexport var SymbolInformation;\r\n(function (SymbolInformation) {\r\n    /**\r\n     * Creates a new symbol information literal.\r\n     *\r\n     * @param name The name of the symbol.\r\n     * @param kind The kind of the symbol.\r\n     * @param range The range of the location of the symbol.\r\n     * @param uri The resource of the location of symbol, defaults to the current document.\r\n     * @param containerName The name of the symbol containing the symbol.\r\n     */\r\n    function create(name, kind, range, uri, containerName) {\r\n        var result = {\r\n            name: name,\r\n            kind: kind,\r\n            location: { uri: uri, range: range }\r\n        };\r\n        if (containerName) {\r\n            result.containerName = containerName;\r\n        }\r\n        return result;\r\n    }\r\n    SymbolInformation.create = create;\r\n})(SymbolInformation || (SymbolInformation = {}));\r\nexport var DocumentSymbol;\r\n(function (DocumentSymbol) {\r\n    /**\r\n     * Creates a new symbol information literal.\r\n     *\r\n     * @param name The name of the symbol.\r\n     * @param detail The detail of the symbol.\r\n     * @param kind The kind of the symbol.\r\n     * @param range The range of the symbol.\r\n     * @param selectionRange The selectionRange of the symbol.\r\n     * @param children Children of the symbol.\r\n     */\r\n    function create(name, detail, kind, range, selectionRange, children) {\r\n        var result = {\r\n            name: name,\r\n            detail: detail,\r\n            kind: kind,\r\n            range: range,\r\n            selectionRange: selectionRange\r\n        };\r\n        if (children !== undefined) {\r\n            result.children = children;\r\n        }\r\n        return result;\r\n    }\r\n    DocumentSymbol.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [DocumentSymbol](#DocumentSymbol) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate &&\r\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\r\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\r\n            (candidate.detail === undefined || Is.string(candidate.detail)) &&\r\n            (candidate.deprecated === undefined || Is.boolean(candidate.deprecated)) &&\r\n            (candidate.children === undefined || Array.isArray(candidate.children)) &&\r\n            (candidate.tags === undefined || Array.isArray(candidate.tags));\r\n    }\r\n    DocumentSymbol.is = is;\r\n})(DocumentSymbol || (DocumentSymbol = {}));\r\n/**\r\n * A set of predefined code action kinds\r\n */\r\nexport var CodeActionKind;\r\n(function (CodeActionKind) {\r\n    /**\r\n     * Empty kind.\r\n     */\r\n    CodeActionKind.Empty = '';\r\n    /**\r\n     * Base kind for quickfix actions: 'quickfix'\r\n     */\r\n    CodeActionKind.QuickFix = 'quickfix';\r\n    /**\r\n     * Base kind for refactoring actions: 'refactor'\r\n     */\r\n    CodeActionKind.Refactor = 'refactor';\r\n    /**\r\n     * Base kind for refactoring extraction actions: 'refactor.extract'\r\n     *\r\n     * Example extract actions:\r\n     *\r\n     * - Extract method\r\n     * - Extract function\r\n     * - Extract variable\r\n     * - Extract interface from class\r\n     * - ...\r\n     */\r\n    CodeActionKind.RefactorExtract = 'refactor.extract';\r\n    /**\r\n     * Base kind for refactoring inline actions: 'refactor.inline'\r\n     *\r\n     * Example inline actions:\r\n     *\r\n     * - Inline function\r\n     * - Inline variable\r\n     * - Inline constant\r\n     * - ...\r\n     */\r\n    CodeActionKind.RefactorInline = 'refactor.inline';\r\n    /**\r\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\r\n     *\r\n     * Example rewrite actions:\r\n     *\r\n     * - Convert JavaScript function to class\r\n     * - Add or remove parameter\r\n     * - Encapsulate field\r\n     * - Make method static\r\n     * - Move method to base class\r\n     * - ...\r\n     */\r\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\r\n    /**\r\n     * Base kind for source actions: `source`\r\n     *\r\n     * Source code actions apply to the entire file.\r\n     */\r\n    CodeActionKind.Source = 'source';\r\n    /**\r\n     * Base kind for an organize imports source action: `source.organizeImports`\r\n     */\r\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\r\n    /**\r\n     * Base kind for auto-fix source actions: `source.fixAll`.\r\n     *\r\n     * Fix all actions automatically fix errors that have a clear fix that do not require user input.\r\n     * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\r\n     *\r\n     * @since 3.15.0\r\n     */\r\n    CodeActionKind.SourceFixAll = 'source.fixAll';\r\n})(CodeActionKind || (CodeActionKind = {}));\r\n/**\r\n * The CodeActionContext namespace provides helper functions to work with\r\n * [CodeActionContext](#CodeActionContext) literals.\r\n */\r\nexport var CodeActionContext;\r\n(function (CodeActionContext) {\r\n    /**\r\n     * Creates a new CodeActionContext literal.\r\n     */\r\n    function create(diagnostics, only) {\r\n        var result = { diagnostics: diagnostics };\r\n        if (only !== undefined && only !== null) {\r\n            result.only = only;\r\n        }\r\n        return result;\r\n    }\r\n    CodeActionContext.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [CodeActionContext](#CodeActionContext) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is) && (candidate.only === undefined || Is.typedArray(candidate.only, Is.string));\r\n    }\r\n    CodeActionContext.is = is;\r\n})(CodeActionContext || (CodeActionContext = {}));\r\nexport var CodeAction;\r\n(function (CodeAction) {\r\n    function create(title, kindOrCommandOrEdit, kind) {\r\n        var result = { title: title };\r\n        var checkKind = true;\r\n        if (typeof kindOrCommandOrEdit === 'string') {\r\n            checkKind = false;\r\n            result.kind = kindOrCommandOrEdit;\r\n        }\r\n        else if (Command.is(kindOrCommandOrEdit)) {\r\n            result.command = kindOrCommandOrEdit;\r\n        }\r\n        else {\r\n            result.edit = kindOrCommandOrEdit;\r\n        }\r\n        if (checkKind && kind !== undefined) {\r\n            result.kind = kind;\r\n        }\r\n        return result;\r\n    }\r\n    CodeAction.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && Is.string(candidate.title) &&\r\n            (candidate.diagnostics === undefined || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\r\n            (candidate.kind === undefined || Is.string(candidate.kind)) &&\r\n            (candidate.edit !== undefined || candidate.command !== undefined) &&\r\n            (candidate.command === undefined || Command.is(candidate.command)) &&\r\n            (candidate.isPreferred === undefined || Is.boolean(candidate.isPreferred)) &&\r\n            (candidate.edit === undefined || WorkspaceEdit.is(candidate.edit));\r\n    }\r\n    CodeAction.is = is;\r\n})(CodeAction || (CodeAction = {}));\r\n/**\r\n * The CodeLens namespace provides helper functions to work with\r\n * [CodeLens](#CodeLens) literals.\r\n */\r\nexport var CodeLens;\r\n(function (CodeLens) {\r\n    /**\r\n     * Creates a new CodeLens literal.\r\n     */\r\n    function create(range, data) {\r\n        var result = { range: range };\r\n        if (Is.defined(data)) {\r\n            result.data = data;\r\n        }\r\n        return result;\r\n    }\r\n    CodeLens.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [CodeLens](#CodeLens) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\r\n    }\r\n    CodeLens.is = is;\r\n})(CodeLens || (CodeLens = {}));\r\n/**\r\n * The FormattingOptions namespace provides helper functions to work with\r\n * [FormattingOptions](#FormattingOptions) literals.\r\n */\r\nexport var FormattingOptions;\r\n(function (FormattingOptions) {\r\n    /**\r\n     * Creates a new FormattingOptions literal.\r\n     */\r\n    function create(tabSize, insertSpaces) {\r\n        return { tabSize: tabSize, insertSpaces: insertSpaces };\r\n    }\r\n    FormattingOptions.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [FormattingOptions](#FormattingOptions) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.uinteger(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\r\n    }\r\n    FormattingOptions.is = is;\r\n})(FormattingOptions || (FormattingOptions = {}));\r\n/**\r\n * The DocumentLink namespace provides helper functions to work with\r\n * [DocumentLink](#DocumentLink) literals.\r\n */\r\nexport var DocumentLink;\r\n(function (DocumentLink) {\r\n    /**\r\n     * Creates a new DocumentLink literal.\r\n     */\r\n    function create(range, target, data) {\r\n        return { range: range, target: target, data: data };\r\n    }\r\n    DocumentLink.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [DocumentLink](#DocumentLink) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\r\n    }\r\n    DocumentLink.is = is;\r\n})(DocumentLink || (DocumentLink = {}));\r\n/**\r\n * The SelectionRange namespace provides helper function to work with\r\n * SelectionRange literals.\r\n */\r\nexport var SelectionRange;\r\n(function (SelectionRange) {\r\n    /**\r\n     * Creates a new SelectionRange\r\n     * @param range the range.\r\n     * @param parent an optional parent.\r\n     */\r\n    function create(range, parent) {\r\n        return { range: range, parent: parent };\r\n    }\r\n    SelectionRange.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate !== undefined && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\r\n    }\r\n    SelectionRange.is = is;\r\n})(SelectionRange || (SelectionRange = {}));\r\nexport var EOL = ['\\n', '\\r\\n', '\\r'];\r\n/**\r\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\r\n */\r\nexport var TextDocument;\r\n(function (TextDocument) {\r\n    /**\r\n     * Creates a new ITextDocument literal from the given uri and content.\r\n     * @param uri The document's uri.\r\n     * @param languageId  The document's language Id.\r\n     * @param content The document's content.\r\n     */\r\n    function create(uri, languageId, version, content) {\r\n        return new FullTextDocument(uri, languageId, version, content);\r\n    }\r\n    TextDocument.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [ITextDocument](#ITextDocument) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.uinteger(candidate.lineCount)\r\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\r\n    }\r\n    TextDocument.is = is;\r\n    function applyEdits(document, edits) {\r\n        var text = document.getText();\r\n        var sortedEdits = mergeSort(edits, function (a, b) {\r\n            var diff = a.range.start.line - b.range.start.line;\r\n            if (diff === 0) {\r\n                return a.range.start.character - b.range.start.character;\r\n            }\r\n            return diff;\r\n        });\r\n        var lastModifiedOffset = text.length;\r\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\r\n            var e = sortedEdits[i];\r\n            var startOffset = document.offsetAt(e.range.start);\r\n            var endOffset = document.offsetAt(e.range.end);\r\n            if (endOffset <= lastModifiedOffset) {\r\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\r\n            }\r\n            else {\r\n                throw new Error('Overlapping edit');\r\n            }\r\n            lastModifiedOffset = startOffset;\r\n        }\r\n        return text;\r\n    }\r\n    TextDocument.applyEdits = applyEdits;\r\n    function mergeSort(data, compare) {\r\n        if (data.length <= 1) {\r\n            // sorted\r\n            return data;\r\n        }\r\n        var p = (data.length / 2) | 0;\r\n        var left = data.slice(0, p);\r\n        var right = data.slice(p);\r\n        mergeSort(left, compare);\r\n        mergeSort(right, compare);\r\n        var leftIdx = 0;\r\n        var rightIdx = 0;\r\n        var i = 0;\r\n        while (leftIdx < left.length && rightIdx < right.length) {\r\n            var ret = compare(left[leftIdx], right[rightIdx]);\r\n            if (ret <= 0) {\r\n                // smaller_equal -> take left to preserve order\r\n                data[i++] = left[leftIdx++];\r\n            }\r\n            else {\r\n                // greater -> take right\r\n                data[i++] = right[rightIdx++];\r\n            }\r\n        }\r\n        while (leftIdx < left.length) {\r\n            data[i++] = left[leftIdx++];\r\n        }\r\n        while (rightIdx < right.length) {\r\n            data[i++] = right[rightIdx++];\r\n        }\r\n        return data;\r\n    }\r\n})(TextDocument || (TextDocument = {}));\r\n/**\r\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\r\n */\r\nvar FullTextDocument = /** @class */ (function () {\r\n    function FullTextDocument(uri, languageId, version, content) {\r\n        this._uri = uri;\r\n        this._languageId = languageId;\r\n        this._version = version;\r\n        this._content = content;\r\n        this._lineOffsets = undefined;\r\n    }\r\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\r\n        get: function () {\r\n            return this._uri;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\r\n        get: function () {\r\n            return this._languageId;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\r\n        get: function () {\r\n            return this._version;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    FullTextDocument.prototype.getText = function (range) {\r\n        if (range) {\r\n            var start = this.offsetAt(range.start);\r\n            var end = this.offsetAt(range.end);\r\n            return this._content.substring(start, end);\r\n        }\r\n        return this._content;\r\n    };\r\n    FullTextDocument.prototype.update = function (event, version) {\r\n        this._content = event.text;\r\n        this._version = version;\r\n        this._lineOffsets = undefined;\r\n    };\r\n    FullTextDocument.prototype.getLineOffsets = function () {\r\n        if (this._lineOffsets === undefined) {\r\n            var lineOffsets = [];\r\n            var text = this._content;\r\n            var isLineStart = true;\r\n            for (var i = 0; i < text.length; i++) {\r\n                if (isLineStart) {\r\n                    lineOffsets.push(i);\r\n                    isLineStart = false;\r\n                }\r\n                var ch = text.charAt(i);\r\n                isLineStart = (ch === '\\r' || ch === '\\n');\r\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\r\n                    i++;\r\n                }\r\n            }\r\n            if (isLineStart && text.length > 0) {\r\n                lineOffsets.push(text.length);\r\n            }\r\n            this._lineOffsets = lineOffsets;\r\n        }\r\n        return this._lineOffsets;\r\n    };\r\n    FullTextDocument.prototype.positionAt = function (offset) {\r\n        offset = Math.max(Math.min(offset, this._content.length), 0);\r\n        var lineOffsets = this.getLineOffsets();\r\n        var low = 0, high = lineOffsets.length;\r\n        if (high === 0) {\r\n            return Position.create(0, offset);\r\n        }\r\n        while (low < high) {\r\n            var mid = Math.floor((low + high) / 2);\r\n            if (lineOffsets[mid] > offset) {\r\n                high = mid;\r\n            }\r\n            else {\r\n                low = mid + 1;\r\n            }\r\n        }\r\n        // low is the least x for which the line offset is larger than the current offset\r\n        // or array.length if no line offset is larger than the current offset\r\n        var line = low - 1;\r\n        return Position.create(line, offset - lineOffsets[line]);\r\n    };\r\n    FullTextDocument.prototype.offsetAt = function (position) {\r\n        var lineOffsets = this.getLineOffsets();\r\n        if (position.line >= lineOffsets.length) {\r\n            return this._content.length;\r\n        }\r\n        else if (position.line < 0) {\r\n            return 0;\r\n        }\r\n        var lineOffset = lineOffsets[position.line];\r\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\r\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\r\n    };\r\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\r\n        get: function () {\r\n            return this.getLineOffsets().length;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return FullTextDocument;\r\n}());\r\nvar Is;\r\n(function (Is) {\r\n    var toString = Object.prototype.toString;\r\n    function defined(value) {\r\n        return typeof value !== 'undefined';\r\n    }\r\n    Is.defined = defined;\r\n    function undefined(value) {\r\n        return typeof value === 'undefined';\r\n    }\r\n    Is.undefined = undefined;\r\n    function boolean(value) {\r\n        return value === true || value === false;\r\n    }\r\n    Is.boolean = boolean;\r\n    function string(value) {\r\n        return toString.call(value) === '[object String]';\r\n    }\r\n    Is.string = string;\r\n    function number(value) {\r\n        return toString.call(value) === '[object Number]';\r\n    }\r\n    Is.number = number;\r\n    function numberRange(value, min, max) {\r\n        return toString.call(value) === '[object Number]' && min <= value && value <= max;\r\n    }\r\n    Is.numberRange = numberRange;\r\n    function integer(value) {\r\n        return toString.call(value) === '[object Number]' && -2147483648 <= value && value <= 2147483647;\r\n    }\r\n    Is.integer = integer;\r\n    function uinteger(value) {\r\n        return toString.call(value) === '[object Number]' && 0 <= value && value <= 2147483647;\r\n    }\r\n    Is.uinteger = uinteger;\r\n    function func(value) {\r\n        return toString.call(value) === '[object Function]';\r\n    }\r\n    Is.func = func;\r\n    function objectLiteral(value) {\r\n        // Strictly speaking class instances pass this check as well. Since the LSP\r\n        // doesn't use classes we ignore this for now. If we do we need to add something\r\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\r\n        return value !== null && typeof value === 'object';\r\n    }\r\n    Is.objectLiteral = objectLiteral;\r\n    function typedArray(value, check) {\r\n        return Array.isArray(value) && value.every(check);\r\n    }\r\n    Is.typedArray = typedArray;\r\n})(Is || (Is = {}));\r\n","'use strict'\r\nmodule.exports = function (Yallist) {\r\n  Yallist.prototype[Symbol.iterator] = function* () {\r\n    for (let walker = this.head; walker; walker = walker.next) {\r\n      yield walker.value\r\n    }\r\n  }\r\n}\r\n","'use strict'\r\nmodule.exports = Yallist\r\n\r\nYallist.Node = Node\r\nYallist.create = Yallist\r\n\r\nfunction Yallist (list) {\r\n  var self = this\r\n  if (!(self instanceof Yallist)) {\r\n    self = new Yallist()\r\n  }\r\n\r\n  self.tail = null\r\n  self.head = null\r\n  self.length = 0\r\n\r\n  if (list && typeof list.forEach === 'function') {\r\n    list.forEach(function (item) {\r\n      self.push(item)\r\n    })\r\n  } else if (arguments.length > 0) {\r\n    for (var i = 0, l = arguments.length; i < l; i++) {\r\n      self.push(arguments[i])\r\n    }\r\n  }\r\n\r\n  return self\r\n}\r\n\r\nYallist.prototype.removeNode = function (node) {\r\n  if (node.list !== this) {\r\n    throw new Error('removing node which does not belong to this list')\r\n  }\r\n\r\n  var next = node.next\r\n  var prev = node.prev\r\n\r\n  if (next) {\r\n    next.prev = prev\r\n  }\r\n\r\n  if (prev) {\r\n    prev.next = next\r\n  }\r\n\r\n  if (node === this.head) {\r\n    this.head = next\r\n  }\r\n  if (node === this.tail) {\r\n    this.tail = prev\r\n  }\r\n\r\n  node.list.length--\r\n  node.next = null\r\n  node.prev = null\r\n  node.list = null\r\n\r\n  return next\r\n}\r\n\r\nYallist.prototype.unshiftNode = function (node) {\r\n  if (node === this.head) {\r\n    return\r\n  }\r\n\r\n  if (node.list) {\r\n    node.list.removeNode(node)\r\n  }\r\n\r\n  var head = this.head\r\n  node.list = this\r\n  node.next = head\r\n  if (head) {\r\n    head.prev = node\r\n  }\r\n\r\n  this.head = node\r\n  if (!this.tail) {\r\n    this.tail = node\r\n  }\r\n  this.length++\r\n}\r\n\r\nYallist.prototype.pushNode = function (node) {\r\n  if (node === this.tail) {\r\n    return\r\n  }\r\n\r\n  if (node.list) {\r\n    node.list.removeNode(node)\r\n  }\r\n\r\n  var tail = this.tail\r\n  node.list = this\r\n  node.prev = tail\r\n  if (tail) {\r\n    tail.next = node\r\n  }\r\n\r\n  this.tail = node\r\n  if (!this.head) {\r\n    this.head = node\r\n  }\r\n  this.length++\r\n}\r\n\r\nYallist.prototype.push = function () {\r\n  for (var i = 0, l = arguments.length; i < l; i++) {\r\n    push(this, arguments[i])\r\n  }\r\n  return this.length\r\n}\r\n\r\nYallist.prototype.unshift = function () {\r\n  for (var i = 0, l = arguments.length; i < l; i++) {\r\n    unshift(this, arguments[i])\r\n  }\r\n  return this.length\r\n}\r\n\r\nYallist.prototype.pop = function () {\r\n  if (!this.tail) {\r\n    return undefined\r\n  }\r\n\r\n  var res = this.tail.value\r\n  this.tail = this.tail.prev\r\n  if (this.tail) {\r\n    this.tail.next = null\r\n  } else {\r\n    this.head = null\r\n  }\r\n  this.length--\r\n  return res\r\n}\r\n\r\nYallist.prototype.shift = function () {\r\n  if (!this.head) {\r\n    return undefined\r\n  }\r\n\r\n  var res = this.head.value\r\n  this.head = this.head.next\r\n  if (this.head) {\r\n    this.head.prev = null\r\n  } else {\r\n    this.tail = null\r\n  }\r\n  this.length--\r\n  return res\r\n}\r\n\r\nYallist.prototype.forEach = function (fn, thisp) {\r\n  thisp = thisp || this\r\n  for (var walker = this.head, i = 0; walker !== null; i++) {\r\n    fn.call(thisp, walker.value, i, this)\r\n    walker = walker.next\r\n  }\r\n}\r\n\r\nYallist.prototype.forEachReverse = function (fn, thisp) {\r\n  thisp = thisp || this\r\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\r\n    fn.call(thisp, walker.value, i, this)\r\n    walker = walker.prev\r\n  }\r\n}\r\n\r\nYallist.prototype.get = function (n) {\r\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\r\n    // abort out of the list early if we hit a cycle\r\n    walker = walker.next\r\n  }\r\n  if (i === n && walker !== null) {\r\n    return walker.value\r\n  }\r\n}\r\n\r\nYallist.prototype.getReverse = function (n) {\r\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\r\n    // abort out of the list early if we hit a cycle\r\n    walker = walker.prev\r\n  }\r\n  if (i === n && walker !== null) {\r\n    return walker.value\r\n  }\r\n}\r\n\r\nYallist.prototype.map = function (fn, thisp) {\r\n  thisp = thisp || this\r\n  var res = new Yallist()\r\n  for (var walker = this.head; walker !== null;) {\r\n    res.push(fn.call(thisp, walker.value, this))\r\n    walker = walker.next\r\n  }\r\n  return res\r\n}\r\n\r\nYallist.prototype.mapReverse = function (fn, thisp) {\r\n  thisp = thisp || this\r\n  var res = new Yallist()\r\n  for (var walker = this.tail; walker !== null;) {\r\n    res.push(fn.call(thisp, walker.value, this))\r\n    walker = walker.prev\r\n  }\r\n  return res\r\n}\r\n\r\nYallist.prototype.reduce = function (fn, initial) {\r\n  var acc\r\n  var walker = this.head\r\n  if (arguments.length > 1) {\r\n    acc = initial\r\n  } else if (this.head) {\r\n    walker = this.head.next\r\n    acc = this.head.value\r\n  } else {\r\n    throw new TypeError('Reduce of empty list with no initial value')\r\n  }\r\n\r\n  for (var i = 0; walker !== null; i++) {\r\n    acc = fn(acc, walker.value, i)\r\n    walker = walker.next\r\n  }\r\n\r\n  return acc\r\n}\r\n\r\nYallist.prototype.reduceReverse = function (fn, initial) {\r\n  var acc\r\n  var walker = this.tail\r\n  if (arguments.length > 1) {\r\n    acc = initial\r\n  } else if (this.tail) {\r\n    walker = this.tail.prev\r\n    acc = this.tail.value\r\n  } else {\r\n    throw new TypeError('Reduce of empty list with no initial value')\r\n  }\r\n\r\n  for (var i = this.length - 1; walker !== null; i--) {\r\n    acc = fn(acc, walker.value, i)\r\n    walker = walker.prev\r\n  }\r\n\r\n  return acc\r\n}\r\n\r\nYallist.prototype.toArray = function () {\r\n  var arr = new Array(this.length)\r\n  for (var i = 0, walker = this.head; walker !== null; i++) {\r\n    arr[i] = walker.value\r\n    walker = walker.next\r\n  }\r\n  return arr\r\n}\r\n\r\nYallist.prototype.toArrayReverse = function () {\r\n  var arr = new Array(this.length)\r\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\r\n    arr[i] = walker.value\r\n    walker = walker.prev\r\n  }\r\n  return arr\r\n}\r\n\r\nYallist.prototype.slice = function (from, to) {\r\n  to = to || this.length\r\n  if (to < 0) {\r\n    to += this.length\r\n  }\r\n  from = from || 0\r\n  if (from < 0) {\r\n    from += this.length\r\n  }\r\n  var ret = new Yallist()\r\n  if (to < from || to < 0) {\r\n    return ret\r\n  }\r\n  if (from < 0) {\r\n    from = 0\r\n  }\r\n  if (to > this.length) {\r\n    to = this.length\r\n  }\r\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\r\n    walker = walker.next\r\n  }\r\n  for (; walker !== null && i < to; i++, walker = walker.next) {\r\n    ret.push(walker.value)\r\n  }\r\n  return ret\r\n}\r\n\r\nYallist.prototype.sliceReverse = function (from, to) {\r\n  to = to || this.length\r\n  if (to < 0) {\r\n    to += this.length\r\n  }\r\n  from = from || 0\r\n  if (from < 0) {\r\n    from += this.length\r\n  }\r\n  var ret = new Yallist()\r\n  if (to < from || to < 0) {\r\n    return ret\r\n  }\r\n  if (from < 0) {\r\n    from = 0\r\n  }\r\n  if (to > this.length) {\r\n    to = this.length\r\n  }\r\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\r\n    walker = walker.prev\r\n  }\r\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\r\n    ret.push(walker.value)\r\n  }\r\n  return ret\r\n}\r\n\r\nYallist.prototype.splice = function (start, deleteCount, ...nodes) {\r\n  if (start > this.length) {\r\n    start = this.length - 1\r\n  }\r\n  if (start < 0) {\r\n    start = this.length + start;\r\n  }\r\n\r\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\r\n    walker = walker.next\r\n  }\r\n\r\n  var ret = []\r\n  for (var i = 0; walker && i < deleteCount; i++) {\r\n    ret.push(walker.value)\r\n    walker = this.removeNode(walker)\r\n  }\r\n  if (walker === null) {\r\n    walker = this.tail\r\n  }\r\n\r\n  if (walker !== this.head && walker !== this.tail) {\r\n    walker = walker.prev\r\n  }\r\n\r\n  for (var i = 0; i < nodes.length; i++) {\r\n    walker = insert(this, walker, nodes[i])\r\n  }\r\n  return ret;\r\n}\r\n\r\nYallist.prototype.reverse = function () {\r\n  var head = this.head\r\n  var tail = this.tail\r\n  for (var walker = head; walker !== null; walker = walker.prev) {\r\n    var p = walker.prev\r\n    walker.prev = walker.next\r\n    walker.next = p\r\n  }\r\n  this.head = tail\r\n  this.tail = head\r\n  return this\r\n}\r\n\r\nfunction insert (self, node, value) {\r\n  var inserted = node === self.head ?\r\n    new Node(value, null, node, self) :\r\n    new Node(value, node, node.next, self)\r\n\r\n  if (inserted.next === null) {\r\n    self.tail = inserted\r\n  }\r\n  if (inserted.prev === null) {\r\n    self.head = inserted\r\n  }\r\n\r\n  self.length++\r\n\r\n  return inserted\r\n}\r\n\r\nfunction push (self, item) {\r\n  self.tail = new Node(item, self.tail, null, self)\r\n  if (!self.head) {\r\n    self.head = self.tail\r\n  }\r\n  self.length++\r\n}\r\n\r\nfunction unshift (self, item) {\r\n  self.head = new Node(item, null, self.head, self)\r\n  if (!self.tail) {\r\n    self.tail = self.head\r\n  }\r\n  self.length++\r\n}\r\n\r\nfunction Node (value, prev, next, list) {\r\n  if (!(this instanceof Node)) {\r\n    return new Node(value, prev, next, list)\r\n  }\r\n\r\n  this.list = list\r\n  this.value = value\r\n\r\n  if (prev) {\r\n    prev.next = this\r\n    this.prev = prev\r\n  } else {\r\n    this.prev = null\r\n  }\r\n\r\n  if (next) {\r\n    next.prev = this\r\n    this.next = next\r\n  } else {\r\n    this.next = null\r\n  }\r\n}\r\n\r\ntry {\r\n  // add if support for Symbol.iterator is present\r\n  require('./iterator.js')(Yallist)\r\n} catch (er) {}\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n\r\nimport * as path from 'path';\r\n\r\nimport { workspace, ExtensionContext } from 'vscode';\r\n\r\nimport {\r\n\tLanguageClient,\r\n\tLanguageClientOptions,\r\n\tServerOptions,\r\n\tTransportKind\r\n} from 'vscode-languageclient/node';\r\n\r\nexport function createLanguageClient(context: ExtensionContext) {\r\n\t// The server is implemented in node\r\n\tlet serverModule = context.asAbsolutePath(\r\n\t\tpath.join(\"server\", \"out\", \"server.js\")\r\n\t);\r\n\r\n\t// The debug options for the server\r\n\t// --inspect=6009: runs the server in Node\"s Inspector mode so VS Code can attach to the server for debugging\r\n\tlet debugOptions = { execArgv: [\"--nolazy\", \"--inspect=6009\"] };\r\n\r\n\t// If the extension is launched in debug mode then the debug server options are used\r\n\t// Otherwise the run options are used\r\n\tlet serverOptions: ServerOptions = {\r\n\t\trun: { module: serverModule, transport: TransportKind.ipc },\r\n\t\tdebug: {\r\n\t\t\tmodule: serverModule,\r\n\t\t\ttransport: TransportKind.ipc,\r\n\t\t\toptions: debugOptions\r\n\t\t}\r\n\t};\r\n\r\n\t// Options to control the language client\r\n\tlet clientOptions: LanguageClientOptions = {\r\n\t\t// Register the server for plain text documents\r\n\t\tdocumentSelector: [{ scheme: 'file', language: 'ws2812' }], // or just [\"ws2812\"] ??? \r\n\t\tinitializationOptions: {\r\n\t\t\tdataPaths: []\r\n\t\t\t//embeddedLanguages: { css: true, javascript: true }\r\n\t\t}\r\n\t};\r\n\r\n\t// Create the language client.\r\n\treturn new LanguageClient(\r\n\t\t\"ws2812\",\r\n\t\t\"WS2812 Server\",\r\n\t\tserverOptions,\r\n\t\tclientOptions\r\n\t);\r\n}","import { CancellationToken, Hover, MarkdownString, Position , ProviderResult, TextDocument} from 'vscode';\r\n\r\n//import * as CONSTANT from \"../constants\";\r\n\r\nconst snippets = require(\"../../../snippets/snippets.json\");\r\n\r\nexport class HoverProvider implements HoverProvider {\r\n\r\n\tprovideHover(document: TextDocument, position: Position, token: CancellationToken): ProviderResult<Hover> {\r\n\t\tconst range = document.getWordRangeAtPosition(position);\r\n\t\tconst word = document.getText(range);\r\n\t\tconst line = document.lineAt(position).text;\r\n\r\n\t\ttry {\r\n\r\n\t\t\tif (!snippets[word]){\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tconst snippet = snippets[word];\r\n\r\n\t\tif (!snippet.description.length) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tconst md = new MarkdownString();\r\n\t\t// md.appendCodeblock(word);\r\n\t\tmd.appendMarkdown(snippet.description);\r\n\r\n\t\tif (snippet.reference) {\r\n\t\t\tmd.appendMarkdown(`\\n\\r[WS2812 Reference](url)`);\r\n\t\t}\r\n\t\treturn new Hover(md);\r\n\t}\r\n\r\n}","import { CancellationToken, SignatureHelpProvider, MarkdownString, Position, TextDocument, SignatureHelp, ProviderResult, SignatureInformation, ParameterInformation} from 'vscode';\r\nimport { integer } from 'vscode-languageclient';\r\n\r\nconst snippets = require(\"../../../snippets/snippets.json\");\r\n\r\nexport class ws2812SignatureHelpProvider implements SignatureHelpProvider {\r\n\r\n    public provideSignatureHelp( document: TextDocument, position: Position, token: CancellationToken): ProviderResult<SignatureHelp> {\r\n\t\tvar line = document.lineAt(position).text.trim();\r\n\r\n        if (line.charAt(0)!='#'){ //check if the line is a comment\r\n            var pos = line.indexOf(\" \");\r\n            if (pos <=0) pos = line.length;\r\n            var funct_name: string = line.substr(0, pos).trim(); //get the function name\r\n            //var before_cursor: string = line.substr(0, position.character);\r\n            var arg_index: integer = 0;\r\n            var active_parameter: integer = 0;\r\n            var index: integer = 0;\r\n            var in_string: boolean = false;\r\n            var prev_char: string = \"\";\r\n            var char: string=\"\";\r\n            var argvalues: Array<string> = [];\r\n            var active_signature: integer=0;\r\n\r\n            //parse arguments\r\n            while (index < line.length){\r\n                char = line[index];\r\n                if (! in_string){\r\n                    if (char == '#') break; //exit on comments start\r\n                    switch (char){\r\n                        case '\"':\r\n                            in_string=true;\r\n                            break;\r\n                        case ',':\r\n                            if (index < position.character) active_parameter++;\r\n                            arg_index++;\r\n                            argvalues[arg_index]=\"\";\r\n                            break;\r\n                        case '(':\r\n                        case ')':\r\n                            break;\r\n                        default:\r\n                            argvalues[arg_index]+=char;\r\n                            break;\r\n                    }\r\n                }else{\r\n                    if (char=='\"' && prev_char!=\"\\\\\"){\r\n                         in_string=false;\r\n                    }else{\r\n                        if (char!=\"\\\\\" || prev_char==\"\\\\\"){\r\n                            argvalues[arg_index]+=char;\r\n                        }\r\n                    }\r\n                }\r\n                prev_char = char;\r\n                index++;\r\n            }\r\n\r\n            //trim all arguments\r\n            for (var i=0;i<argvalues.length-1;i++) argvalues[i]=argvalues[i].trim();\r\n\r\n            if (funct_name!=\"\"){\r\n\r\n                //determine the signature index\r\n                switch (funct_name){\r\n                    case 'setup':\r\n                        if (argvalues.length>=3 && argvalues[2]==\"99\"){ //virtual channel\r\n                            active_signature = 2;\r\n                        }else if (argvalues.length>=3 && parseInt(argvalues[2])>=12){ //SPI SK9822 channel\r\n                            active_signature = 1;\r\n                        }\r\n                        \r\n                        break;\r\n\r\n                }\r\n\r\n                const snippet = snippets[funct_name];\r\n                if (!snippet || !snippet.signatures.length || snippet.signatures.length==0) return null;\r\n\r\n                var signature = new SignatureHelp(); //https://vshaxe.github.io/vscode-extern/vscode/SignatureHelp.html\r\n\r\n                signature.activeParameter = active_parameter;\r\n                signature.activeSignature = active_signature;\r\n                signature.signatures = [];\r\n                if (snippet.signatures!=undefined){\r\n                    snippet.signatures.forEach(sig_info => {\r\n                        var signature_info =  new SignatureInformation (sig_info.label , new MarkdownString(sig_info.documentation, true) );\r\n                        signature.signatures.push(signature_info);\r\n                        signature_info.parameters = [];\r\n                        sig_info.parameters.forEach(param_info => {\r\n                            signature_info.parameters.push(new ParameterInformation(param_info.label, new MarkdownString(param_info.documentation, true)));\r\n                        });\r\n                    });\r\n                }\r\n                return signature;\r\n                \r\n                //https://vshaxe.github.io/vscode-extern/vscode/SignatureInformation.html\r\n                //new SignatureInformation (\"label:String\", \"initializes a new channel\") ]; \r\n\r\n                //https://vshaxe.github.io/vscode-extern/vscode/ParameterInformation.html\r\n                //signature.signatures[0].parameters = [new ParameterInformation(\"param 1\", \"doc param 1\"),\r\n                //                                    new ParameterInformation(\"param 2\", \"doc param 2\")];\r\n                //return signature;\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n}","module.exports = require(\"vscode\");","module.exports = require(\"child_process\");","module.exports = require(\"crypto\");","module.exports = require(\"fs\");","module.exports = require(\"net\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"util\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { commands, ConfigurationTarget, ExtensionContext, languages, window, workspace } from \"vscode\";\r\nimport { LanguageClient } from \"vscode-languageclient/node\";\r\n\r\nimport { createLanguageClient } from \"./client\";\r\nimport { HoverProvider } from \"./language/hover\";\r\nimport { ws2812SignatureHelpProvider } from \"./language/signature\";\r\n\r\nlet client: LanguageClient;\r\n\r\nexport function activate(context: ExtensionContext): void {\r\n\r\n\t//let { activeTextEditor } = window;\r\n\t\r\n\t// Reset\r\n\t//function reset() {\r\n\r\n\t//}\r\n\r\n\t//window.showInformationMessage(\"activated ws2812\");\r\n\r\n\t// Language document hover provider\r\n\tlanguages.registerHoverProvider(\"ws2812\", new HoverProvider());\r\n\tlanguages.registerSignatureHelpProvider(\"ws2812\", new ws2812SignatureHelpProvider(), \"(\", \" \", \",\");\r\n\t\r\n\t// Create the language client and start the client.\r\n\tclient = createLanguageClient(context);\r\n\tclient.start();\r\n}\r\n\r\nexport function deactivate(): Thenable<void> | undefined {\r\n\t// Stop the language client.\r\n\treturn client?.stop();\r\n}"],"names":["balanced","a","b","str","RegExp","maybeMatch","r","range","start","end","pre","slice","body","length","post","reg","m","match","begs","beg","left","right","result","ai","indexOf","bi","i","push","pop","module","exports","concatMap","substr","expand","split","join","escSlash","escOpen","escClose","escComma","escPeriod","escapeBraces","map","unescapeBraces","Math","random","numeric","parseInt","charCodeAt","parseCommaParts","parts","p","postParts","shift","apply","embrace","isPadded","el","test","lte","y","gte","isTop","expansions","n","isNumericSequence","isAlphaSequence","isSequence","isOptions","N","x","width","max","incr","abs","pad","some","c","String","fromCharCode","need","z","Array","j","k","expansion","xs","fn","res","isArray","Object","prototype","toString","call","Yallist","MAX","Symbol","LENGTH","LENGTH_CALCULATOR","ALLOW_STALE","MAX_AGE","DISPOSE","NO_DISPOSE_ON_SET","LRU_LIST","CACHE","UPDATE_AGE_ON_GET","naiveLength","get","self","key","doUse","node","hit","value","isStale","del","now","Date","unshiftNode","maxAge","diff","trim","walker","tail","prev","delete","removeNode","Entry","constructor","this","forEachStep","thisp","undefined","options","TypeError","Infinity","lc","stale","dispose","noDisposeOnSet","updateAgeOnGet","reset","mL","allowStale","mA","lengthCalculator","lC","forEach","itemCount","rforEach","head","next","keys","toArray","values","Map","dump","v","e","filter","h","dumpLru","set","len","has","item","unshift","peek","load","arr","l","expiresAt","prune","minimatch","Minimatch","path","sep","er","GLOBSTAR","plTypes","open","close","qmark","star","reSpecials","reduce","slashSplit","ext","t","pattern","nocomment","charAt","regexp","negate","comment","empty","make","braceExpand","nobrace","list","defaults","def","orig","debug","_made","parseNegate","globSet","console","error","globParts","s","si","parse","negateOffset","nonegate","isSub","noglobstar","stateChar","re","hasMagic","nocase","escaping","patternListStack","negativeLists","inClass","reClassStart","classStart","patternStart","dot","clearStateChar","noext","type","reStart","pl","reEnd","cs","substring","sp","SUBPARSE","replace","_","$1","$2","addPatternStart","nl","nlBefore","nlFirst","nlLast","nlAfter","openParensBefore","cleanAfter","dollar","flags","regExp","_glob","_src","makeRe","twoStar","ex","mm","f","nonull","partial","filename","file","matchBase","matchOne","flipNegate","fi","pi","fl","fr","pr","swallowee","toLowerCase","Error","ANY","Comparator","comp","parseOptions","loose","semver","operator","version","COMPARATORLOOSE","COMPARATOR","SemVer","cmp","intersects","includePrerelease","Range","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","raw","format","parseRange","first","isNullSet","isAny","comps","memoKey","cached","cache","hr","HYPHENRANGELOOSE","HYPHENRANGE","hyphenReplace","COMPARATORTRIM","comparatorTrimReplace","TILDETRIM","tildeTrimReplace","CARETTRIM","caretTrimReplace","compRe","rangeList","parseComparator","replaceGTE0","rangeMap","size","thisComparators","isSatisfiable","rangeComparators","every","thisComparator","rangeComparator","testSet","comparators","remainingComparators","testComparator","otherComparator","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","id","replaceTilde","TILDELOOSE","TILDE","M","ret","replaceCaret","CARETLOOSE","CARET","replaceXRange","XRANGELOOSE","XRANGE","gtlt","xM","xm","xp","anyX","STAR","GTE0PRE","GTE0","incPr","$0","from","fM","fm","fp","fpr","fb","to","tM","tm","tp","tpr","tb","prerelease","allowed","major","minor","patch","MAX_LENGTH","MAX_SAFE_INTEGER","compareIdentifiers","LOOSE","FULL","num","build","compare","other","compareMain","comparePre","compareBuild","inc","release","identifier","isNaN","eq","neq","gt","lt","op","rtl","COERCERTL","exec","index","lastIndex","COERCE","versionA","versionB","version1","version2","v1","v2","hasPre","prefix","defaultResult","parsed","sort","internalRe","src","tokens","SEMVER_SPEC_VERSION","rcompareIdentifiers","valid","clean","rcompare","compareLoose","rsort","coerce","satisfies","toComparators","maxSatisfying","minSatisfying","minVersion","validRange","outside","gtr","ltr","simplifyRange","subset","Number","MAX_SAFE_COMPONENT_LENGTH","process","env","NODE_DEBUG","args","anum","bnum","opts","R","createToken","name","isGlobal","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","LONETILDE","LONECARET","r1","r2","versions","maxSV","rangeObj","min","minSV","minver","setMin","comparator","compver","hilo","gtfn","ltefn","ltfn","ecomp","high","low","ranges","simplified","original","simpleSubset","sub","dom","eqSet","Set","gtltComp","higher","lower","hasDomLT","hasDomGT","higherGT","lowerLT","add","needDomLTPre","needDomGTPre","sawNonNull","OUTER","simpleSub","simpleDom","defineProperty","CancellationSenderStrategy","CancellationReceiverStrategy","ConnectionError","ConnectionErrors","LogTraceNotification","SetTraceNotification","TraceFormat","Trace","ProgressType","createMessageConnection","NullLogger","ConnectionOptions","ConnectionStrategy","WriteableStreamMessageWriter","AbstractMessageWriter","MessageWriter","ReadableStreamMessageReader","AbstractMessageReader","MessageReader","CancellationToken","CancellationTokenSource","Emitter","Event","Disposable","ParameterStructures","NotificationType9","NotificationType8","NotificationType7","NotificationType6","NotificationType5","NotificationType4","NotificationType3","NotificationType2","NotificationType1","NotificationType0","NotificationType","ErrorCodes","ResponseError","RequestType9","RequestType8","RequestType7","RequestType6","RequestType5","RequestType4","RequestType3","RequestType2","RequestType1","RequestType0","RequestType","RAL","CancellationStrategy","messages_1","enumerable","disposable_1","events_1","cancellation_1","messageReader_1","messageWriter_1","connection_1","ral_1","default","Is","None","freeze","isCancellationRequested","onCancellationRequested","Cancelled","is","candidate","boolean","shortcutEvent","callback","context","handle","timer","setTimeout","bind","clearTimeout","MutableToken","_isCancelled","cancel","_emitter","fire","event","token","_token","linkedMap_1","CancelNotification","ProgressNotification","StarRequestHandler","ConnectionState","func","warn","info","log","fromString","string","Off","Messages","Verbose","JSON","Text","code","message","super","setPrototypeOf","cancelUndispatched","Message","createCancellationTokenSource","sendCancellation","conn","sendNotification","cleanup","receiver","sender","cancellationStrategy","connectionStrategy","messageReader","messageWriter","_logger","logger","sequenceNumber","notificationSquenceNumber","unknownResponseSquenceNumber","starRequestHandler","requestHandlers","create","starNotificationHandler","notificationHandlers","progressHandlers","tracer","messageQueue","LinkedMap","responsePromises","requestTokens","trace","traceFormat","state","New","errorEmitter","closeEmitter","unhandledNotificationEmitter","unhandledProgressEmitter","disposeEmitter","createRequestQueueKey","_message","isListening","Listening","isClosed","Closed","isDisposed","Disposed","closeHandler","triggerMessageQueue","setImmediate","isRequestMessage","requestMessage","reply","resultOrError","method","startTime","jsonrpc","toJson","traceSendingResponse","write","replyError","data","params","stringify","logLSPMessage","traceReceivedRequest","element","requestHandler","handler","tokenKey","cancellationSource","handlerResult","numberOfParams","InvalidParams","parameterStructures","byName","byPosition","promise","then","InternalError","replySuccess","MethodNotFound","handleRequest","isNotificationMessage","notificationHandler","source","traceReceivedNotification","handleNotification","isResponseMessage","responseMessage","responsePromise","timerStart","traceReceivedResponse","reject","resolve","handleResponse","number","responseHandler","handleInvalidMessage","processMessageQueue","onClose","onError","toCancel","strategy","response","queue","addMessageToQueue","lspMessage","isLSPMessage","timestamp","throwIfClosedOrDisposed","undefinedToNull","param","nullToUndefined","isNamedParam","computeSingleParam","auto","computeMessageParams","connection","messageParams","paramStart","paramEnd","notificationMessage","traceSendingNotification","onNotification","onProgress","_type","sendProgress","onUnhandledProgress","sendRequest","throwIfNotListening","last","disposable","Promise","traceSendingRequest","MessageWriteError","onRequest","_value","_tracer","sendNotificationOrTraceOptions","_sendNotification","_traceFormat","onUnhandledNotification","onDispose","listen","AlreadyListening","throwIfListening","inspect","verbose","_disposable","CallbackList","bucket","_callbacks","_contexts","remove","foundCallbackWithDifferentContext","splice","invoke","callbacks","contexts","isEmpty","_options","_event","listener","thisArgs","disposables","onFirstListenerAdd","_noop","onLastListenerRemove","array","stringArray","elem","Touch","LRUCache","First","AsOld","Last","AsNew","toStringTag","_map","_head","_tail","_size","_state","clear","_a","touch","previous","addItemLast","addItemFirst","removeItem","callbackfn","thisArg","current","iterator","done","entries","trimOld","newSize","currentSize","toJSON","fromJSON","limit","ratio","_limit","_ratio","checkTrim","round","AbstractMessageBuffer","encoding","_encoding","_chunks","_totalLength","append","chunk","toAppend","byteLength","tryReadHeaders","chunkIndex","offset","chunkBytesRead","row","buffer","_read","headers","header","tryReadBody","numberOfBytes","byteCount","emptyBuffer","asNative","allocNative","resultOffset","chunkPart","ResolvedMessageReaderOptions","onPartialMessage","partialMessageEmitter","fireError","asError","fireClose","firePartialMessage","fromOptions","charset","contentDecoder","contentDecoders","contentTypeDecoder","contentTypeDecoders","decoder","applicationJson","readable","messageBuffer","_partialMessageTimeout","nextMessageLength","messageToken","partialMessageTimeout","timeout","partialMessageTimer","onData","contentLength","setPartialMessageTimer","clearPartialMessageTimer","decode","msg","waitingTime","semaphore_1","ResolvedMessageWriterOptions","count","_b","contentTypeEncoder","encoder","contentEncoder","writable","errorCount","writeSemaphore","Semaphore","async","lock","encode","doWrite","handleError","AbstractMessageSignature","ParseError","InvalidRequest","jsonrpcReservedErrorRangeStart","serverErrorStart","MessageReadError","ServerNotInitialized","UnknownErrorCode","jsonrpcReservedErrorRangeEnd","serverErrorEnd","kind","static","_parameterStructures","_ral","install","ral","capacity","_capacity","_active","_waiting","thunk","runNext","active","doRunNext","err","__createBinding","o","k2","__exportStar","hasOwnProperty","createServerSocketTransport","createClientSocketTransport","createServerPipeTransport","createClientPipeTransport","generateRandomPipeName","StreamMessageWriter","StreamMessageReader","SocketMessageWriter","SocketMessageReader","IPCMessageWriter","IPCMessageReader","ril_1","api_1","os","crypto_1","net_1","eventEmitter","on","off","send","socket","stream","asReadableStream","asWritableStream","destroy","readble","XDG_RUNTIME_DIR","safeIpcPathLengths","randomSuffix","randomBytes","platform","tmpdir","pipeName","connectResolve","connected","_reject","server","createServer","removeListener","onConnected","createConnection","port","input","output","reader","read","addListener","isReadableStream","writer","isWritableStream","util_1","messageBuffer_1","MessageBuffer","Buffer","TextDecoder","allocUnsafe","ReadableStreamWrapper","onEnd","WritableStreamWrapper","_ril","ms","clearImmediate","RIL","CallHierarchyFeature","vscode_1","vscode_languageserver_protocol_1","client_1","ensure","target","CallHierarchyProvider","client","middleware","clientOptions","prepareCallHierarchy","document","position","code2ProtocolConverter","asTextDocumentPositionParams","CallHierarchyPrepareRequest","protocol2CodeConverter","asCallHierarchyItems","handleFailedRequest","provideCallHierarchyIncomingCalls","asCallHierarchyItem","CallHierarchyIncomingCallsRequest","asCallHierarchyIncomingCalls","provideCallHierarchyOutgoingCalls","CallHierarchyOutgoingCallsRequest","asCallHierarchyOutgoingCalls","TextDocumentFeature","fillClientCapabilities","cap","dynamicRegistration","initialize","capabilities","documentSelector","getRegistration","callHierarchyProvider","register","registerOptions","registerLanguageProvider","_client","provider","languages","registerCallHierarchyProvider","BaseLanguageClient","MessageTransports","State","RevealOutputChannelOn","CloseAction","ErrorAction","configuration_1","c2p","p2c","async_1","UUID","progressPart_1","ConsoleLogger","ClientState","DefaultErrorHandler","maxRestartCount","restarts","_error","Continue","Shutdown","closed","Restart","window","showErrorMessage","DoNotRestart","SupportedSymbolKinds","SymbolKind","File","Module","Namespace","Package","Class","Method","Property","Field","Constructor","Enum","Interface","Function","Variable","Constant","Boolean","Key","Null","EnumMember","Struct","Operator","TypeParameter","SupportedCompletionItemKinds","CompletionItemKind","Unit","Value","Keyword","Snippet","Color","Reference","Folder","SupportedSymbolTags","SymbolTag","Deprecated","FileFormattingOptions","DynamicFeature","fromConfiguration","filesConfig","workspace","getConfiguration","trimTrailingWhitespace","trimFinalNewlines","insertFinalNewline","unregister","registrationType","DocumentNotifications","_middleware","_createParams","_selectorFilter","_selectors","selectors","textDocument","selector","_listener","notificationSent","_data","getProvider","DidOpenTextDocumentFeature","_syncedDocuments","onDidOpenTextDocument","DidOpenTextDocumentNotification","didOpen","asOpenTextDocumentParams","textDocumentFilter","textDocumentSyncOptions","resolvedTextDocumentSync","openClose","generateUuid","textDocuments","uri","DidCloseTextDocumentFeature","onDidCloseTextDocument","DidCloseTextDocumentNotification","didClose","asCloseTextDocumentParams","DidChangeTextDocumentFeature","_changeData","_forcingDelivery","DidChangeTextDocumentNotification","change","TextDocumentSyncKind","assign","syncKind","onDidChangeTextDocument","contentChanges","changeData","Incremental","asChangeTextDocumentParams","didChange","Full","_changeDelayer","forceDelivery","delayer","trigger","Delayer","WillSaveFeature","onWillSaveTextDocument","WillSaveTextDocumentNotification","willSave","willSaveEvent","asWillSaveTextDocumentParams","WillSaveWaitUntilFeature","WillSaveTextDocumentWaitUntilRequest","willSaveWaitUntil","edits","vEdits","asTextEdits","waitUntil","DidSaveTextDocumentFeature","onDidSaveTextDocument","DidSaveTextDocumentNotification","didSave","asSaveTextDocumentParams","_includeText","save","saveOptions","includeText","FileSystemWatcherFeature","_notifyFileEvent","_watchers","DidChangeWatchedFilesNotification","_capabilities","_documentSelector","watchers","watcher","globPattern","watchCreate","watchChange","watchDelete","WatchKind","Create","Change","Delete","fileSystemWatcher","createFileSystemWatcher","hookListeners","registerRaw","fileSystemWatchers","listeners","onDidCreate","resource","asUri","FileChangeType","Created","onDidChange","Changed","onDidDelete","Deleted","_registrationType","_registrations","registration","capability","TextDocumentRegistrationOptions","StaticRegistrationOptions","hasId","WorkDoneProgressOptions","getRegistrationOptions","getAllProviders","CompletionItemFeature","CompletionRequest","completion","contextSupport","completionItem","snippetSupport","commitCharactersSupport","documentationFormat","MarkupKind","Markdown","PlainText","deprecatedSupport","preselectSupport","tagSupport","valueSet","CompletionItemTag","insertReplaceSupport","resolveSupport","properties","insertTextModeSupport","InsertTextMode","asIs","adjustIndentation","completionItemKind","completionProvider","triggerCharacters","provideCompletionItems","asCompletionParams","asCompletionResult","provideCompletionItem","resolveCompletionItem","resolveProvider","CompletionResolveRequest","asCompletionItem","registerCompletionItemProvider","HoverFeature","HoverRequest","hoverCapability","contentFormat","hoverProvider","provideHover","asHover","registerHoverProvider","SignatureHelpFeature","SignatureHelpRequest","config","signatureInformation","parameterInformation","labelOffsetSupport","activeParameterSupport","signatureHelpProvider","provideSignatureHelp","providerSignatureHelp","asSignatureHelpParams","asSignatureHelp","retriggerCharacters","registerSignatureHelpProvider","metaData","DefinitionFeature","DefinitionRequest","definitionSupport","linkSupport","definitionProvider","provideDefinition","asDefinitionResult","registerDefinitionProvider","ReferencesFeature","ReferencesRequest","referencesProvider","provideReferences","_providerReferences","asReferenceParams","asReferences","registerReferenceProvider","DocumentHighlightFeature","DocumentHighlightRequest","documentHighlightProvider","provideDocumentHighlights","_provideDocumentHighlights","asDocumentHighlights","registerDocumentHighlightProvider","DocumentSymbolFeature","DocumentSymbolRequest","symbolCapabilities","symbolKind","hierarchicalDocumentSymbolSupport","labelSupport","documentSymbolProvider","provideDocumentSymbols","_provideDocumentSymbols","asDocumentSymbolParams","DocumentSymbol","asDocumentSymbols","asSymbolInformations","label","registerDocumentSymbolProvider","WorkspaceSymbolFeature","getProviders","WorkspaceSymbolRequest","workspaceSymbolProvider","workDoneProgress","provideWorkspaceSymbols","query","registerWorkspaceSymbolProvider","CodeActionFeature","CodeActionRequest","isPreferredSupport","disabledSupport","dataSupport","codeActionLiteralSupport","codeActionKind","CodeActionKind","Empty","QuickFix","Refactor","RefactorExtract","RefactorInline","RefactorRewrite","Source","SourceOrganizeImports","honorsChangeAnnotations","codeActionProvider","provideCodeActions","_provideCodeActions","asTextDocumentIdentifier","asRange","asCodeActionContext","Command","asCommand","asCodeAction","resolveCodeAction","CodeActionResolveRequest","registerCodeActionsProvider","codeActionKinds","providedCodeActionKinds","asCodeActionKinds","CodeLensFeature","CodeLensRequest","refreshSupport","CodeLensRefreshRequest","onDidChangeCodeLensEmitter","codeLensProvider","EventEmitter","onDidChangeCodeLenses","provideCodeLenses","asCodeLensParams","asCodeLenses","resolveCodeLens","codeLens","CodeLensResolveRequest","asCodeLens","registerCodeLensProvider","DocumentFormattingFeature","DocumentFormattingRequest","documentFormattingProvider","provideDocumentFormattingEdits","asFormattingOptions","registerDocumentFormattingEditProvider","DocumentRangeFormattingFeature","DocumentRangeFormattingRequest","documentRangeFormattingProvider","provideDocumentRangeFormattingEdits","registerDocumentRangeFormattingEditProvider","DocumentOnTypeFormattingFeature","DocumentOnTypeFormattingRequest","documentOnTypeFormattingProvider","provideOnTypeFormattingEdits","ch","asPosition","moreTriggerCharacter","registerOnTypeFormattingEditProvider","firstTriggerCharacter","RenameFeature","RenameRequest","rename","prepareSupport","prepareSupportDefaultBehavior","PrepareSupportDefaultBehavior","Identifier","renameProvider","prepareProvider","provideRenameEdits","newName","asWorkspaceEdit","prepareRename","PrepareRenameRequest","isDefaultBehavior","defaultBehavior","placeholder","registerRenameProvider","DocumentLinkFeature","DocumentLinkRequest","documentLinkCapabilities","tooltipSupport","documentLinkProvider","provideDocumentLinks","asDocumentLinkParams","asDocumentLinks","resolveDocumentLink","link","DocumentLinkResolveRequest","asDocumentLink","registerDocumentLinkProvider","ConfigurationFeature","_listeners","DidChangeConfigurationNotification","section","synchronize","configurationSection","onDidChangeConfiguration","sections","affectsConfiguration","didChangeConfiguration","settings","extractSettingsInformation","getMiddleware","ensurePath","obj","workspaceFolder","toJSONObject","ExecuteCommandFeature","_commands","ExecuteCommandRequest","executeCommandProvider","executeCommand","command","arguments","commands","registerCommand","OnReady","_resolve","_used","isUsed","_features","_dynamicFeatures","_id","_name","markdown","isTrusted","_clientOptions","diagnosticCollectionName","outputChannelName","revealOutputChannelOn","stdioEncoding","initializationOptions","initializationFailedHandler","progressOnInitialization","errorHandler","createDefaultErrorHandler","connectionOptions","uriConverters","Initial","_connectionPromise","_resolvedConnection","_initializeResult","outputChannel","_outputChannel","_disposeOutputChannel","_traceOutputChannel","traceOutputChannel","_providers","_diagnostics","_fileEvents","_fileEventDelayer","_onReady","_onReadyCallbacks","_onStop","_telemetryEmitter","_stateChangeEmitter","_trace","messageOrDataObject","logTrace","logObjectTrace","_c2p","createConverter","code2Protocol","_p2c","protocol2Code","registerBuiltinFeatures","oldState","getPublicState","newState","Running","Starting","Stopped","initializeResult","isConnectionActive","forceDocumentSync","WorkDoneProgress","handleWorkDoneProgress","onTelemetry","onDidChangeState","createOutputChannel","diagnostics","onReady","resolveConnection","data2String","responseError","stack","showNotification","appendLine","toLocaleTimeString","Info","showNotificationMessage","Warn","showInformationMessage","show","needsStart","Stopping","needsStop","createDiagnosticCollection","onLogMessage","MessageType","Warning","onShowMessage","showWarningMessage","ShowMessageRequest","messageFunc","actions","ShowDocumentRequest","showDocument","external","success","openExternal","selection","takeFocus","preserveFocus","showTextDocument","StartFailed","stop","refreshTrace","initOption","rootPath","fsPath","_clientGetRootPath","initParams","processId","clientInfo","appName","locale","getLocale","rootUri","Uri","computeClientCapabilities","workspaceFolders","fillInitializeParams","part","ProgressPart","workDoneToken","doInitialize","textDocumentSync","onDiagnostics","handleDiagnostics","RegistrationRequest","handleRegistrationRequest","UnregistrationRequest","handleUnregistrationRequest","ApplyWorkspaceEditRequest","handleApplyWorkspaceEdit","InitializedNotification","hookFileEvents","hookConfigurationChanged","initializeFeatures","retry","title","folders","folder","scheme","cleanUp","shutdown","exit","cleanUpChannel","channel","feature","notifyFileEvent","didChangeWatchedFile","didChangeWatchedFiles","changes","workSpaceMiddleware","_didChangeTextDocumentFeature","asDiagnostics","setDiagnostics","handleConnectionError","handleConnectionClosed","createMessageTransports","transports","createProtocolConnection","defaultTraceOptions","InitializeRequest","ShutdownRequest","ExitNotification","LogMessageNotification","ShowMessageNotification","TelemetryEventNotification","didOpenTextDocument","didChangeTextDocument","didCloseTextDocument","didSaveTextDocument","PublishDiagnosticsNotification","action","traceConfig","_connection","fileEvents","registerFeatures","features","registerFeature","getFeature","request","applyEdit","workspaceEdit","documentChanges","resourceOperations","ResourceOperationKind","Rename","failureHandling","FailureHandlingKind","TextOnlyTransactional","normalizesLineEndings","changeAnnotationSupport","groupsOnLabel","relatedInformation","versionSupport","DiagnosticTag","Unnecessary","codeDescriptionSupport","windowCapabilities","messageActionItem","additionalPropertiesSupport","support","generalCapabilities","regularExpressions","engine","parser","registrations","unregistration","unregisterations","edit","openTextDocuments","versionMismatch","TextDocumentEdit","applied","asPromise","defaultValue","LSPErrorCodes","RequestCancelled","makeCancelError","ContentModified","Canceled","proto","protocolCompletionItem_1","protocolCodeLens_1","protocolDocumentLink_1","protocolCodeAction_1","protocolDiagnostic_1","protocolCallHierarchyItem_1","InsertReplaceRange","inserting","replacing","uriConverter","_uriConverter","asTextDocumentSaveReason","reason","TextDocumentSaveReason","Manual","AfterDelay","FocusOut","asCompletionTriggerKind","triggerKind","CompletionTriggerKind","TriggerCharacter","TriggerForIncompleteCompletions","Invoked","asSignatureHelpTriggerKind","SignatureHelpTriggerKind","Invoke","ContentChange","asParameterInformation","asSignatureInformation","parameters","asWorkerPosition","line","character","asLocation","Location","asDiagnosticSeverity","DiagnosticSeverity","Information","Hint","asDiagnosticTag","tag","asRelatedInformation","location","asDiagnostic","Diagnostic","protocolDiagnostic","ProtocolDiagnostic","asDiagnosticCode","DiagnosticCode","hasDiagnosticCode","codeDescription","href","severity","tags","converted","asDiagnosticTags","items","asCompletionItemTag","asTextEdit","newText","asSymbolKind","asSymbolTag","asSymbolTags","asVersionedTextDocumentIdentifier","languageId","text","getText","arg","isTextDocument","isTextDocumentChangeEvent","rangeLength","includeContent","asDidCreateFilesParams","files","fileUri","asDidRenameFilesParams","oldUri","newUri","asDidDeleteFilesParams","asWillCreateFilesParams","asWillRenameFilesParams","asWillDeleteFilesParams","triggerCharacter","isRetrigger","activeSignatureHelp","signatures","activeSignature","activeParameter","asPositions","protocolItem","detail","documentation","asDocumentation","filterText","InsertTextFormat","textEdit","insertText","SnippetString","insertTextFormat","fromEdit","InsertReplaceEdit","asCompletionTextEdit","fillPrimaryInsertText","originalItemKind","sortText","additionalTextEdits","commitCharacters","preselect","asCompletionItemTags","deprecated","insertTextMode","keepWhitespace","includeDeclaration","CodeAction","asCodeActionKind","isPreferred","disabled","only","CodeActionContext","CodeLens","fileOptions","tabSize","insertSpaces","DocumentLink","tooltip","selectionRange","ColorProviderFeature","DocumentColorRequest","colorProvider","provideColorPresentations","color","requestParams","ColorPresentationRequest","asColorPresentations","provideDocumentColors","asColorInformations","registerColorProvider","asColor","red","green","blue","alpha","colorInformation","ci","ColorInformation","colorPresentations","cp","presentation","ColorPresentation","ProposedFeatures","CommonLanguageClient","colorProvider_1","implementation_1","typeDefinition_1","workspaceFolders_1","foldingRange_1","declaration_1","selectionRange_1","progress_1","callHierarchy_1","semanticTokens_1","fileOperations_1","linkedEditingRange_1","registerProposedFeatures","createAll","TypeDefinitionFeature","ImplementationFeature","WorkspaceFoldersFeature","FoldingRangeFeature","DeclarationFeature","SelectionRangeFeature","ProgressFeature","SemanticTokensFeature","LinkedEditingFeature","DidCreateFilesFeature","DidRenameFilesFeature","DidDeleteFilesFeature","WillCreateFilesFeature","WillRenameFilesFeature","WillDeleteFilesFeature","configuration","ConfigurationRequest","scopeUri","lastIndexOf","DeclarationRequest","declarationSupport","declarationProvider","provideDeclaration","asDeclarationResult","registerDeclarationProvider","FileOperationFeature","clientCapability","serverCapability","_filters","_clientCapability","_serverCapability","fileOperations","filters","minimatchFilter","matcher","glob","asMinimatchOptions","matches","prop","fileMatches","all","fileType","getFileType","FileType","FileOperationPatternKind","Directory","fs","stat","ignoreCase","NotificationFileOperationFeature","notificationType","accessUri","createParams","_notificationType","_accessUri","originalEvent","filteredEvent","doSend","onDidCreateFiles","DidCreateFilesNotification","didCreateFiles","onDidRenameFiles","DidRenameFilesNotification","didRenameFiles","onDidDeleteFiles","DidDeleteFilesNotification","didDeleteFiles","RequestFileOperationFeature","requestType","_requestType","onWillCreateFiles","WillCreateFilesRequest","willCreateFiles","onWillRenameFiles","WillRenameFilesRequest","willRenameFiles","onWillDeleteFiles","WillDeleteFilesRequest","willDeleteFiles","FoldingRangeRequest","rangeLimit","lineFoldingOnly","foldingRangeProvider","provideFoldingRanges","asFoldingRanges","registerFoldingRangeProvider","FoldingRangeKind","Comment","Imports","Region","foldingRanges","FoldingRange","startLine","endLine","asFoldingRangeKind","ImplementationRequest","implementationSupport","implementationProvider","provideImplementation","registerImplementationProvider","LinkedEditingRangeRequest","linkedEditingRangeProvider","provideLinkedEditingRanges","provideLinkedEditing","asLinkedEditingRanges","provideLinkedEditingRange","registerLinkedEditingRangeProvider","activeParts","deleteHandler","WorkDoneProgressCreateRequest","_reported","begin","report","withProgress","ProgressLocation","Window","cancellable","progress","cancellationToken","_progress","_infinite","percentage","_cancellationToken","WorkDoneProgressCancelNotification","delta","increment","ProtocolCallHierarchyItem","CallHierarchyItem","vscode","ProtocolCodeAction","ProtocolCodeLens","ProtocolCompletionItem","CompletionItem","ls","CodeBlock","language","trustMarkdown","diagnostic","CodeDescription","asDiagnosticRelatedInformation","information","DiagnosticRelatedInformation","Position","asRanges","asMarkdownString","MarkdownString","asCompletionRange","asCompletionInsertText","itemKind","insert","TextEdit","asSignatureInformations","SignatureInformation","asParameterInformations","ParameterInformation","asLocationLink","targetUri","targetRange","originSelectionRange","targetSelectionRange","asLocationResult","LocationLink","asDocumentHighlight","DocumentHighlight","asDocumentHighlightKind","DocumentHighlightKind","Read","Write","asSymbolInformation","SymbolInformation","fillTags","containerName","asDocumentSymbol","children","child","includes","concat","kindMapping","sharedMetadata","changeAnnotations","asWorkspaceEditEntryMetadata","asMetadata","annotation","WorkspaceEdit","CreateFile","createFile","annotationId","RenameFile","renameFile","DeleteFile","deleteFile","AnnotatedTextEdit","needsConfirmation","description","asColorInformation","asColorPresentation","asFoldingRange","asSelectionRange","SelectionRange","parent","asCallHierarchyIncomingCall","CallHierarchyIncomingCall","fromRanges","asCallHierarchyOutgoingCall","CallHierarchyOutgoingCall","asSemanticTokensEdit","SemanticTokensEdit","deleteCount","Uint32Array","hover","Hover","appendCodeblock","appendMarkdown","appendText","asHoverContent","contents","CompletionList","isIncomplete","SignatureHelp","asCommands","asSelectionRanges","selectionRanges","asSemanticTokensLegend","asSemanticTokens","SemanticTokens","resultId","asSemanticTokensEdits","SemanticTokensEdits","LinkedEditingRanges","asRegularExpression","wordPattern","ProtocolDocumentLink","SelectionRangeRequest","selectionRangeProvider","provideSelectionRanges","positions","registerSelectionRangeProvider","SemanticTokensRegistrationType","tokenTypes","SemanticTokenTypes","namespace","class","enum","interface","struct","typeParameter","parameter","variable","property","enumMember","function","macro","keyword","modifier","tokenModifiers","SemanticTokenModifiers","declaration","definition","readonly","abstract","modification","defaultLibrary","formats","TokenFormat","Relative","requests","full","multilineTokenSupport","overlappingTokenSupport","SemanticTokensRefreshRequest","onDidChangeSemanticTokensEmitter","semanticTokensProvider","fullProvider","hasEditProvider","documentProvider","onDidChangeSemanticTokens","provideDocumentSemanticTokens","SemanticTokensRequest","provideDocumentSemanticTokensEdits","previousResultId","SemanticTokensDeltaRequest","rangeProvider","provideDocumentRangeSemanticTokens","SemanticTokensRangeRequest","legend","registerDocumentSemanticTokensProvider","registerDocumentRangeSemanticTokensProvider","TypeDefinitionRequest","typeDefinitionSupport","typeDefinitionProvider","provideTypeDefinition","registerTypeDefinitionProvider","defaultDelay","completionPromise","onSuccess","task","delay","cancelTimeout","isTriggered","thenable","typedArray","check","resolved","isUUID","v4","ValueUUID","asHex","equals","V4UUID","_randomHex","_oneOf","_timeHighBits","floor","_chars","_UUIDPattern","arrayDiff","access","DidChangeWorkspaceFoldersNotification","initializeWithFolders","asProtocol","currentWorkspaceFolders","_initialFolders","WorkspaceFoldersRequest","sendInitialEvent","removed","added","doSendEvent","addedFolders","removedFolders","onDidChangeWorkspaceFolders","didChangeWorkspaceFolders","SettingMonitor","LanguageClient","TransportKind","commonClient_1","processes_1","node_1","Executable","Transport","NodeModule","StreamInfo","ChildProcessInfo","isSocket","detached","arg1","arg2","arg3","arg4","arg5","serverOptions","forceDebug","_serverOptions","_forceDebug","checkVersion","codeVersion","_serverProcess","toCheck","_isDetached","checkProcessDied","childProcess","kill","pid","terminate","getEnvironment","fork","debugStartWith","debugEquals","assertStdio","stdin","stdout","stderr","json","runDebug","run","execArgv","startsWith","startedInDebugMode","_getServerWorkingDir","serverWorkingDir","transport","stdio","runtime","ipc","pipe","cwd","silent","protocol","execOptions","_getRuntimePath","serverProcess","spawn","serverWorkingDirectory","isAbsolute","mainRootPath","_mainGetRootPath","existsSync","lstat","stats","isDirectory","envValue","_setting","primary","rest","enabled","path_1","isWindows","isMacintosh","isLinux","execFileSync","cmd","__dirname","spawnSync","lspReservedErrorRangeStart","lspReservedErrorRangeEnd","vscode_jsonrpc_1","ProtocolNotificationType","ProtocolNotificationType0","ProtocolRequestType","ProtocolRequestType0","RegistrationType","TextDocumentContentChangeEvent","InitializeError","DocumentSelector","DocumentFilter","MonikerRequest","MonikerKind","UniquenessLevel","protocol_implementation_1","protocol_typeDefinition_1","protocol_workspaceFolders_1","protocol_configuration_1","protocol_colorProvider_1","protocol_foldingRange_1","protocol_declaration_1","protocol_selectionRange_1","protocol_progress_1","protocol_callHierarchy_1","protocol_semanticTokens_1","protocol_showDocument_1","protocol_linkedEditingRange_1","protocol_fileOperations_1","protocol_moniker_1","Abort","Transactional","Undo","objectLiteral","hasWorkDoneProgress","unknownProtocolVersion","Log","isIncremental","isFull","integer","uinteger","ChangeAnnotation","ChangeAnnotationIdentifier","MIN_VALUE","MAX_VALUE","one","two","three","four","defined","numberRange","startCharacter","endCharacter","_i","OptionalVersionedTextDocumentIdentifier","overwrite","ignoreIfExists","recursive","ignoreIfNotExists","TextDocumentIdentifier","VersionedTextDocumentIdentifier","TextDocumentItem","MarkupContent","MarkedString","FormattingOptions","TextEditChangeImpl","assertChangeAnnotations","manage","ChangeAnnotations","annotations","_annotations","_counter","configurable","idOrAnnotation","nextId","WorkspaceChange","_this","_textEditChanges","_workspaceEdit","_changeAnnotations","textEditChange","initDocumentChanges","getTextEditChange","textDocumentEdit","initChanges","optionsOrAnnotation","operation","fromPlainText","plainText","SourceFixAll","kindOrCommandOrEdit","checkKind","TextDocument","EOL","mergeSort","leftIdx","rightIdx","content","FullTextDocument","lineCount","positionAt","offsetAt","applyEdits","sortedEdits","lastModifiedOffset","startOffset","endOffset","_uri","_languageId","_version","_content","_lineOffsets","update","getLineOffsets","lineOffsets","isLineStart","mid","lineOffset","nextLineOffset","Node","pushNode","forEachReverse","getReverse","mapReverse","initial","acc","reduceReverse","toArrayReverse","sliceReverse","nodes","inserted","reverse","serverModule","asAbsolutePath","dataPaths","snippets","getWordRangeAtPosition","word","lineAt","snippet","md","reference","pos","funct_name","arg_index","active_parameter","in_string","prev_char","char","argvalues","active_signature","signature","sig_info","signature_info","param_info","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","d","HoverProvider","ws2812SignatureHelpProvider","createLanguageClient"],"sourceRoot":""}